var _global="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:this;function bom(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}function download(e,t,n){var i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){saveAs(i.response,t,n)},i.onerror=function(){console.error("could not download file")},i.send()}function corsEnabled(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function click(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var saveAs=_global.saveAs||("object"!=typeof window||window!==_global?function(){}:"download"in HTMLAnchorElement.prototype?function(e,t,n){var i=_global.URL||_global.webkitURL,r=document.createElement("a");t=t||e.name||"download",r.download=t,r.rel="noopener","string"==typeof e?(r.href=e,r.origin!==location.origin?corsEnabled(r.href)?download(e,t,n):click(r,r.target="_blank"):click(r)):(r.href=i.createObjectURL(e),setTimeout((function(){i.revokeObjectURL(r.href)}),4e4),setTimeout((function(){click(r)}),0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(corsEnabled(e))download(e,t,n);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout((function(){click(i)}))}else navigator.msSaveOrOpenBlob(bom(e,n),t)}:function(e,t,n,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return download(e,t,n);var r="application/octet-stream"===e.type,a=/constructor/i.test(_global.HTMLElement)||_global.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||r&&a)&&"undefined"!=typeof FileReader){var s=new FileReader;s.onloadend=function(){var e=s.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},s.readAsDataURL(e)}else{var l=_global.URL||_global.webkitURL,d=l.createObjectURL(e);i?i.location=d:location.href=d,i=null,setTimeout((function(){l.revokeObjectURL(d)}),4e4)}});_global.saveAs=saveAs.saveAs=saveAs,"undefined"!=typeof module&&(module.exports=saveAs),function(e){var t,n,i=i||function(e){function t(){}var n={},i=n.lib={},r=i.Base={extend:function(e){t.prototype=this;var n=new t;return e&&n.mixIn(e),n.hasOwnProperty("init")||(n.init=function(){n.$super.init.apply(this,arguments)}),(n.init.prototype=n).$super=this,n},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},a=i.WordArray=r.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||s).stringify(this)},concat:function(e){var t=this.words,n=e.words,i=this.sigBytes;if(e=e.sigBytes,this.clamp(),i%4)for(var r=0;r<e;r++)t[i+r>>>2]|=(n[r>>>2]>>>24-r%4*8&255)<<24-(i+r)%4*8;else if(65535<n.length)for(r=0;r<e;r+=4)t[i+r>>>2]=n[r>>>2];else t.push.apply(t,n);return this.sigBytes+=e,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=r.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var n=[],i=0;i<t;i+=4)n.push(4294967296*e.random()|0);return new a.init(n,t)}}),o=n.enc={},s=o.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++){var r=t[i>>>2]>>>24-i%4*8&255;n.push((r>>>4).toString(16)),n.push((15&r).toString(16))}return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i+=2)n[i>>>3]|=parseInt(e.substr(i,2),16)<<24-i%8*4;return new a.init(n,t/2)}},l=o.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var n=[],i=0;i<e;i++)n.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return n.join("")},parse:function(e){for(var t=e.length,n=[],i=0;i<t;i++)n[i>>>2]|=(255&e.charCodeAt(i))<<24-i%4*8;return new a.init(n,t)}},d=o.Utf8={stringify:function(e){try{return decodeURIComponent(escape(l.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return l.parse(unescape(encodeURIComponent(e)))}},u=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=d.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n=this._data,i=n.words,r=n.sigBytes,o=this.blockSize,s=r/(4*o);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,r=e.min(4*t,r),t){for(var l=0;l<t;l+=o)this._doProcessBlock(i,l);l=i.splice(0,t),n.sigBytes-=r}return new a.init(l,r)},clone:function(){var e=r.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});i.Hasher=u.extend({cfg:r.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new c.HMAC.init(e,n).finalize(t)}}});var c=n.algo={};return n}(Math);!function(e){function t(e){return 4294967296*(e-(0|e))|0}for(var n=i,r=(o=n.lib).WordArray,a=o.Hasher,o=n.algo,s=[],l=[],d=2,u=0;u<64;){var c;e:{c=d;for(var h=e.sqrt(c),f=2;f<=h;f++)if(!(c%f)){c=!1;break e}c=!0}c&&(u<8&&(s[u]=t(e.pow(d,.5))),l[u]=t(e.pow(d,1/3)),u++),d++}var g=[];o=o.SHA256=a.extend({_doReset:function(){this._hash=new r.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,i=n[0],r=n[1],a=n[2],o=n[3],s=n[4],d=n[5],u=n[6],c=n[7],h=0;h<64;h++){if(h<16)g[h]=0|e[t+h];else{var f=g[h-15],v=g[h-2];g[h]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+g[h-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+g[h-16]}f=c+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&d^~s&u)+l[h]+g[h],v=((i<<30|i>>>2)^(i<<19|i>>>13)^(i<<10|i>>>22))+(i&r^i&a^r&a),c=u,u=d,d=s,s=o+f|0,o=a,a=r,r=i,i=f+v|0}n[0]=n[0]+i|0,n[1]=n[1]+r|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+d|0,n[6]=n[6]+u|0,n[7]=n[7]+c|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,r=8*t.sigBytes;return n[r>>>5]|=128<<24-r%32,n[14+(64+r>>>9<<4)]=e.floor(i/4294967296),n[15+(64+r>>>9<<4)]=i,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}}),n.SHA256=a._createHelper(o),n.HmacSHA256=a._createHmacHelper(o)}(Math),n=i.enc.Utf8,i.algo.HMAC=i.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=n.parse(t));var i=e.blockSize,r=4*i;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,l=o.words,d=0;d<i;d++)s[d]^=1549556828,l[d]^=909522486;a.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}}),t=i.lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,i=this._map;e.clamp(),e=[];for(var r=0;r<n;r+=3)for(var a=(t[r>>>2]>>>24-r%4*8&255)<<16|(t[r+1>>>2]>>>24-(r+1)%4*8&255)<<8|t[r+2>>>2]>>>24-(r+2)%4*8&255,o=0;o<4&&r+.75*o<n;o++)e.push(i.charAt(a>>>6*(3-o)&63));if(t=i.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var n=e.length,i=this._map;!(r=i.charAt(64))||-1!=(r=e.indexOf(r))&&(n=r);for(var r=[],a=0,o=0;o<n;o++)if(o%4){var s=i.indexOf(e.charAt(o-1))<<o%4*2,l=i.indexOf(e.charAt(o))>>>6-o%4*2;r[a>>>2]|=(s|l)<<24-a%4*8,a++}return t.create(r,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(e){var t,n,i,r,a,o,s,l,d,u,c,h,f;(t=e.EGAErrorSeverity||(e.EGAErrorSeverity={}))[t.Undefined=0]="Undefined",t[t.Debug=1]="Debug",t[t.Info=2]="Info",t[t.Warning=3]="Warning",t[t.Error=4]="Error",t[t.Critical=5]="Critical",(n=e.EGAProgressionStatus||(e.EGAProgressionStatus={}))[n.Undefined=0]="Undefined",n[n.Start=1]="Start",n[n.Complete=2]="Complete",n[n.Fail=3]="Fail",(i=e.EGAResourceFlowType||(e.EGAResourceFlowType={}))[i.Undefined=0]="Undefined",i[i.Source=1]="Source",i[i.Sink=2]="Sink",(r=e.EGAAdAction||(e.EGAAdAction={}))[r.Undefined=0]="Undefined",r[r.Clicked=1]="Clicked",r[r.Show=2]="Show",r[r.FailedShow=3]="FailedShow",r[r.RewardReceived=4]="RewardReceived",(a=e.EGAAdError||(e.EGAAdError={}))[a.Undefined=0]="Undefined",a[a.Unknown=1]="Unknown",a[a.Offline=2]="Offline",a[a.NoFill=3]="NoFill",a[a.InternalError=4]="InternalError",a[a.InvalidRequest=5]="InvalidRequest",a[a.UnableToPrecache=6]="UnableToPrecache",(o=e.EGAAdType||(e.EGAAdType={}))[o.Undefined=0]="Undefined",o[o.Video=1]="Video",o[o.RewardedVideo=2]="RewardedVideo",o[o.Playable=3]="Playable",o[o.Interstitial=4]="Interstitial",o[o.OfferWall=5]="OfferWall",o[o.Banner=6]="Banner",(l=(s=e.http||(e.http={})).EGAHTTPApiResponse||(s.EGAHTTPApiResponse={}))[l.NoResponse=0]="NoResponse",l[l.BadResponse=1]="BadResponse",l[l.RequestTimeout=2]="RequestTimeout",l[l.JsonEncodeFailed=3]="JsonEncodeFailed",l[l.JsonDecodeFailed=4]="JsonDecodeFailed",l[l.InternalServerError=5]="InternalServerError",l[l.BadRequest=6]="BadRequest",l[l.Unauthorized=7]="Unauthorized",l[l.UnknownResponseCode=8]="UnknownResponseCode",l[l.Ok=9]="Ok",l[l.Created=10]="Created",(u=(d=e.events||(e.events={})).EGASdkErrorCategory||(d.EGASdkErrorCategory={}))[u.Undefined=0]="Undefined",u[u.EventValidation=1]="EventValidation",u[u.Database=2]="Database",u[u.Init=3]="Init",u[u.Http=4]="Http",u[u.Json=5]="Json",(c=d.EGASdkErrorArea||(d.EGASdkErrorArea={}))[c.Undefined=0]="Undefined",c[c.BusinessEvent=1]="BusinessEvent",c[c.ResourceEvent=2]="ResourceEvent",c[c.ProgressionEvent=3]="ProgressionEvent",c[c.DesignEvent=4]="DesignEvent",c[c.ErrorEvent=5]="ErrorEvent",c[c.InitHttp=9]="InitHttp",c[c.EventsHttp=10]="EventsHttp",c[c.ProcessEvents=11]="ProcessEvents",c[c.AddEventsToStore=12]="AddEventsToStore",c[c.AdEvent=20]="AdEvent",(h=d.EGASdkErrorAction||(d.EGASdkErrorAction={}))[h.Undefined=0]="Undefined",h[h.InvalidCurrency=1]="InvalidCurrency",h[h.InvalidShortString=2]="InvalidShortString",h[h.InvalidEventPartLength=3]="InvalidEventPartLength",h[h.InvalidEventPartCharacters=4]="InvalidEventPartCharacters",h[h.InvalidStore=5]="InvalidStore",h[h.InvalidFlowType=6]="InvalidFlowType",h[h.StringEmptyOrNull=7]="StringEmptyOrNull",h[h.NotFoundInAvailableCurrencies=8]="NotFoundInAvailableCurrencies",h[h.InvalidAmount=9]="InvalidAmount",h[h.NotFoundInAvailableItemTypes=10]="NotFoundInAvailableItemTypes",h[h.WrongProgressionOrder=11]="WrongProgressionOrder",h[h.InvalidEventIdLength=12]="InvalidEventIdLength",h[h.InvalidEventIdCharacters=13]="InvalidEventIdCharacters",h[h.InvalidProgressionStatus=15]="InvalidProgressionStatus",h[h.InvalidSeverity=16]="InvalidSeverity",h[h.InvalidLongString=17]="InvalidLongString",h[h.DatabaseTooLarge=18]="DatabaseTooLarge",h[h.DatabaseOpenOrCreate=19]="DatabaseOpenOrCreate",h[h.JsonError=25]="JsonError",h[h.FailHttpJsonDecode=29]="FailHttpJsonDecode",h[h.FailHttpJsonEncode=30]="FailHttpJsonEncode",h[h.InvalidAdAction=31]="InvalidAdAction",h[h.InvalidAdType=32]="InvalidAdType",h[h.InvalidString=33]="InvalidString",(f=d.EGASdkErrorParameter||(d.EGASdkErrorParameter={}))[f.Undefined=0]="Undefined",f[f.Currency=1]="Currency",f[f.CartType=2]="CartType",f[f.ItemType=3]="ItemType",f[f.ItemId=4]="ItemId",f[f.Store=5]="Store",f[f.FlowType=6]="FlowType",f[f.Amount=7]="Amount",f[f.Progression01=8]="Progression01",f[f.Progression02=9]="Progression02",f[f.Progression03=10]="Progression03",f[f.EventId=11]="EventId",f[f.ProgressionStatus=12]="ProgressionStatus",f[f.Severity=13]="Severity",f[f.Message=14]="Message",f[f.AdAction=15]="AdAction",f[f.AdType=16]="AdType",f[f.AdSdkName=17]="AdSdkName",f[f.AdPlacement=18]="AdPlacement"}(r=r||{});var r,a,o,s;r.EGAErrorSeverity,r.EGAProgressionStatus,r.EGAResourceFlowType;(function(e){var t,n;(n=t=t||{})[n.Error=0]="Error",n[n.Warning=1]="Warning",n[n.Info=2]="Info",n[n.Debug=3]="Debug";var i=(r.setInfoLog=function(e){r.instance.infoLogEnabled=e},r.setVerboseLog=function(e){r.instance.infoLogVerboseEnabled=e},r.i=function(e){if(r.instance.infoLogEnabled){var n="Info/"+r.Tag+": "+e;r.instance.sendNotificationMessage(n,t.Info)}},r.w=function(e){var n="Warning/"+r.Tag+": "+e;r.instance.sendNotificationMessage(n,t.Warning)},r.e=function(e){var n="Error/"+r.Tag+": "+e;r.instance.sendNotificationMessage(n,t.Error)},r.ii=function(e){if(r.instance.infoLogVerboseEnabled){var n="Verbose/"+r.Tag+": "+e;r.instance.sendNotificationMessage(n,t.Info)}},r.d=function(e){if(r.debugEnabled){var n="Debug/"+r.Tag+": "+e;r.instance.sendNotificationMessage(n,t.Debug)}},r.prototype.sendNotificationMessage=function(e,n){switch(n){case t.Error:console.error(e);break;case t.Warning:console.warn(e);break;case t.Debug:"function"==typeof console.debug?console.debug(e):console.log(e);break;case t.Info:console.log(e)}},r.instance=new r,r.Tag="GameAnalytics",r);function r(){r.debugEnabled=!1}e.GALogger=i})((s=r=r||{}).logging||(s.logging={})),function(e){var t,n,r;function a(){}t=e.utilities||(e.utilities={}),n=e.logging.GALogger,a.getHmac=function(e,t){var n=i.HmacSHA256(t,e);return i.enc.Base64.stringify(n)},a.stringMatch=function(e,t){return!(!e||!t)&&t.test(e)},a.joinStringArray=function(e,t){for(var n="",i=0,r=e.length;i<r;i++)0<i&&(n+=t),n+=e[i];return n},a.stringArrayContainsString=function(e,t){if(0===e.length)return!1;for(var n in e)if(e[n]===t)return!0;return!1},a.encode64=function(e){e=encodeURI(e);for(var t,n,i,r,o,s="",l=0,d=0,u=0;i=(t=e.charCodeAt(u++))>>2,r=(3&t)<<4|(n=e.charCodeAt(u++))>>4,o=(15&n)<<2|(l=e.charCodeAt(u++))>>6,d=63&l,isNaN(n)?o=d=64:isNaN(l)&&(d=64),s=s+a.keyStr.charAt(i)+a.keyStr.charAt(r)+a.keyStr.charAt(o)+a.keyStr.charAt(d),t=n=l=0,i=r=o=d=0,u<e.length;);return s},a.decode64=function(e){var t,i,r,o,s="",l=0,d=0,u=0;for(/[^A-Za-z0-9\+\/\=]/g.exec(e)&&n.w("There were invalid base64 characters in the input text. Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='. Expect errors in decoding."),e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");t=a.keyStr.indexOf(e.charAt(u++))<<2|(r=a.keyStr.indexOf(e.charAt(u++)))>>4,i=(15&r)<<4|(o=a.keyStr.indexOf(e.charAt(u++)))>>2,l=(3&o)<<6|(d=a.keyStr.indexOf(e.charAt(u++))),s+=String.fromCharCode(t),64!=o&&(s+=String.fromCharCode(i)),64!=d&&(s+=String.fromCharCode(l)),t=i=l=0,r=o=d=0,u<e.length;);return decodeURI(s)},a.timeIntervalSince1970=function(){var e=new Date;return Math.round(e.getTime()/1e3)},a.createGuid=function(){return(a.s4()+a.s4()+"-"+a.s4()+"-4"+a.s4().substr(0,3)+"-"+a.s4()+"-"+a.s4()+a.s4()+a.s4()).toLowerCase()},a.s4=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)},a.keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=a,t.GAUtilities=r}(r=r||{}),function(e){var t=o.logging.GALogger,n=o.utilities.GAUtilities,i=o.events.EGASdkErrorCategory,r=o.events.EGASdkErrorArea,a=o.events.EGASdkErrorAction,s=o.events.EGASdkErrorParameter,l=function(e,t,n,i,r){this.category=e,this.area=t,this.action=n,this.parameter=i,this.reason=r};e.ValidationResult=l;var d=(u.validateBusinessEvent=function(e,n,o,d,c){return u.validateCurrency(e)?n<0?(t.w("Validation fail - business event - amount. Cannot be less than 0. Failed amount: "+n),new l(i.EventValidation,r.BusinessEvent,a.InvalidAmount,s.Amount,n+"")):u.validateShortString(o,!0)?u.validateEventPartLength(d,!1)?u.validateEventPartCharacters(d)?u.validateEventPartLength(c,!1)?u.validateEventPartCharacters(c)?null:(t.w("Validation fail - business event - itemId: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+c),new l(i.EventValidation,r.BusinessEvent,a.InvalidEventPartCharacters,s.ItemId,c)):(t.w("Validation fail - business event - itemId. Cannot be (null), empty or above 64 characters. String: "+c),new l(i.EventValidation,r.BusinessEvent,a.InvalidEventPartLength,s.ItemId,c)):(t.w("Validation fail - business event - itemType: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+d),new l(i.EventValidation,r.BusinessEvent,a.InvalidEventPartCharacters,s.ItemType,d)):(t.w("Validation fail - business event - itemType: Cannot be (null), empty or above 64 characters. String: "+d),new l(i.EventValidation,r.BusinessEvent,a.InvalidEventPartLength,s.ItemType,d)):(t.w("Validation fail - business event - cartType. Cannot be above 32 length. String: "+o),new l(i.EventValidation,r.BusinessEvent,a.InvalidShortString,s.CartType,o)):(t.w("Validation fail - business event - currency: Cannot be (null) and need to be A-Z, 3 characters and in the standard at openexchangerates.org. Failed currency: "+e),new l(i.EventValidation,r.BusinessEvent,a.InvalidCurrency,s.Currency,e))},u.validateResourceEvent=function(e,d,c,h,f,g,v){return e==o.EGAResourceFlowType.Undefined?(t.w("Validation fail - resource event - flowType: Invalid flow type."),new l(i.EventValidation,r.ResourceEvent,a.InvalidFlowType,s.FlowType,"")):d?n.stringArrayContainsString(g,d)?0<c?h?u.validateEventPartLength(h,!1)?u.validateEventPartCharacters(h)?n.stringArrayContainsString(v,h)?u.validateEventPartLength(f,!1)?u.validateEventPartCharacters(f)?null:(t.w("Validation fail - resource event - itemId: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+f),new l(i.EventValidation,r.ResourceEvent,a.InvalidEventPartCharacters,s.ItemId,f)):(t.w("Validation fail - resource event - itemId: Cannot be (null), empty or above 64 characters. String: "+f),new l(i.EventValidation,r.ResourceEvent,a.InvalidEventPartLength,s.ItemId,f)):(t.w("Validation fail - resource event - itemType: Not found in list of pre-defined available resource itemTypes. String: "+h),new l(i.EventValidation,r.ResourceEvent,a.NotFoundInAvailableItemTypes,s.ItemType,h)):(t.w("Validation fail - resource event - itemType: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+h),new l(i.EventValidation,r.ResourceEvent,a.InvalidEventPartCharacters,s.ItemType,h)):(t.w("Validation fail - resource event - itemType: Cannot be (null), empty or above 64 characters. String: "+h),new l(i.EventValidation,r.ResourceEvent,a.InvalidEventPartLength,s.ItemType,h)):(t.w("Validation fail - resource event - itemType: Cannot be (null)"),new l(i.EventValidation,r.ResourceEvent,a.StringEmptyOrNull,s.ItemType,"")):(t.w("Validation fail - resource event - amount: Float amount cannot be 0 or negative. Value: "+c),new l(i.EventValidation,r.ResourceEvent,a.InvalidAmount,s.Amount,c+"")):(t.w("Validation fail - resource event - currency: Not found in list of pre-defined available resource currencies. String: "+d),new l(i.EventValidation,r.ResourceEvent,a.NotFoundInAvailableCurrencies,s.Currency,d)):(t.w("Validation fail - resource event - currency: Cannot be (null)"),new l(i.EventValidation,r.ResourceEvent,a.StringEmptyOrNull,s.Currency,""))},u.validateProgressionEvent=function(e,n,d,c){if(e==o.EGAProgressionStatus.Undefined)return t.w("Validation fail - progression event: Invalid progression status."),new l(i.EventValidation,r.ProgressionEvent,a.InvalidProgressionStatus,s.ProgressionStatus,"");if(c&&!d&&n)return t.w("Validation fail - progression event: 03 found but 01+02 are invalid. Progression must be set as either 01, 01+02 or 01+02+03."),new l(i.EventValidation,r.ProgressionEvent,a.WrongProgressionOrder,s.Undefined,n+":"+d+":"+c);if(d&&!n)return t.w("Validation fail - progression event: 02 found but not 01. Progression must be set as either 01, 01+02 or 01+02+03"),new l(i.EventValidation,r.ProgressionEvent,a.WrongProgressionOrder,s.Undefined,n+":"+d+":"+c);if(!n)return t.w("Validation fail - progression event: progression01 not valid. Progressions must be set as either 01, 01+02 or 01+02+03"),new l(i.EventValidation,r.ProgressionEvent,a.WrongProgressionOrder,s.Undefined,(n||"")+":"+(d||"")+":"+(c||""));if(!u.validateEventPartLength(n,!1))return t.w("Validation fail - progression event - progression01: Cannot be (null), empty or above 64 characters. String: "+n),new l(i.EventValidation,r.ProgressionEvent,a.InvalidEventPartLength,s.Progression01,n);if(!u.validateEventPartCharacters(n))return t.w("Validation fail - progression event - progression01: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+n),new l(i.EventValidation,r.ProgressionEvent,a.InvalidEventPartCharacters,s.Progression01,n);if(d){if(!u.validateEventPartLength(d,!0))return t.w("Validation fail - progression event - progression02: Cannot be empty or above 64 characters. String: "+d),new l(i.EventValidation,r.ProgressionEvent,a.InvalidEventPartLength,s.Progression02,d);if(!u.validateEventPartCharacters(d))return t.w("Validation fail - progression event - progression02: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+d),new l(i.EventValidation,r.ProgressionEvent,a.InvalidEventPartCharacters,s.Progression02,d)}if(c){if(!u.validateEventPartLength(c,!0))return t.w("Validation fail - progression event - progression03: Cannot be empty or above 64 characters. String: "+c),new l(i.EventValidation,r.ProgressionEvent,a.InvalidEventPartLength,s.Progression03,c);if(!u.validateEventPartCharacters(c))return t.w("Validation fail - progression event - progression03: Cannot contain other characters than A-z, 0-9, -_., ()!?. String: "+c),new l(i.EventValidation,r.ProgressionEvent,a.InvalidEventPartCharacters,s.Progression03,c)}return null},u.validateDesignEvent=function(e){return u.validateEventIdLength(e)?u.validateEventIdCharacters(e)?null:(t.w("Validation fail - design event - eventId: Non valid characters. Only allowed A-z, 0-9, -_., ()!?. String: "+e),new l(i.EventValidation,r.DesignEvent,a.InvalidEventIdCharacters,s.EventId,e)):(t.w("Validation fail - design event - eventId: Cannot be (null) or empty. Only 5 event parts allowed seperated by :. Each part need to be 32 characters or less. String: "+e),new l(i.EventValidation,r.DesignEvent,a.InvalidEventIdLength,s.EventId,e))},u.validateErrorEvent=function(e,n){return e==o.EGAErrorSeverity.Undefined?(t.w("Validation fail - error event - severity: Severity was unsupported value."),new l(i.EventValidation,r.ErrorEvent,a.InvalidSeverity,s.Severity,"")):u.validateLongString(n,!0)?null:(t.w("Validation fail - error event - message: Message cannot be above 8192 characters."),new l(i.EventValidation,r.ErrorEvent,a.InvalidLongString,s.Message,n))},u.validateAdEvent=function(e,n,d,c){return e==o.EGAAdAction.Undefined?(t.w("Validation fail - error event - severity: Severity was unsupported value."),new l(i.EventValidation,r.AdEvent,a.InvalidAdAction,s.AdAction,"")):n==o.EGAAdType.Undefined?(t.w("Validation fail - ad event - adType: Ad type was unsupported value."),new l(i.EventValidation,r.AdEvent,a.InvalidAdType,s.AdType,"")):u.validateShortString(d,!1)?u.validateString(c,!1)?null:(t.w("Validation fail - ad event - message: Ad placement cannot be above 64 characters."),new l(i.EventValidation,r.AdEvent,a.InvalidString,s.AdPlacement,c)):(t.w("Validation fail - ad event - message: Ad SDK name cannot be above 32 characters."),new l(i.EventValidation,r.AdEvent,a.InvalidShortString,s.AdSdkName,d))},u.validateSdkErrorEvent=function(e,n,o,s,l){return!(!u.validateKeys(e,n)||(o===i.Undefined?(t.w("Validation fail - sdk error event - type: Category was unsupported value."),1):s===r.Undefined?(t.w("Validation fail - sdk error event - type: Area was unsupported value."),1):l===a.Undefined&&(t.w("Validation fail - sdk error event - type: Action was unsupported value."),1)))},u.validateKeys=function(e,t){return!(!n.stringMatch(e,/^[A-z0-9]{32}$/)||!n.stringMatch(t,/^[A-z0-9]{40}$/))},u.validateCurrency=function(e){return!!e&&!!n.stringMatch(e,/^[A-Z]{3}$/)},u.validateEventPartLength=function(e,t){return!(!t||e)||!!e&&!(64<e.length)},u.validateEventPartCharacters=function(e){return!!n.stringMatch(e,/^[A-Za-z0-9\s\-_\.\(\)\!\?]{1,64}$/)},u.validateEventIdLength=function(e){return!!e&&!!n.stringMatch(e,/^[^:]{1,64}(?::[^:]{1,64}){0,4}$/)},u.validateEventIdCharacters=function(e){return!!e&&!!n.stringMatch(e,/^[A-Za-z0-9\s\-_\.\(\)\!\?]{1,64}(:[A-Za-z0-9\s\-_\.\(\)\!\?]{1,64}){0,4}$/)},u.validateAndCleanInitRequestResponse=function(e,n){if(null==e)return t.w("validateInitRequestResponse failed - no response dictionary."),null;var i={};try{var r=e.server_ts;if(!(0<r))return t.w("validateInitRequestResponse failed - invalid value in 'server_ts' field."),null;i.server_ts=r}catch(n){return t.w("validateInitRequestResponse failed - invalid type in 'server_ts' field. type="+typeof e.server_ts+", value="+e.server_ts+", "+n),null}if(n){try{var a=e.configs;i.configs=a}catch(n){return t.w("validateInitRequestResponse failed - invalid type in 'configs' field. type="+typeof e.configs+", value="+e.configs+", "+n),null}try{var o=e.configs_hash;i.configs_hash=o}catch(n){return t.w("validateInitRequestResponse failed - invalid type in 'configs_hash' field. type="+typeof e.configs_hash+", value="+e.configs_hash+", "+n),null}try{var s=e.ab_id;i.ab_id=s}catch(n){return t.w("validateInitRequestResponse failed - invalid type in 'ab_id' field. type="+typeof e.ab_id+", value="+e.ab_id+", "+n),null}try{var l=e.ab_variant_id;i.ab_variant_id=l}catch(n){return t.w("validateInitRequestResponse failed - invalid type in 'ab_variant_id' field. type="+typeof e.ab_variant_id+", value="+e.ab_variant_id+", "+n),null}}return i},u.validateBuild=function(e){return!!u.validateShortString(e,!1)},u.validateSdkWrapperVersion=function(e){return!!n.stringMatch(e,/^(unity|unreal|gamemaker|cocos2d|construct|defold) [0-9]{0,5}(\.[0-9]{0,5}){0,2}$/)},u.validateEngineVersion=function(e){return!(!e||!n.stringMatch(e,/^(unity|unreal|gamemaker|cocos2d|construct|defold) [0-9]{0,5}(\.[0-9]{0,5}){0,2}$/))},u.validateUserId=function(e){return!!u.validateString(e,!1)||(t.w("Validation fail - user id: id cannot be (null), empty or above 64 characters."),!1)},u.validateShortString=function(e,t){return!(!t||e)||!(!e||32<e.length)},u.validateString=function(e,t){return!(!t||e)||!(!e||64<e.length)},u.validateLongString=function(e,t){return!(!t||e)||!(!e||8192<e.length)},u.validateConnectionType=function(e){return n.stringMatch(e,/^(wwan|wifi|lan|offline)$/)},u.validateCustomDimensions=function(e){return u.validateArrayOfStrings(20,32,!1,"custom dimensions",e)},u.validateResourceCurrencies=function(e){if(!u.validateArrayOfStrings(20,64,!1,"resource currencies",e))return!1;for(var i=0;i<e.length;++i)if(!n.stringMatch(e[i],/^[A-Za-z]+$/))return t.w("resource currencies validation failed: a resource currency can only be A-Z, a-z. String was: "+e[i]),!1;return!0},u.validateResourceItemTypes=function(e){if(!u.validateArrayOfStrings(20,32,!1,"resource item types",e))return!1;for(var n=0;n<e.length;++n)if(!u.validateEventPartCharacters(e[n]))return t.w("resource item types validation failed: a resource item type cannot contain other characters than A-z, 0-9, -_., ()!?. String was: "+e[n]),!1;return!0},u.validateDimension01=function(e,t){return!e||!!n.stringArrayContainsString(t,e)},u.validateDimension02=function(e,t){return!e||!!n.stringArrayContainsString(t,e)},u.validateDimension03=function(e,t){return!e||!!n.stringArrayContainsString(t,e)},u.validateArrayOfStrings=function(e,n,i,r,a){var o=r;if(o=o||"Array",!a)return t.w(o+" validation failed: array cannot be null. "),!1;if(0==i&&0==a.length)return t.w(o+" validation failed: array cannot be empty. "),!1;if(0<e&&a.length>e)return t.w(o+" validation failed: array cannot exceed "+e+" values. It has "+a.length+" values."),!1;for(var s=0;s<a.length;++s){var l=a[s]?a[s].length:0;if(0===l)return t.w(o+" validation failed: contained an empty string. Array="+JSON.stringify(a)),!1;if(0<n&&n<l)return t.w(o+" validation failed: a string exceeded max allowed length (which is: "+n+"). String was: "+a[s]),!1}return!0},u.validateClientTs=function(e){return!(e<-4294967294||4294967294<e)},u);function u(){}e.GAValidator=d}((o=r=r||{}).validators||(o.validators={})),function(e){!function(e){var t=function(e,t,n){this.name=e,this.value=t,this.version=n};e.NameValueVersion=t;var n=function(e,t){this.name=e,this.version=t};e.NameVersion=n;var i=(r.touch=function(){},r.getRelevantSdkVersion=function(){return r.sdkGameEngineVersion?r.sdkGameEngineVersion:r.sdkWrapperVersion},r.getConnectionType=function(){return r.connectionType},r.updateConnectionType=function(){navigator.onLine?r.connectionType="ios"===r.buildPlatform||"android"===r.buildPlatform?"wwan":"lan":r.connectionType="offline"},r.getOSVersionString=function(){return r.buildPlatform+" "+r.osVersionPair.version},r.runtimePlatformToString=function(){return r.osVersionPair.name},r.getBrowserVersionString=function(){var e,t=navigator.userAgent,n=t.match(/(opera|chrome|safari|firefox|ubrowser|msie|trident|fbav(?=\/))\/?\s*(\d+)/i)||[];if(0==n.length&&"ios"===r.buildPlatform)return"webkit_"+r.osVersion;if(/trident/i.test(n[1]))return"IE "+((e=/\brv[ :]+(\d+)/g.exec(t)||[])[1]||"");if("Chrome"===n[1]&&null!=(e=t.match(/\b(OPR|Edge|UBrowser)\/(\d+)/)))return e.slice(1).join(" ").replace("OPR","Opera").replace("UBrowser","UC").toLowerCase();if(n[1]&&"fbav"===n[1].toLowerCase()&&(n[1]="facebook",n[2]))return"facebook "+n[2];var i=n[2]?[n[1],n[2]]:[navigator.appName,navigator.appVersion,"-?"];return null!=(e=t.match(/version\/(\d+)/i))&&i.splice(1,1,e[1]),i.join(" ").toLowerCase()},r.getDeviceModel=function(){return"unknown"},r.getDeviceManufacturer=function(){return"unknown"},r.matchItem=function(e,t){var i,r,a,o,s=new n("unknown","0.0.0"),l=0,d=0;for(l=0;l<t.length;l+=1)if(new RegExp(t[l].value,"i").test(e)){if(i=new RegExp(t[l].version+"[- /:;]([\\d._]+)","i"),o="",(r=e.match(i))&&r[1]&&(a=r[1]),a){var u=a.split(/[._]+/);for(d=0;d<Math.min(u.length,3);d+=1)o+=u[d]+(d<Math.min(u.length,3)-1?".":"")}else o="0.0.0";return s.name=t[l].name,s.version=o,s}return s},r.sdkWrapperVersion="javascript 4.1.0",r.osVersionPair=r.matchItem([navigator.platform,navigator.userAgent,navigator.appVersion,navigator.vendor].join(" "),[new t("windows_phone","Windows Phone","OS"),new t("windows","Win","NT"),new t("ios","iPhone","OS"),new t("ios","iPad","OS"),new t("ios","iPod","OS"),new t("android","Android","Android"),new t("blackBerry","BlackBerry","/"),new t("mac_osx","Mac","OS X"),new t("tizen","Tizen","Tizen"),new t("linux","Linux","rv")]),r.buildPlatform=r.runtimePlatformToString(),r.deviceModel=r.getDeviceModel(),r.deviceManufacturer=r.getDeviceManufacturer(),r.osVersion=r.getOSVersionString(),r.browserVersion=r.getBrowserVersionString(),r);function r(){}e.GADevice=i}(e.device||(e.device={}))}(r=r||{}),function(e){var t,n;function i(e){this.deadline=e,this.ignore=!1,this.async=!1,this.running=!1,this.id=++i.idCounter}t=e.threading||(e.threading={}),i.idCounter=0,n=i,t.TimedBlock=n}(r=r||{}),function(e){var t,n;function i(e){this.comparer=e,this._subQueues={},this._sortedKeys=[]}t=e.threading||(e.threading={}),i.prototype.enqueue=function(e,t){-1===this._sortedKeys.indexOf(e)&&this.addQueueOfPriority(e),this._subQueues[e].push(t)},i.prototype.addQueueOfPriority=function(e){var t=this;this._sortedKeys.push(e),this._sortedKeys.sort((function(e,n){return t.comparer.compare(e,n)})),this._subQueues[e]=[]},i.prototype.peek=function(){if(this.hasItems())return this._subQueues[this._sortedKeys[0]][0];throw new Error("The queue is empty")},i.prototype.hasItems=function(){return 0<this._sortedKeys.length},i.prototype.dequeue=function(){if(this.hasItems())return this.dequeueFromHighPriorityQueue();throw new Error("The queue is empty")},i.prototype.dequeueFromHighPriorityQueue=function(){var e=this._sortedKeys[0],t=this._subQueues[e].shift();return 0===this._subQueues[e].length&&(this._sortedKeys.shift(),delete this._subQueues[e]),t},n=i,t.PriorityQueue=n}(r=r||{}),function(e){var t,n,i,r,o=a.logging.GALogger;(n=t=e.EGAStoreArgsOperator||(e.EGAStoreArgsOperator={}))[n.Equal=0]="Equal",n[n.LessOrEqual=1]="LessOrEqual",n[n.NotEqual=2]="NotEqual",(r=i=e.EGAStore||(e.EGAStore={}))[r.Events=0]="Events",r[r.Sessions=1]="Sessions",r[r.Progression=2]="Progression";var s=(l.isStorageAvailable=function(){return l.storageAvailable},l.isStoreTooLargeForEvents=function(){return l.instance.eventsStore.length+l.instance.sessionsStore.length>l.MaxNumberOfEntries},l.select=function(e,n,i,r){void 0===n&&(n=[]),void 0===i&&(i=!1),void 0===r&&(r=0);var a=l.getStore(e);if(!a)return null;for(var o=[],s=0;s<a.length;++s){for(var d=a[s],u=!0,c=0;c<n.length;++c){var h=n[c];if(d[h[0]])switch(h[1]){case t.Equal:u=d[h[0]]==h[2];break;case t.LessOrEqual:u=d[h[0]]<=h[2];break;case t.NotEqual:u=d[h[0]]!=h[2];break;default:u=!1}else u=!1;if(!u)break}u&&o.push(d)}return i&&o.sort((function(e,t){return e.client_ts-t.client_ts})),0<r&&o.length>r&&(o=o.slice(0,r+1)),o},l.update=function(e,n,i){void 0===i&&(i=[]);var r=l.getStore(e);if(!r)return!1;for(var a=0;a<r.length;++a){for(var o=r[a],s=!0,d=0;d<i.length;++d){var u=i[d];if(o[u[0]])switch(u[1]){case t.Equal:s=o[u[0]]==u[2];break;case t.LessOrEqual:s=o[u[0]]<=u[2];break;case t.NotEqual:s=o[u[0]]!=u[2];break;default:s=!1}else s=!1;if(!s)break}if(s)for(d=0;d<n.length;++d){var c=n[d];o[c[0]]=c[1]}}return!0},l.delete=function(e,n){var i=l.getStore(e);if(i)for(var r=0;r<i.length;++r){for(var a=i[r],o=!0,s=0;s<n.length;++s){var d=n[s];if(a[d[0]])switch(d[1]){case t.Equal:o=a[d[0]]==d[2];break;case t.LessOrEqual:o=a[d[0]]<=d[2];break;case t.NotEqual:o=a[d[0]]!=d[2];break;default:o=!1}else o=!1;if(!o)break}o&&(i.splice(r,1),--r)}},l.insert=function(e,t,n,i){void 0===n&&(n=!1),void 0===i&&(i=null);var r=l.getStore(e);if(r)if(n){if(!i)return;for(var a=!1,o=0;o<r.length;++o){var s=r[o];if(s[i]==t[i]){for(var d in t)s[d]=t[d];a=!0;break}}a||r.push(t)}else r.push(t)},l.save=function(e){l.isStorageAvailable()?(localStorage.setItem(l.StringFormat(l.KeyFormat,e,l.EventsStoreKey),JSON.stringify(l.instance.eventsStore)),localStorage.setItem(l.StringFormat(l.KeyFormat,e,l.SessionsStoreKey),JSON.stringify(l.instance.sessionsStore)),localStorage.setItem(l.StringFormat(l.KeyFormat,e,l.ProgressionStoreKey),JSON.stringify(l.instance.progressionStore)),localStorage.setItem(l.StringFormat(l.KeyFormat,e,l.ItemsStoreKey),JSON.stringify(l.instance.storeItems))):o.w("Storage is not available, cannot save.")},l.load=function(e){if(l.isStorageAvailable()){try{l.instance.eventsStore=JSON.parse(localStorage.getItem(l.StringFormat(l.KeyFormat,e,l.EventsStoreKey))),l.instance.eventsStore||(l.instance.eventsStore=[])}catch(e){o.w("Load failed for 'events' store. Using empty store."),l.instance.eventsStore=[]}try{l.instance.sessionsStore=JSON.parse(localStorage.getItem(l.StringFormat(l.KeyFormat,e,l.SessionsStoreKey))),l.instance.sessionsStore||(l.instance.sessionsStore=[])}catch(e){o.w("Load failed for 'sessions' store. Using empty store."),l.instance.sessionsStore=[]}try{l.instance.progressionStore=JSON.parse(localStorage.getItem(l.StringFormat(l.KeyFormat,e,l.ProgressionStoreKey))),l.instance.progressionStore||(l.instance.progressionStore=[])}catch(e){o.w("Load failed for 'progression' store. Using empty store."),l.instance.progressionStore=[]}try{l.instance.storeItems=JSON.parse(localStorage.getItem(l.StringFormat(l.KeyFormat,e,l.ItemsStoreKey))),l.instance.storeItems||(l.instance.storeItems={})}catch(e){o.w("Load failed for 'items' store. Using empty store."),l.instance.progressionStore=[]}}else o.w("Storage is not available, cannot load.")},l.setItem=function(e,t,n){var i=l.StringFormat(l.KeyFormat,e,t);n?l.instance.storeItems[i]=n:i in l.instance.storeItems&&delete l.instance.storeItems[i]},l.getItem=function(e,t){var n=l.StringFormat(l.KeyFormat,e,t);return n in l.instance.storeItems?l.instance.storeItems[n]:null},l.getStore=function(e){switch(e){case i.Events:return l.instance.eventsStore;case i.Sessions:return l.instance.sessionsStore;case i.Progression:return l.instance.progressionStore;default:return o.w("GAStore.getStore(): Cannot find store: "+e),null}},l.instance=new l,l.MaxNumberOfEntries=2e3,l.StringFormat=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return e.replace(/{(\d+)}/g,(function(e,n){return t[n]||""}))},l.KeyFormat="GA::{0}::{1}",l.EventsStoreKey="ga_event",l.SessionsStoreKey="ga_session",l.ProgressionStoreKey="ga_progression",l.ItemsStoreKey="ga_items",l);function l(){this.eventsStore=[],this.sessionsStore=[],this.progressionStore=[],this.storeItems={};try{"object"==typeof localStorage?(localStorage.setItem("testingLocalStorage","yes"),localStorage.removeItem("testingLocalStorage"),l.storageAvailable=!0):l.storageAvailable=!1}catch(e){}}e.GAStore=s}((a=r=r||{}).store||(a.store={})),function(e){var t,n,i,r,a,o,s,l,d;function u(){this.availableCustomDimensions01=[],this.availableCustomDimensions02=[],this.availableCustomDimensions03=[],this.availableResourceCurrencies=[],this.availableResourceItemTypes=[],this.configurations={},this.remoteConfigsListeners=[],this.sdkConfigDefault={},this.sdkConfig={},this.progressionTries={},this._isEventSubmissionEnabled=!0}t=e.state||(e.state={}),n=e.validators.GAValidator,i=e.utilities.GAUtilities,r=e.logging.GALogger,a=e.store.GAStore,o=e.device.GADevice,s=e.store.EGAStore,l=e.store.EGAStoreArgsOperator,u.setUserId=function(e){u.instance.userId=e,u.cacheIdentifier()},u.getIdentifier=function(){return u.instance.identifier},u.isInitialized=function(){return u.instance.initialized},u.setInitialized=function(e){u.instance.initialized=e},u.getSessionStart=function(){return u.instance.sessionStart},u.getSessionNum=function(){return u.instance.sessionNum},u.getTransactionNum=function(){return u.instance.transactionNum},u.getSessionId=function(){return u.instance.sessionId},u.getCurrentCustomDimension01=function(){return u.instance.currentCustomDimension01},u.getCurrentCustomDimension02=function(){return u.instance.currentCustomDimension02},u.getCurrentCustomDimension03=function(){return u.instance.currentCustomDimension03},u.getGameKey=function(){return u.instance.gameKey},u.getGameSecret=function(){return u.instance.gameSecret},u.getAvailableCustomDimensions01=function(){return u.instance.availableCustomDimensions01},u.setAvailableCustomDimensions01=function(e){n.validateCustomDimensions(e)&&(u.instance.availableCustomDimensions01=e,u.validateAndFixCurrentDimensions(),r.i("Set available custom01 dimension values: ("+i.joinStringArray(e,", ")+")"))},u.getAvailableCustomDimensions02=function(){return u.instance.availableCustomDimensions02},u.setAvailableCustomDimensions02=function(e){n.validateCustomDimensions(e)&&(u.instance.availableCustomDimensions02=e,u.validateAndFixCurrentDimensions(),r.i("Set available custom02 dimension values: ("+i.joinStringArray(e,", ")+")"))},u.getAvailableCustomDimensions03=function(){return u.instance.availableCustomDimensions03},u.setAvailableCustomDimensions03=function(e){n.validateCustomDimensions(e)&&(u.instance.availableCustomDimensions03=e,u.validateAndFixCurrentDimensions(),r.i("Set available custom03 dimension values: ("+i.joinStringArray(e,", ")+")"))},u.getAvailableResourceCurrencies=function(){return u.instance.availableResourceCurrencies},u.setAvailableResourceCurrencies=function(e){n.validateResourceCurrencies(e)&&(u.instance.availableResourceCurrencies=e,r.i("Set available resource currencies: ("+i.joinStringArray(e,", ")+")"))},u.getAvailableResourceItemTypes=function(){return u.instance.availableResourceItemTypes},u.setAvailableResourceItemTypes=function(e){n.validateResourceItemTypes(e)&&(u.instance.availableResourceItemTypes=e,r.i("Set available resource item types: ("+i.joinStringArray(e,", ")+")"))},u.getBuild=function(){return u.instance.build},u.setBuild=function(e){u.instance.build=e,r.i("Set build version: "+e)},u.getUseManualSessionHandling=function(){return u.instance.useManualSessionHandling},u.isEventSubmissionEnabled=function(){return u.instance._isEventSubmissionEnabled},u.getABTestingId=function(){return u.instance.abId},u.getABTestingVariantId=function(){return u.instance.abVariantId},u.prototype.setDefaultId=function(e){this.defaultUserId=e||"",u.cacheIdentifier()},u.getDefaultId=function(){return u.instance.defaultUserId},u.getSdkConfig=function(){var e,t=0;for(var n in u.instance.sdkConfig)0===t&&(e=n),++t;if(e&&0<t)return u.instance.sdkConfig;for(var n in t=0,u.instance.sdkConfigCached)0===t&&(e=n),++t;return e&&0<t?u.instance.sdkConfigCached:u.instance.sdkConfigDefault},u.isEnabled=function(){return!!u.instance.initAuthorized},u.setCustomDimension01=function(e){u.instance.currentCustomDimension01=e,a.setItem(u.getGameKey(),u.Dimension01Key,e),r.i("Set custom01 dimension value: "+e)},u.setCustomDimension02=function(e){u.instance.currentCustomDimension02=e,a.setItem(u.getGameKey(),u.Dimension02Key,e),r.i("Set custom02 dimension value: "+e)},u.setCustomDimension03=function(e){u.instance.currentCustomDimension03=e,a.setItem(u.getGameKey(),u.Dimension03Key,e),r.i("Set custom03 dimension value: "+e)},u.incrementSessionNum=function(){var e=u.getSessionNum()+1;u.instance.sessionNum=e},u.incrementTransactionNum=function(){var e=u.getTransactionNum()+1;u.instance.transactionNum=e},u.incrementProgressionTries=function(e){var t=u.getProgressionTries(e)+1;u.instance.progressionTries[e]=t;var n={};n.progression=e,n.tries=t,a.insert(s.Progression,n,!0,"progression")},u.getProgressionTries=function(e){return e in u.instance.progressionTries?u.instance.progressionTries[e]:0},u.clearProgressionTries=function(e){e in u.instance.progressionTries&&delete u.instance.progressionTries[e];var t=[];t.push(["progression",l.Equal,e]),a.delete(s.Progression,t)},u.setKeys=function(e,t){u.instance.gameKey=e,u.instance.gameSecret=t},u.setManualSessionHandling=function(e){u.instance.useManualSessionHandling=e,r.i("Use manual session handling: "+e)},u.setEnabledEventSubmission=function(e){u.instance._isEventSubmissionEnabled=e},u.getEventAnnotations=function(){var e={v:2};e.user_id=u.instance.identifier,e.client_ts=u.getClientTsAdjusted(),e.sdk_version=o.getRelevantSdkVersion(),e.os_version=o.osVersion,e.manufacturer=o.deviceManufacturer,e.device=o.deviceModel,e.browser_version=o.browserVersion,e.platform=o.buildPlatform,e.session_id=u.instance.sessionId,e[u.SessionNumKey]=u.instance.sessionNum;var t=o.getConnectionType();if(n.validateConnectionType(t)&&(e.connection_type=t),o.gameEngineVersion&&(e.engine_version=o.gameEngineVersion),u.instance.configurations){var i=0;for(var r in u.instance.configurations){i++;break}0<i&&(e.configurations=u.instance.configurations)}return u.instance.abId&&(e.ab_id=u.instance.abId),u.instance.abVariantId&&(e.ab_variant_id=u.instance.abVariantId),u.instance.build&&(e.build=u.instance.build),e},u.getSdkErrorEventAnnotations=function(){var e={v:2};e.category=u.CategorySdkError,e.sdk_version=o.getRelevantSdkVersion(),e.os_version=o.osVersion,e.manufacturer=o.deviceManufacturer,e.device=o.deviceModel,e.platform=o.buildPlatform;var t=o.getConnectionType();return n.validateConnectionType(t)&&(e.connection_type=t),o.gameEngineVersion&&(e.engine_version=o.gameEngineVersion),e},u.getInitAnnotations=function(){var e={};return u.getIdentifier()||u.cacheIdentifier(),e.user_id=u.getIdentifier(),e.sdk_version=o.getRelevantSdkVersion(),e.os_version=o.osVersion,e.platform=o.buildPlatform,u.getBuild()?e.build=u.getBuild():e.build=null,e.session_num=u.getSessionNum(),e.random_salt=u.getSessionNum(),e},u.getClientTsAdjusted=function(){var e=i.timeIntervalSince1970(),t=e+u.instance.clientServerTimeOffset;return n.validateClientTs(t)?t:e},u.sessionIsStarted=function(){return 0!=u.instance.sessionStart},u.cacheIdentifier=function(){u.instance.userId?u.instance.identifier=u.instance.userId:u.instance.defaultUserId&&(u.instance.identifier=u.instance.defaultUserId)},u.ensurePersistedStates=function(){a.isStorageAvailable()&&a.load(u.getGameKey());var e=u.instance;e.setDefaultId(null!=a.getItem(u.getGameKey(),u.DefaultUserIdKey)?a.getItem(u.getGameKey(),u.DefaultUserIdKey):i.createGuid()),e.sessionNum=null!=a.getItem(u.getGameKey(),u.SessionNumKey)?Number(a.getItem(u.getGameKey(),u.SessionNumKey)):0,e.transactionNum=null!=a.getItem(u.getGameKey(),u.TransactionNumKey)?Number(a.getItem(u.getGameKey(),u.TransactionNumKey)):0,e.currentCustomDimension01?a.setItem(u.getGameKey(),u.Dimension01Key,e.currentCustomDimension01):(e.currentCustomDimension01=null!=a.getItem(u.getGameKey(),u.Dimension01Key)?a.getItem(u.getGameKey(),u.Dimension01Key):"",e.currentCustomDimension01),e.currentCustomDimension02?a.setItem(u.getGameKey(),u.Dimension02Key,e.currentCustomDimension02):(e.currentCustomDimension02=null!=a.getItem(u.getGameKey(),u.Dimension02Key)?a.getItem(u.getGameKey(),u.Dimension02Key):"",e.currentCustomDimension02),e.currentCustomDimension03?a.setItem(u.getGameKey(),u.Dimension03Key,e.currentCustomDimension03):(e.currentCustomDimension03=null!=a.getItem(u.getGameKey(),u.Dimension03Key)?a.getItem(u.getGameKey(),u.Dimension03Key):"",e.currentCustomDimension03);var t=null!=a.getItem(u.getGameKey(),u.SdkConfigCachedKey)?a.getItem(u.getGameKey(),u.SdkConfigCachedKey):"";if(t){var n=JSON.parse(i.decode64(t));n&&(e.sdkConfigCached=n)}var r=u.getSdkConfig();e.configsHash=r.configs_hash?r.configs_hash:"",e.abId=r.ab_id?r.ab_id:"",e.abVariantId=r.ab_variant_id?r.ab_variant_id:"";var o=a.select(s.Progression);if(o)for(var l=0;l<o.length;++l){var d=o[l];d&&(e.progressionTries[d.progression]=d.tries)}},u.calculateServerTimeOffset=function(e){return e-i.timeIntervalSince1970()},u.validateAndCleanCustomFields=function(e){var t={};if(e){var n=0;for(var a in e){var o=e[a];if(a&&o)if(n<u.MAX_CUSTOM_FIELDS_COUNT){var s=new RegExp("^[a-zA-Z0-9_]{1,"+u.MAX_CUSTOM_FIELDS_KEY_LENGTH+"}$");if(i.stringMatch(a,s)){var l=typeof o;if("string"==l||o instanceof String)o.length<=u.MAX_CUSTOM_FIELDS_VALUE_STRING_LENGTH&&0<o.length?(t[a]=o,++n):r.w("validateAndCleanCustomFields: entry with key="+a+", value="+o+" has been omitted because its value is an empty string or exceeds the max number of characters ("+u.MAX_CUSTOM_FIELDS_VALUE_STRING_LENGTH+")");else if("number"==l||o instanceof Number){var d=o;t[a]=d,++n}else r.w("validateAndCleanCustomFields: entry with key="+a+", value="+o+" has been omitted because its value is not a string or number")}else r.w("validateAndCleanCustomFields: entry with key="+a+", value="+o+" has been omitted because its key contains illegal character, is empty or exceeds the max number of characters ("+u.MAX_CUSTOM_FIELDS_KEY_LENGTH+")")}else r.w("validateAndCleanCustomFields: entry with key="+a+", value="+o+" has been omitted because it exceeds the max number of custom fields ("+u.MAX_CUSTOM_FIELDS_COUNT+")");else r.w("validateAndCleanCustomFields: entry with key="+a+", value="+o+" has been omitted because its key or value is null")}}return t},u.validateAndFixCurrentDimensions=function(){n.validateDimension01(u.getCurrentCustomDimension01(),u.getAvailableCustomDimensions01())||u.setCustomDimension01(""),n.validateDimension02(u.getCurrentCustomDimension02(),u.getAvailableCustomDimensions02())||u.setCustomDimension02(""),n.validateDimension03(u.getCurrentCustomDimension03(),u.getAvailableCustomDimensions03())||u.setCustomDimension03("")},u.getConfigurationStringValue=function(e,t){return u.instance.configurations[e]?u.instance.configurations[e].toString():t},u.isRemoteConfigsReady=function(){return u.instance.remoteConfigsIsReady},u.addRemoteConfigsListener=function(e){u.instance.remoteConfigsListeners.indexOf(e)<0&&u.instance.remoteConfigsListeners.push(e)},u.removeRemoteConfigsListener=function(e){var t=u.instance.remoteConfigsListeners.indexOf(e);-1<t&&u.instance.remoteConfigsListeners.splice(t,1)},u.getRemoteConfigsContentAsString=function(){return JSON.stringify(u.instance.configurations)},u.populateConfigurations=function(e){var t=e.configs;if(t){u.instance.configurations={};for(var n=0;n<t.length;++n){var i=t[n];if(i){var r=i.key,a=i.value,o=i.start_ts?i.start_ts:Number.MIN_VALUE,s=i.end_ts?i.end_ts:Number.MAX_VALUE,l=u.getClientTsAdjusted();r&&a&&o<l&&l<s&&(u.instance.configurations[r]=a)}}}u.instance.remoteConfigsIsReady=!0;var d=u.instance.remoteConfigsListeners;for(n=0;n<d.length;++n)d[n]&&d[n].onRemoteConfigsUpdated()},u.CategorySdkError="sdk_error",u.MAX_CUSTOM_FIELDS_COUNT=50,u.MAX_CUSTOM_FIELDS_KEY_LENGTH=64,u.MAX_CUSTOM_FIELDS_VALUE_STRING_LENGTH=256,u.instance=new u,u.DefaultUserIdKey="default_user_id",u.SessionNumKey="session_num",u.TransactionNumKey="transaction_num",u.Dimension01Key="dimension01",u.Dimension02Key="dimension02",u.Dimension03Key="dimension03",u.SdkConfigCachedKey="sdk_config_cached",d=u,t.GAState=d}(r=r||{}),function(e){var t,n,i,r;function a(){}t=e.tasks||(e.tasks={}),n=e.utilities.GAUtilities,i=e.logging.GALogger,a.execute=function(e,t,r,o){var s=new Date;if(a.timestampMap[t]||(a.timestampMap[t]=s),a.countMap[t]||(a.countMap[t]=0),3600<=(s.getTime()-a.timestampMap[t].getTime())/1e3&&(a.timestampMap[t]=s,a.countMap[t]=0),!(a.countMap[t]>=a.MaxCount)){var l=n.getHmac(o,r),d=new XMLHttpRequest;d.onreadystatechange=function(){if(4===d.readyState){if(!d.responseText)return;if(200!=d.status)return void i.w("sdk error failed. response code not 200. status code: "+d.status+", description: "+d.statusText+", body: "+d.responseText);a.countMap[t]=a.countMap[t]+1}},d.open("POST",e,!0),d.setRequestHeader("Content-Type","application/json"),d.setRequestHeader("Authorization",l);try{d.send(r)}catch(e){console.error(e)}}},a.MaxCount=10,a.countMap={},a.timestampMap={},r=a,t.SdkErrorTask=r}(r=r||{}),function(e){var t,n,i,r,a,o,s,l,d,u,c;function h(){this.protocol="https",this.hostName="api.gameanalytics.com",this.version="v2",this.remoteConfigsVersion="v1",this.baseUrl=this.protocol+"://"+this.hostName+"/"+this.version,this.remoteConfigsBaseUrl=this.protocol+"://"+this.hostName+"/remote_configs/"+this.remoteConfigsVersion,this.initializeUrlPath="init",this.eventsUrlPath="events",this.useGzip=!1}t=e.http||(e.http={}),n=e.state.GAState,i=e.logging.GALogger,r=e.utilities.GAUtilities,a=e.validators.GAValidator,o=e.tasks.SdkErrorTask,s=e.events.EGASdkErrorCategory,l=e.events.EGASdkErrorArea,d=e.events.EGASdkErrorAction,u=e.events.EGASdkErrorParameter,h.prototype.requestInit=function(e,i){var r=n.getGameKey(),a=this.remoteConfigsBaseUrl+"/"+this.initializeUrlPath+"?game_key="+r+"&interval_seconds=0&configs_hash="+e,o=n.getInitAnnotations(),s=JSON.stringify(o);if(s){var l=this.createPayloadData(s,this.useGzip),d=[];d.push(s),h.sendRequest(a,l,d,this.useGzip,h.initRequestCallback,i)}else i(t.EGAHTTPApiResponse.JsonEncodeFailed,null)},h.prototype.sendEventsInArray=function(e,i,r){if(0!=e.length){var a=n.getGameKey(),o=this.baseUrl+"/"+a+"/"+this.eventsUrlPath,s=JSON.stringify(e);if(s){var l=this.createPayloadData(s,this.useGzip),d=[];d.push(s),d.push(i),d.push(e.length.toString()),h.sendRequest(o,l,d,this.useGzip,h.sendEventInArrayRequestCallback,r)}else r(t.EGAHTTPApiResponse.JsonEncodeFailed,null,i,e.length)}},h.prototype.sendSdkErrorEvent=function(e,t,r,s,l,d,u){if(n.isEventSubmissionEnabled()&&a.validateSdkErrorEvent(d,u,e,t,r)){var c,f=this.baseUrl+"/"+d+"/"+this.eventsUrlPath,g="",v=n.getSdkErrorEventAnnotations(),p=h.sdkErrorCategoryString(e);g+=v.error_category=p;var m=h.sdkErrorAreaString(t);g+=":"+(v.error_area=m);var b=h.sdkErrorActionString(r);v.error_action=b;var y=h.sdkErrorParameterString(s);if(0<y.length&&(v.error_parameter=y),0<l.length){var x=l;l.length>h.MAX_ERROR_MESSAGE_LENGTH&&(x=l.substring(0,h.MAX_ERROR_MESSAGE_LENGTH)),v.reason=x}var S=[];S.push(v),(c=JSON.stringify(S))?o.execute(f,g,c,u):i.w("sendSdkErrorEvent: JSON encoding failed.")}},h.sendEventInArrayRequestCallback=function(e,i,r,a){void 0===a&&(a=null),a[0],a[1];var o,c,f=a[2],g=parseInt(a[3]);o=e.responseText,c=e.status;var v=h.instance.processRequestResponse(c,e.statusText,o,"Events");if(v==t.EGAHTTPApiResponse.Ok||v==t.EGAHTTPApiResponse.Created||v==t.EGAHTTPApiResponse.BadRequest){var p=o?JSON.parse(o):{};if(null==p)return r(t.EGAHTTPApiResponse.JsonDecodeFailed,null,f,g),void h.instance.sendSdkErrorEvent(s.Http,l.EventsHttp,d.FailHttpJsonDecode,u.Undefined,o,n.getGameKey(),n.getGameSecret());t.EGAHTTPApiResponse.BadRequest,r(v,p,f,g)}else r(v,null,f,g)},h.sendRequest=function(e,t,i,a,o,s){var l=new XMLHttpRequest,d=n.getGameSecret(),u=r.getHmac(d,t),c=[];for(var h in c.push(u),i)c.push(i[h]);if(l.onreadystatechange=function(){4===l.readyState&&o(l,e,s,c)},l.open("POST",e,!0),l.setRequestHeader("Content-Type","application/json"),l.setRequestHeader("Authorization",u),a)throw new Error("gzip not supported");try{l.send(t)}catch(e){console.error(e.stack)}},h.initRequestCallback=function(e,i,r,o){var c,f;void 0===o&&(o=null),o[0],o[1],c=e.responseText,f=e.status;var g=c?JSON.parse(c):{},v=h.instance.processRequestResponse(f,e.statusText,c,"Init");if(v==t.EGAHTTPApiResponse.Ok||v==t.EGAHTTPApiResponse.Created||v==t.EGAHTTPApiResponse.BadRequest){if(null==g)return r(t.EGAHTTPApiResponse.JsonDecodeFailed,null,"",0),void h.instance.sendSdkErrorEvent(s.Http,l.InitHttp,d.FailHttpJsonDecode,u.Undefined,c,n.getGameKey(),n.getGameSecret());if(v!==t.EGAHTTPApiResponse.BadRequest){var p=a.validateAndCleanInitRequestResponse(g,v===t.EGAHTTPApiResponse.Created);p?r(v,p,"",0):r(t.EGAHTTPApiResponse.BadResponse,null,"",0)}else r(v,null,"",0)}else r(v,null,"",0)},h.prototype.createPayloadData=function(e,t){if(t)throw new Error("gzip not supported");return e},h.prototype.processRequestResponse=function(e,n,i,r){return i?200===e?t.EGAHTTPApiResponse.Ok:201===e?t.EGAHTTPApiResponse.Created:0===e||401===e?t.EGAHTTPApiResponse.Unauthorized:400===e?t.EGAHTTPApiResponse.BadRequest:500===e?t.EGAHTTPApiResponse.InternalServerError:t.EGAHTTPApiResponse.UnknownResponseCode:t.EGAHTTPApiResponse.NoResponse},h.sdkErrorCategoryString=function(e){switch(e){case s.EventValidation:return"event_validation";case s.Database:return"db";case s.Init:return"init";case s.Http:return"http";case s.Json:return"json"}return""},h.sdkErrorAreaString=function(e){switch(e){case l.BusinessEvent:return"business";case l.ResourceEvent:return"resource";case l.ProgressionEvent:return"progression";case l.DesignEvent:return"design";case l.ErrorEvent:return"error";case l.InitHttp:return"init_http";case l.EventsHttp:return"events_http";case l.ProcessEvents:return"process_events";case l.AddEventsToStore:return"add_events_to_store"}return""},h.sdkErrorActionString=function(e){switch(e){case d.InvalidCurrency:return"invalid_currency";case d.InvalidShortString:return"invalid_short_string";case d.InvalidEventPartLength:return"invalid_event_part_length";case d.InvalidEventPartCharacters:return"invalid_event_part_characters";case d.InvalidStore:return"invalid_store";case d.InvalidFlowType:return"invalid_flow_type";case d.StringEmptyOrNull:return"string_empty_or_null";case d.NotFoundInAvailableCurrencies:return"not_found_in_available_currencies";case d.InvalidAmount:return"invalid_amount";case d.NotFoundInAvailableItemTypes:return"not_found_in_available_item_types";case d.WrongProgressionOrder:return"wrong_progression_order";case d.InvalidEventIdLength:return"invalid_event_id_length";case d.InvalidEventIdCharacters:return"invalid_event_id_characters";case d.InvalidProgressionStatus:return"invalid_progression_status";case d.InvalidSeverity:return"invalid_severity";case d.InvalidLongString:return"invalid_long_string";case d.DatabaseTooLarge:return"db_too_large";case d.DatabaseOpenOrCreate:return"db_open_or_create";case d.JsonError:return"json_error";case d.FailHttpJsonDecode:return"fail_http_json_decode";case d.FailHttpJsonEncode:return"fail_http_json_encode"}return""},h.sdkErrorParameterString=function(e){switch(e){case u.Currency:return"currency";case u.CartType:return"cart_type";case u.ItemType:return"item_type";case u.ItemId:return"item_id";case u.Store:return"store";case u.FlowType:return"flow_type";case u.Amount:return"amount";case u.Progression01:return"progression01";case u.Progression02:return"progression02";case u.Progression03:return"progression03";case u.EventId:return"event_id";case u.ProgressionStatus:return"progression_status";case u.Severity:return"severity";case u.Message:return"message"}return""},h.instance=new h,h.MAX_ERROR_MESSAGE_LENGTH=256,c=h,t.GAHTTPApi=c}(r=r||{}),function(e){var t,n,i,r,a,o,s,l,d,u,c;function h(){}t=e.events||(e.events={}),n=e.store.GAStore,i=e.store.EGAStore,r=e.store.EGAStoreArgsOperator,a=e.state.GAState,o=e.logging.GALogger,s=e.utilities.GAUtilities,l=e.http.EGAHTTPApiResponse,d=e.http.GAHTTPApi,u=e.validators.GAValidator,h.addSessionStartEvent=function(){if(a.isEventSubmissionEnabled()){var e={};e.category=h.CategorySessionStart,a.incrementSessionNum(),n.setItem(a.getGameKey(),a.SessionNumKey,a.getSessionNum().toString()),h.addDimensionsToEvent(e),h.addEventToStore(e),o.i("Add SESSION START event"),h.processEvents(h.CategorySessionStart,!1)}},h.addSessionEndEvent=function(){if(a.isEventSubmissionEnabled()){var e=a.getSessionStart(),t=a.getClientTsAdjusted()-e;t<0&&(o.w("Session length was calculated to be less then 0. Should not be possible. Resetting to 0."),t=0);var n={};n.category=h.CategorySessionEnd,n.length=t,h.addDimensionsToEvent(n),h.addEventToStore(n),o.i("Add SESSION END event."),h.processEvents("",!1)}},h.addBusinessEvent=function(e,t,i,r,s,l){if(void 0===s&&(s=null),a.isEventSubmissionEnabled()){var c=u.validateBusinessEvent(e,t,s,i,r);if(null==c){var f={};a.incrementTransactionNum(),n.setItem(a.getGameKey(),a.TransactionNumKey,a.getTransactionNum().toString()),f.event_id=i+":"+r,f.category=h.CategoryBusiness,f.currency=e,f.amount=t,f[a.TransactionNumKey]=a.getTransactionNum(),s&&(f.cart_type=s),h.addDimensionsToEvent(f),h.addFieldsToEvent(f,a.validateAndCleanCustomFields(l)),o.i("Add BUSINESS event: {currency:"+e+", amount:"+t+", itemType:"+i+", itemId:"+r+", cartType:"+s+"}"),h.addEventToStore(f)}else d.instance.sendSdkErrorEvent(c.category,c.area,c.action,c.parameter,c.reason,a.getGameKey(),a.getGameSecret())}},h.addResourceEvent=function(t,n,i,r,s,l){if(a.isEventSubmissionEnabled()){var c=u.validateResourceEvent(t,n,i,r,s,a.getAvailableResourceCurrencies(),a.getAvailableResourceItemTypes());if(null==c){t===e.EGAResourceFlowType.Sink&&(i*=-1);var f={},g=h.resourceFlowTypeToString(t);f.event_id=g+":"+n+":"+r+":"+s,f.category=h.CategoryResource,f.amount=i,h.addDimensionsToEvent(f),h.addFieldsToEvent(f,a.validateAndCleanCustomFields(l)),o.i("Add RESOURCE event: {currency:"+n+", amount:"+i+", itemType:"+r+", itemId:"+s+"}"),h.addEventToStore(f)}else d.instance.sendSdkErrorEvent(c.category,c.area,c.action,c.parameter,c.reason,a.getGameKey(),a.getGameSecret())}},h.addProgressionEvent=function(t,n,i,r,s,l,c){if(a.isEventSubmissionEnabled()){var f=h.progressionStatusToString(t),g=u.validateProgressionEvent(t,n,i,r);if(null==g){var v,p={};v=i?r?n+":"+i+":"+r:n+":"+i:n,p.category=h.CategoryProgression,p.event_id=f+":"+v;var m=0;l&&t!=e.EGAProgressionStatus.Start&&(p.score=s),t===e.EGAProgressionStatus.Fail&&a.incrementProgressionTries(v),t===e.EGAProgressionStatus.Complete&&(a.incrementProgressionTries(v),m=a.getProgressionTries(v),p.attempt_num=m,a.clearProgressionTries(v)),h.addDimensionsToEvent(p),h.addFieldsToEvent(p,a.validateAndCleanCustomFields(c)),o.i("Add PROGRESSION event: {status:"+f+", progression01:"+n+", progression02:"+i+", progression03:"+r+", score:"+s+", attempt:"+m+"}"),h.addEventToStore(p)}else d.instance.sendSdkErrorEvent(g.category,g.area,g.action,g.parameter,g.reason,a.getGameKey(),a.getGameSecret())}},h.addDesignEvent=function(e,t,n,i){if(a.isEventSubmissionEnabled()){var r=u.validateDesignEvent(e);if(null==r){var s={};s.category=h.CategoryDesign,s.event_id=e,n&&(s.value=t),h.addDimensionsToEvent(s),h.addFieldsToEvent(s,a.validateAndCleanCustomFields(i)),o.i("Add DESIGN event: {eventId:"+e+", value:"+t+"}"),h.addEventToStore(s)}else d.instance.sendSdkErrorEvent(r.category,r.area,r.action,r.parameter,r.reason,a.getGameKey(),a.getGameSecret())}},h.addErrorEvent=function(e,t,n){if(a.isEventSubmissionEnabled()){var i=h.errorSeverityToString(e),r=u.validateErrorEvent(e,t);if(null==r){var s={};s.category=h.CategoryError,s.severity=i,s.message=t,h.addDimensionsToEvent(s),h.addFieldsToEvent(s,a.validateAndCleanCustomFields(n)),o.i("Add ERROR event: {severity:"+i+", message:"+t+"}"),h.addEventToStore(s)}else d.instance.sendSdkErrorEvent(r.category,r.area,r.action,r.parameter,r.reason,a.getGameKey(),a.getGameSecret())}},h.addAdEvent=function(t,n,i,r,s,l,c,f){if(a.isEventSubmissionEnabled()){var g=h.adActionToString(t),v=h.adTypeToString(n),p=h.adErrorToString(s),m=u.validateAdEvent(t,n,i,r);if(null==m){var b={};b.category=h.CategoryAds,b.ad_sdk_name=i,b.ad_placement=r,b.ad_type=v,b.ad_action=g,t==e.EGAAdAction.FailedShow&&0<p.length&&(b.ad_fail_show_reason=p),!c||n!=e.EGAAdType.RewardedVideo&&n!=e.EGAAdType.Video||(b.ad_duration=l),h.addDimensionsToEvent(b),h.addFieldsToEvent(b,a.validateAndCleanCustomFields(f)),o.i("Add AD event: {ad_sdk_name:"+i+", ad_placement:"+r+", ad_type:"+v+", ad_action:"+g+(t==e.EGAAdAction.FailedShow&&0<p.length?", ad_fail_show_reason:"+p:"")+(!c||n!=e.EGAAdType.RewardedVideo&&n!=e.EGAAdType.Video?"":", ad_duration:"+l)+"}"),h.addEventToStore(b)}else d.instance.sendSdkErrorEvent(m.category,m.area,m.action,m.parameter,m.reason,a.getGameKey(),a.getGameSecret())}},h.processEvents=function(e,l){if(a.isEventSubmissionEnabled())try{var u=s.createGuid();l&&(h.cleanupEvents(),h.fixMissingSessionEndEvents());var c=[];c.push(["status",r.Equal,"new"]);var f=[];f.push(["status",r.Equal,"new"]),e&&(c.push(["category",r.Equal,e]),f.push(["category",r.Equal,e]));var g=[];g.push(["status",u]);var v=n.select(i.Events,c);if(!v||0==v.length)return o.i("Event queue: No events to send"),void h.updateSessionStore();if(v.length>h.MaxEventCount){if(!(v=n.select(i.Events,c,!0,h.MaxEventCount)))return;var p=v[v.length-1].client_ts;if(c.push(["client_ts",r.LessOrEqual,p]),!(v=n.select(i.Events,c)))return;f.push(["client_ts",r.LessOrEqual,p])}if(o.i("Event queue: Sending "+v.length+" events."),!n.update(i.Events,g,f))return;for(var m=[],b=0;b<v.length;++b){var y=v[b],x=JSON.parse(s.decode64(y.event));0!=x.length&&m.push(x)}d.instance.sendEventsInArray(m,u,h.processEventsCallback)}catch(e){o.e("Error during ProcessEvents(): "+e.stack),d.instance.sendSdkErrorEvent(t.EGASdkErrorCategory.Json,t.EGASdkErrorArea.ProcessEvents,t.EGASdkErrorAction.JsonError,t.EGASdkErrorParameter.Undefined,e.stack,a.getGameKey(),a.getGameSecret())}},h.processEventsCallback=function(e,t,a,s){var d=[];if(d.push(["status",r.Equal,a]),e===l.Ok)n.delete(i.Events,d),o.i("Event queue: "+s+" events sent.");else if(e===l.NoResponse){var u=[];u.push(["status","new"]),o.w("Event queue: Failed to send events to collector - Retrying next time"),n.update(i.Events,u,d)}else{if(t){var c,h=0;for(var f in t)0==h&&(c=t[f]),++h;e===l.BadRequest&&c.constructor===Array?o.w("Event queue: "+s+" events sent. "+h+" events failed GA server validation."):o.w("Event queue: Failed to send events.")}else o.w("Event queue: Failed to send events.");n.delete(i.Events,d)}},h.cleanupEvents=function(){n.update(i.Events,[["status","new"]])},h.fixMissingSessionEndEvents=function(){if(a.isEventSubmissionEnabled()){var e=[];e.push(["session_id",r.NotEqual,a.getSessionId()]);var t=n.select(i.Sessions,e);if(t&&0!=t.length){o.i(t.length+" session(s) located with missing session_end event.");for(var l=0;l<t.length;++l){var d=JSON.parse(s.decode64(t[l].event)),u=d.client_ts-t[l].timestamp;u=Math.max(0,u),d.category=h.CategorySessionEnd,d.length=u,h.addEventToStore(d)}}}},h.addEventToStore=function(e){if(a.isEventSubmissionEnabled())if(a.isInitialized())try{if(n.isStoreTooLargeForEvents()&&!s.stringMatch(e.category,/^(user|session_end|business)$/))return o.w("Database too large. Event has been blocked."),void d.instance.sendSdkErrorEvent(t.EGASdkErrorCategory.Database,t.EGASdkErrorArea.AddEventsToStore,t.EGASdkErrorAction.DatabaseTooLarge,t.EGASdkErrorParameter.Undefined,"",a.getGameKey(),a.getGameSecret());var l=a.getEventAnnotations(),u=s.encode64(JSON.stringify(l));for(var c in e)l[c]=e[c];var f=JSON.stringify(l);o.ii("Event added to queue: "+f);var g={status:"new"};g.category=l.category,g.session_id=l.session_id,g.client_ts=l.client_ts,g.event=s.encode64(JSON.stringify(l)),n.insert(i.Events,g),e.category==h.CategorySessionEnd?n.delete(i.Sessions,[["session_id",r.Equal,l.session_id]]):((g={}).session_id=l.session_id,g.timestamp=a.getSessionStart(),g.event=u,n.insert(i.Sessions,g,!0,"session_id")),n.isStorageAvailable()&&n.save(a.getGameKey())}catch(c){o.e("addEventToStore: error"),o.e(c.stack),d.instance.sendSdkErrorEvent(t.EGASdkErrorCategory.Database,t.EGASdkErrorArea.AddEventsToStore,t.EGASdkErrorAction.DatabaseTooLarge,t.EGASdkErrorParameter.Undefined,c.stack,a.getGameKey(),a.getGameSecret())}else o.w("Could not add event: SDK is not initialized")},h.updateSessionStore=function(){if(a.sessionIsStarted()){var e={};e.session_id=a.instance.sessionId,e.timestamp=a.getSessionStart(),e.event=s.encode64(JSON.stringify(a.getEventAnnotations())),n.insert(i.Sessions,e,!0,"session_id"),n.isStorageAvailable()&&n.save(a.getGameKey())}},h.addDimensionsToEvent=function(e){e&&(a.getCurrentCustomDimension01()&&(e.custom_01=a.getCurrentCustomDimension01()),a.getCurrentCustomDimension02()&&(e.custom_02=a.getCurrentCustomDimension02()),a.getCurrentCustomDimension03()&&(e.custom_03=a.getCurrentCustomDimension03()))},h.addFieldsToEvent=function(e,t){e&&t&&0<Object.keys(t).length&&(e.custom_fields=t)},h.resourceFlowTypeToString=function(t){return t==e.EGAResourceFlowType.Source||t==e.EGAResourceFlowType[e.EGAResourceFlowType.Source]?"Source":t==e.EGAResourceFlowType.Sink||t==e.EGAResourceFlowType[e.EGAResourceFlowType.Sink]?"Sink":""},h.progressionStatusToString=function(t){return t==e.EGAProgressionStatus.Start||t==e.EGAProgressionStatus[e.EGAProgressionStatus.Start]?"Start":t==e.EGAProgressionStatus.Complete||t==e.EGAProgressionStatus[e.EGAProgressionStatus.Complete]?"Complete":t==e.EGAProgressionStatus.Fail||t==e.EGAProgressionStatus[e.EGAProgressionStatus.Fail]?"Fail":""},h.errorSeverityToString=function(t){return t==e.EGAErrorSeverity.Debug||t==e.EGAErrorSeverity[e.EGAErrorSeverity.Debug]?"debug":t==e.EGAErrorSeverity.Info||t==e.EGAErrorSeverity[e.EGAErrorSeverity.Info]?"info":t==e.EGAErrorSeverity.Warning||t==e.EGAErrorSeverity[e.EGAErrorSeverity.Warning]?"warning":t==e.EGAErrorSeverity.Error||t==e.EGAErrorSeverity[e.EGAErrorSeverity.Error]?"error":t==e.EGAErrorSeverity.Critical||t==e.EGAErrorSeverity[e.EGAErrorSeverity.Critical]?"critical":""},h.adActionToString=function(t){return t==e.EGAAdAction.Clicked||t==e.EGAAdAction[e.EGAAdAction.Clicked]?"clicked":t==e.EGAAdAction.Show||t==e.EGAAdAction[e.EGAAdAction.Show]?"show":t==e.EGAAdAction.FailedShow||t==e.EGAAdAction[e.EGAAdAction.FailedShow]?"failed_show":t==e.EGAAdAction.RewardReceived||t==e.EGAAdAction[e.EGAAdAction.RewardReceived]?"reward_recevied":""},h.adErrorToString=function(t){return t==e.EGAAdError.Unknown||t==e.EGAAdError[e.EGAAdError.Unknown]?"unknown":t==e.EGAAdError.Offline||t==e.EGAAdError[e.EGAAdError.Offline]?"offline":t==e.EGAAdError.NoFill||t==e.EGAAdError[e.EGAAdError.NoFill]?"no_fill":t==e.EGAAdError.InternalError||t==e.EGAAdError[e.EGAAdError.InternalError]?"internal_error":t==e.EGAAdError.InvalidRequest||t==e.EGAAdError[e.EGAAdError.InvalidRequest]?"invalid_request":t==e.EGAAdError.UnableToPrecache||t==e.EGAAdError[e.EGAAdError.UnableToPrecache]?"unable_to_precache":""},h.adTypeToString=function(t){return t==e.EGAAdType.Video||t==e.EGAAdType[e.EGAAdType.Video]?"video":t==e.EGAAdType.RewardedVideo||t==e.EGAAdError[e.EGAAdType.RewardedVideo]?"rewarded_video":t==e.EGAAdType.Playable||t==e.EGAAdError[e.EGAAdType.Playable]?"playable":t==e.EGAAdType.Interstitial||t==e.EGAAdError[e.EGAAdType.Interstitial]?"interstitial":t==e.EGAAdType.OfferWall||t==e.EGAAdError[e.EGAAdType.OfferWall]?"offer_wall":t==e.EGAAdType.Banner||t==e.EGAAdError[e.EGAAdType.Banner]?"banner":""},h.CategorySessionStart="user",h.CategorySessionEnd="session_end",h.CategoryDesign="design",h.CategoryBusiness="business",h.CategoryProgression="progression",h.CategoryResource="resource",h.CategoryError="error",h.CategoryAds="ads",h.MaxEventCount=500,c=h,t.GAEvents=c}(r=r||{}),function(e){var t,n,i,r,a;function o(){this.blocks=new t.PriorityQueue({compare:function(e,t){return e-t}}),this.id2TimedBlockMap={},o.startThread()}t=e.threading||(e.threading={}),n=e.logging.GALogger,i=e.state.GAState,r=e.events.GAEvents,o.createTimedBlock=function(e){void 0===e&&(e=0);var n=new Date;return n.setSeconds(n.getSeconds()+e),new t.TimedBlock(n)},o.performTaskOnGAThread=function(e,n){void 0===n&&(n=0);var i=new Date;i.setSeconds(i.getSeconds()+n);var r=new t.TimedBlock(i);r.block=e,o.instance.id2TimedBlockMap[r.id]=r,o.instance.addTimedBlock(r)},o.performTimedBlockOnGAThread=function(e){o.instance.id2TimedBlockMap[e.id]=e,o.instance.addTimedBlock(e)},o.scheduleTimer=function(e,n){var i=new Date;i.setSeconds(i.getSeconds()+e);var r=new t.TimedBlock(i);return r.block=n,o.instance.id2TimedBlockMap[r.id]=r,o.instance.addTimedBlock(r),r.id},o.getTimedBlockById=function(e){return e in o.instance.id2TimedBlockMap?o.instance.id2TimedBlockMap[e]:null},o.ensureEventQueueIsRunning=function(){o.instance.keepRunning=!0,o.instance.isRunning||(o.instance.isRunning=!0,o.scheduleTimer(o.ProcessEventsIntervalInSeconds,o.processEventQueue))},o.endSessionAndStopQueue=function(){i.isInitialized()&&(n.i("Ending session."),o.stopEventQueue(),i.isEnabled()&&i.sessionIsStarted()&&(r.addSessionEndEvent(),i.instance.sessionStart=0))},o.stopEventQueue=function(){o.instance.keepRunning=!1},o.ignoreTimer=function(e){e in o.instance.id2TimedBlockMap&&(o.instance.id2TimedBlockMap[e].ignore=!0)},o.setEventProcessInterval=function(e){0<e&&(o.ProcessEventsIntervalInSeconds=e)},o.prototype.addTimedBlock=function(e){this.blocks.enqueue(e.deadline.getTime(),e)},o.run=function(){clearTimeout(o.runTimeoutId);try{for(var e;e=o.getNextBlock();)if(!e.ignore)if(e.async){if(!e.running){e.running=!0,e.block();break}}else e.block();return void(o.runTimeoutId=setTimeout(o.run,o.ThreadWaitTimeInMs))}catch(e){n.e("Error on GA thread"),n.e(e.stack)}},o.startThread=function(){o.runTimeoutId=setTimeout(o.run,0)},o.getNextBlock=function(){var e=new Date;return o.instance.blocks.hasItems()&&o.instance.blocks.peek().deadline.getTime()<=e.getTime()?o.instance.blocks.peek().async&&o.instance.blocks.peek().running?o.instance.blocks.peek():o.instance.blocks.dequeue():null},o.processEventQueue=function(){r.processEvents("",!0),o.instance.keepRunning?o.scheduleTimer(o.ProcessEventsIntervalInSeconds,o.processEventQueue):o.instance.isRunning=!1},o.instance=new o,o.ThreadWaitTimeInMs=1e3,o.ProcessEventsIntervalInSeconds=8,a=o,t.GAThreading=a}(r=r||{}),function(e){var t=e.threading.GAThreading,n=e.logging.GALogger,i=e.store.GAStore,r=e.state.GAState,a=e.http.GAHTTPApi,o=e.device.GADevice,s=e.validators.GAValidator,l=e.http.EGAHTTPApiResponse,d=e.utilities.GAUtilities,u=e.events.GAEvents,c=(h.init=function(){if(o.touch(),h.methodMap.configureAvailableCustomDimensions01=h.configureAvailableCustomDimensions01,h.methodMap.configureAvailableCustomDimensions02=h.configureAvailableCustomDimensions02,h.methodMap.configureAvailableCustomDimensions03=h.configureAvailableCustomDimensions03,h.methodMap.configureAvailableResourceCurrencies=h.configureAvailableResourceCurrencies,h.methodMap.configureAvailableResourceItemTypes=h.configureAvailableResourceItemTypes,h.methodMap.configureBuild=h.configureBuild,h.methodMap.configureSdkGameEngineVersion=h.configureSdkGameEngineVersion,h.methodMap.configureGameEngineVersion=h.configureGameEngineVersion,h.methodMap.configureUserId=h.configureUserId,h.methodMap.initialize=h.initialize,h.methodMap.addBusinessEvent=h.addBusinessEvent,h.methodMap.addResourceEvent=h.addResourceEvent,h.methodMap.addProgressionEvent=h.addProgressionEvent,h.methodMap.addDesignEvent=h.addDesignEvent,h.methodMap.addErrorEvent=h.addErrorEvent,h.methodMap.addErrorEvent=h.addErrorEvent,h.methodMap.setEnabledInfoLog=h.setEnabledInfoLog,h.methodMap.setEnabledVerboseLog=h.setEnabledVerboseLog,h.methodMap.setEnabledManualSessionHandling=h.setEnabledManualSessionHandling,h.methodMap.setEnabledEventSubmission=h.setEnabledEventSubmission,h.methodMap.setCustomDimension01=h.setCustomDimension01,h.methodMap.setCustomDimension02=h.setCustomDimension02,h.methodMap.setCustomDimension03=h.setCustomDimension03,h.methodMap.setEventProcessInterval=h.setEventProcessInterval,h.methodMap.startSession=h.startSession,h.methodMap.endSession=h.endSession,h.methodMap.onStop=h.onStop,h.methodMap.onResume=h.onResume,h.methodMap.addRemoteConfigsListener=h.addRemoteConfigsListener,h.methodMap.removeRemoteConfigsListener=h.removeRemoteConfigsListener,h.methodMap.getRemoteConfigsValueAsString=h.getRemoteConfigsValueAsString,h.methodMap.isRemoteConfigsReady=h.isRemoteConfigsReady,h.methodMap.getRemoteConfigsContentAsString=h.getRemoteConfigsContentAsString,"undefined"!=typeof window&&void 0!==window.GameAnalytics&&void 0!==window.GameAnalytics.q){var e=window.GameAnalytics.q;for(var n in e)h.gaCommand.apply(null,e[n])}window.addEventListener("beforeunload",(function(){console.log("addEventListener unload"),t.endSessionAndStopQueue()}))},h.gaCommand=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];0<t.length&&t[0]in e.GameAnalytics.methodMap&&(1<t.length?e.GameAnalytics.methodMap[t[0]].apply(null,Array.prototype.slice.call(t,1)):e.GameAnalytics.methodMap[t[0]]())},h.configureAvailableCustomDimensions01=function(e){void 0===e&&(e=[]),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!1)?n.w("Available custom dimensions must be set before SDK is initialized"):r.setAvailableCustomDimensions01(e)}))},h.configureAvailableCustomDimensions02=function(e){void 0===e&&(e=[]),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!1)?n.w("Available custom dimensions must be set before SDK is initialized"):r.setAvailableCustomDimensions02(e)}))},h.configureAvailableCustomDimensions03=function(e){void 0===e&&(e=[]),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!1)?n.w("Available custom dimensions must be set before SDK is initialized"):r.setAvailableCustomDimensions03(e)}))},h.configureAvailableResourceCurrencies=function(e){void 0===e&&(e=[]),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!1)?n.w("Available resource currencies must be set before SDK is initialized"):r.setAvailableResourceCurrencies(e)}))},h.configureAvailableResourceItemTypes=function(e){void 0===e&&(e=[]),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!1)?n.w("Available resource item types must be set before SDK is initialized"):r.setAvailableResourceItemTypes(e)}))},h.configureBuild=function(e){void 0===e&&(e=""),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!1)?n.w("Build version must be set before SDK is initialized."):s.validateBuild(e)?r.setBuild(e):n.i("Validation fail - configure build: Cannot be null, empty or above 32 length. String: "+e)}))},h.configureSdkGameEngineVersion=function(e){void 0===e&&(e=""),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!1)||(s.validateSdkWrapperVersion(e)?o.sdkGameEngineVersion=e:n.i("Validation fail - configure sdk version: Sdk version not supported. String: "+e))}))},h.configureGameEngineVersion=function(e){void 0===e&&(e=""),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!1)||(s.validateEngineVersion(e)?o.gameEngineVersion=e:n.i("Validation fail - configure game engine version: Game engine version not supported. String: "+e))}))},h.configureUserId=function(e){void 0===e&&(e=""),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!1)?n.w("A custom user id must be set before SDK is initialized."):s.validateUserId(e)?r.setUserId(e):n.i("Validation fail - configure user_id: Cannot be null, empty or above 64 length. Will use default user_id method. Used string: "+e)}))},h.initialize=function(e,i){void 0===e&&(e=""),void 0===i&&(i=""),o.updateConnectionType();var a=t.createTimedBlock();a.async=!0,h.initTimedBlockId=a.id,a.block=function(){h.isSdkReady(!0,!1)?n.w("SDK already initialized. Can only be called once."):s.validateKeys(e,i)?(r.setKeys(e,i),h.internalInitialize()):n.w("SDK failed initialize. Game key or secret key is invalid. Can only contain characters A-z 0-9, gameKey is 32 length, gameSecret is 40 length. Failed keys - gameKey: "+e+", secretKey: "+i)},t.performTimedBlockOnGAThread(a)},h.addBusinessEvent=function(e,n,i,r,a){void 0===e&&(e=""),void 0===n&&(n=0),void 0===i&&(i=""),void 0===r&&(r=""),void 0===a&&(a=""),o.updateConnectionType(),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!0,"Could not add business event")&&u.addBusinessEvent(e,n,i,r,a,{})}))},h.addResourceEvent=function(n,i,r,a,s){void 0===n&&(n=e.EGAResourceFlowType.Undefined),void 0===i&&(i=""),void 0===r&&(r=0),void 0===a&&(a=""),void 0===s&&(s=""),o.updateConnectionType(),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!0,"Could not add resource event")&&u.addResourceEvent(n,i,r,a,s,{})}))},h.addProgressionEvent=function(n,i,r,a,s){void 0===n&&(n=e.EGAProgressionStatus.Undefined),void 0===i&&(i=""),void 0===r&&(r=""),void 0===a&&(a=""),o.updateConnectionType(),t.performTaskOnGAThread((function(){if(h.isSdkReady(!0,!0,"Could not add progression event")){var e="number"==typeof s;u.addProgressionEvent(n,i,r,a,e?s:0,e,{})}}))},h.addDesignEvent=function(e,n){o.updateConnectionType(),t.performTaskOnGAThread((function(){if(h.isSdkReady(!0,!0,"Could not add design event")){var t="number"==typeof n;u.addDesignEvent(e,t?n:0,t,{})}}))},h.addErrorEvent=function(n,i){void 0===n&&(n=e.EGAErrorSeverity.Undefined),void 0===i&&(i=""),o.updateConnectionType(),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!0,"Could not add error event")&&u.addErrorEvent(n,i,{})}))},h.addAdEventWithNoAdReason=function(n,i,r,a,s){void 0===n&&(n=e.EGAAdAction.Undefined),void 0===i&&(i=e.EGAAdType.Undefined),void 0===r&&(r=""),void 0===a&&(a=""),void 0===s&&(s=e.EGAAdError.Undefined),o.updateConnectionType(),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!0,"Could not add ad event")&&u.addAdEvent(n,i,r,a,s,0,!1,{})}))},h.addAdEventWithDuration=function(n,i,r,a,s){void 0===n&&(n=e.EGAAdAction.Undefined),void 0===i&&(i=e.EGAAdType.Undefined),void 0===r&&(r=""),void 0===a&&(a=""),void 0===s&&(s=0),o.updateConnectionType(),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!0,"Could not add ad event")&&u.addAdEvent(n,i,r,a,e.EGAAdError.Undefined,s,!0,{})}))},h.addAdEvent=function(n,i,r,a){void 0===n&&(n=e.EGAAdAction.Undefined),void 0===i&&(i=e.EGAAdType.Undefined),void 0===r&&(r=""),void 0===a&&(a=""),o.updateConnectionType(),t.performTaskOnGAThread((function(){h.isSdkReady(!0,!0,"Could not add ad event")&&u.addAdEvent(n,i,r,a,e.EGAAdError.Undefined,0,!1,{})}))},h.setEnabledInfoLog=function(e){void 0===e&&(e=!1),t.performTaskOnGAThread((function(){e?(n.setInfoLog(e),n.i("Info logging enabled")):(n.i("Info logging disabled"),n.setInfoLog(e))}))},h.setEnabledVerboseLog=function(e){void 0===e&&(e=!1),t.performTaskOnGAThread((function(){e?(n.setVerboseLog(e),n.i("Verbose logging enabled")):(n.i("Verbose logging disabled"),n.setVerboseLog(e))}))},h.setEnabledManualSessionHandling=function(e){void 0===e&&(e=!1),t.performTaskOnGAThread((function(){r.setManualSessionHandling(e)}))},h.setEnabledEventSubmission=function(e){void 0===e&&(e=!1),t.performTaskOnGAThread((function(){e?(r.setEnabledEventSubmission(e),n.i("Event submission enabled")):(n.i("Event submission disabled"),r.setEnabledEventSubmission(e))}))},h.setCustomDimension01=function(e){void 0===e&&(e=""),t.performTaskOnGAThread((function(){s.validateDimension01(e,r.getAvailableCustomDimensions01())?r.setCustomDimension01(e):n.w("Could not set custom01 dimension value to '"+e+"'. Value not found in available custom01 dimension values")}))},h.setCustomDimension02=function(e){void 0===e&&(e=""),t.performTaskOnGAThread((function(){s.validateDimension02(e,r.getAvailableCustomDimensions02())?r.setCustomDimension02(e):n.w("Could not set custom02 dimension value to '"+e+"'. Value not found in available custom02 dimension values")}))},h.setCustomDimension03=function(e){void 0===e&&(e=""),t.performTaskOnGAThread((function(){s.validateDimension03(e,r.getAvailableCustomDimensions03())?r.setCustomDimension03(e):n.w("Could not set custom03 dimension value to '"+e+"'. Value not found in available custom03 dimension values")}))},h.setEventProcessInterval=function(e){t.performTaskOnGAThread((function(){t.setEventProcessInterval(e)}))},h.startSession=function(){if(r.isInitialized()){var e=t.createTimedBlock();e.async=!0,h.initTimedBlockId=e.id,e.block=function(){r.isEnabled()&&r.sessionIsStarted()&&t.endSessionAndStopQueue(),h.resumeSessionAndStartQueue()},t.performTimedBlockOnGAThread(e)}},h.endSession=function(){h.onStop()},h.onStop=function(){t.performTaskOnGAThread((function(){try{t.endSessionAndStopQueue()}catch(e){}}))},h.onResume=function(){var e=t.createTimedBlock();e.async=!0,h.initTimedBlockId=e.id,e.block=function(){h.resumeSessionAndStartQueue()},t.performTimedBlockOnGAThread(e)},h.getRemoteConfigsValueAsString=function(e,t){return void 0===t&&(t=null),r.getConfigurationStringValue(e,t)},h.isRemoteConfigsReady=function(){return r.isRemoteConfigsReady()},h.addRemoteConfigsListener=function(e){r.addRemoteConfigsListener(e)},h.removeRemoteConfigsListener=function(e){r.removeRemoteConfigsListener(e)},h.getRemoteConfigsContentAsString=function(){return r.getRemoteConfigsContentAsString()},h.getABTestingId=function(){return r.getABTestingId()},h.getABTestingVariantId=function(){return r.getABTestingVariantId()},h.internalInitialize=function(){r.ensurePersistedStates(),i.setItem(r.getGameKey(),r.DefaultUserIdKey,r.getDefaultId()),r.setInitialized(!0),h.newSession(),r.isEnabled()&&t.ensureEventQueueIsRunning()},h.newSession=function(){n.i("Starting a new session."),r.validateAndFixCurrentDimensions(),a.instance.requestInit(r.instance.configsHash,h.startNewSessionCallback)},h.startNewSessionCallback=function(e,a){if(e!==l.Ok&&e!==l.Created||!a)e==l.Unauthorized?(n.w("Initialize SDK failed - Unauthorized"),r.instance.initAuthorized=!1):(e===l.NoResponse||e===l.RequestTimeout?n.i("Init call (session start) failed - no response. Could be offline or timeout."):e===l.BadResponse||e===l.JsonEncodeFailed||e===l.JsonDecodeFailed?n.i("Init call (session start) failed - bad response. Could be bad response from proxy or GA servers."):e!==l.BadRequest&&e!==l.UnknownResponseCode||n.i("Init call (session start) failed - bad request or unknown response."),null==r.instance.sdkConfig?null!=r.instance.sdkConfigCached?(n.i("Init call (session start) failed - using cached init values."),r.instance.sdkConfig=r.instance.sdkConfigCached):(n.i("Init call (session start) failed - using default init values."),r.instance.sdkConfig=r.instance.sdkConfigDefault):n.i("Init call (session start) failed - using cached init values."),r.instance.initAuthorized=!0);else{var o=0;if(a.server_ts){var s=a.server_ts;o=r.calculateServerTimeOffset(s)}if(a.time_offset=o,e!=l.Created){var c=r.getSdkConfig();c.configs&&(a.configs=c.configs),c.configs_hash&&(a.configs_hash=c.configs_hash),c.ab_id&&(a.ab_id=c.ab_id),c.ab_variant_id&&(a.ab_variant_id=c.ab_variant_id)}r.instance.configsHash=a.configs_hash?a.configs_hash:"",r.instance.abId=a.ab_id?a.ab_id:"",r.instance.abVariantId=a.ab_variant_id?a.ab_variant_id:"",i.setItem(r.getGameKey(),r.SdkConfigCachedKey,d.encode64(JSON.stringify(a))),r.instance.sdkConfigCached=a,r.instance.sdkConfig=a,r.instance.initAuthorized=!0}if(r.instance.clientServerTimeOffset=r.getSdkConfig().time_offset?r.getSdkConfig().time_offset:0,r.populateConfigurations(r.getSdkConfig()),!r.isEnabled())return n.w("Could not start session: SDK is disabled."),void t.stopEventQueue();t.ensureEventQueueIsRunning();var f=d.createGuid();r.instance.sessionId=f,r.instance.sessionStart=r.getClientTsAdjusted(),u.addSessionStartEvent();var g=t.getTimedBlockById(h.initTimedBlockId);null!=g&&(g.running=!1),h.initTimedBlockId=-1},h.resumeSessionAndStartQueue=function(){r.isInitialized()&&(n.i("Resuming session."),r.sessionIsStarted()||h.newSession())},h.isSdkReady=function(e,t,i){return void 0===t&&(t=!0),void 0===i&&(i=""),i&&(i+=": "),e&&!r.isInitialized()?(t&&n.w(i+"SDK is not initialized"),!1):e&&!r.isEnabled()?(t&&n.w(i+"SDK is disabled"),!1):!(e&&!r.sessionIsStarted()&&(t&&n.w(i+"Session has not started yet"),1))},h.initTimedBlockId=-1,h.methodMap={},h);function h(){}e.GameAnalytics=c}(r=r||{}),r.GameAnalytics.init();var l=r.GameAnalytics.gaCommand;e.gameanalytics=r,e.GameAnalytics=l}(this),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(function(){try{return require("moment")}catch(e){}}()):"function"==typeof define&&define.amd?define(["require"],(function(e){return t(function(){try{return e("moment")}catch(e){}}())})):(e=e||self).Chart=t(e.moment)}(this,(function(e){"use strict";e=e&&e.hasOwnProperty("default")?e.default:e;var t={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},n=function(e,t){return e(t={exports:{}}),t.exports}((function(e){var n={};for(var i in t)t.hasOwnProperty(i)&&(n[t[i]]=i);var r=e.exports={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};for(var a in r)if(r.hasOwnProperty(a)){if(!("channels"in r[a]))throw new Error("missing channels property: "+a);if(!("labels"in r[a]))throw new Error("missing channel labels property: "+a);if(r[a].labels.length!==r[a].channels)throw new Error("channel and label counts mismatch: "+a);var o=r[a].channels,s=r[a].labels;delete r[a].channels,delete r[a].labels,Object.defineProperty(r[a],"channels",{value:o}),Object.defineProperty(r[a],"labels",{value:s})}r.rgb.hsl=function(e){var t,n,i=e[0]/255,r=e[1]/255,a=e[2]/255,o=Math.min(i,r,a),s=Math.max(i,r,a),l=s-o;return s===o?t=0:i===s?t=(r-a)/l:r===s?t=2+(a-i)/l:a===s&&(t=4+(i-r)/l),(t=Math.min(60*t,360))<0&&(t+=360),n=(o+s)/2,[t,100*(s===o?0:n<=.5?l/(s+o):l/(2-s-o)),100*n]},r.rgb.hsv=function(e){var t,n,i,r,a,o=e[0]/255,s=e[1]/255,l=e[2]/255,d=Math.max(o,s,l),u=d-Math.min(o,s,l),c=function(e){return(d-e)/6/u+.5};return 0===u?r=a=0:(a=u/d,t=c(o),n=c(s),i=c(l),o===d?r=i-n:s===d?r=1/3+t-i:l===d&&(r=2/3+n-t),r<0?r+=1:r>1&&(r-=1)),[360*r,100*a,100*d]},r.rgb.hwb=function(e){var t=e[0],n=e[1],i=e[2];return[r.rgb.hsl(e)[0],1/255*Math.min(t,Math.min(n,i))*100,100*(i=1-1/255*Math.max(t,Math.max(n,i)))]},r.rgb.cmyk=function(e){var t,n=e[0]/255,i=e[1]/255,r=e[2]/255;return[100*((1-n-(t=Math.min(1-n,1-i,1-r)))/(1-t)||0),100*((1-i-t)/(1-t)||0),100*((1-r-t)/(1-t)||0),100*t]},r.rgb.keyword=function(e){var i=n[e];if(i)return i;var r,a,o,s=1/0;for(var l in t)if(t.hasOwnProperty(l)){var d=(a=e,o=t[l],Math.pow(a[0]-o[0],2)+Math.pow(a[1]-o[1],2)+Math.pow(a[2]-o[2],2));d<s&&(s=d,r=l)}return r},r.keyword.rgb=function(e){return t[e]},r.rgb.xyz=function(e){var t=e[0]/255,n=e[1]/255,i=e[2]/255;return[100*(.4124*(t=t>.04045?Math.pow((t+.055)/1.055,2.4):t/12.92)+.3576*(n=n>.04045?Math.pow((n+.055)/1.055,2.4):n/12.92)+.1805*(i=i>.04045?Math.pow((i+.055)/1.055,2.4):i/12.92)),100*(.2126*t+.7152*n+.0722*i),100*(.0193*t+.1192*n+.9505*i)]},r.rgb.lab=function(e){var t=r.rgb.xyz(e),n=t[0],i=t[1],a=t[2];return i/=100,a/=108.883,n=(n/=95.047)>.008856?Math.pow(n,1/3):7.787*n+16/116,[116*(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116)-16,500*(n-i),200*(i-(a=a>.008856?Math.pow(a,1/3):7.787*a+16/116))]},r.hsl.rgb=function(e){var t,n,i,r,a,o=e[0]/360,s=e[1]/100,l=e[2]/100;if(0===s)return[a=255*l,a,a];t=2*l-(n=l<.5?l*(1+s):l+s-l*s),r=[0,0,0];for(var d=0;d<3;d++)(i=o+1/3*-(d-1))<0&&i++,i>1&&i--,a=6*i<1?t+6*(n-t)*i:2*i<1?n:3*i<2?t+(n-t)*(2/3-i)*6:t,r[d]=255*a;return r},r.hsl.hsv=function(e){var t=e[0],n=e[1]/100,i=e[2]/100,r=n,a=Math.max(i,.01);return n*=(i*=2)<=1?i:2-i,r*=a<=1?a:2-a,[t,100*(0===i?2*r/(a+r):2*n/(i+n)),(i+n)/2*100]},r.hsv.rgb=function(e){var t=e[0]/60,n=e[1]/100,i=e[2]/100,r=Math.floor(t)%6,a=t-Math.floor(t),o=255*i*(1-n),s=255*i*(1-n*a),l=255*i*(1-n*(1-a));switch(i*=255,r){case 0:return[i,l,o];case 1:return[s,i,o];case 2:return[o,i,l];case 3:return[o,s,i];case 4:return[l,o,i];case 5:return[i,o,s]}},r.hsv.hsl=function(e){var t,n,i,r=e[0],a=e[1]/100,o=e[2]/100,s=Math.max(o,.01);return i=(2-a)*o,n=a*s,[r,100*(n=(n/=(t=(2-a)*s)<=1?t:2-t)||0),100*(i/=2)]},r.hwb.rgb=function(e){var t,n,i,r,a,o,s,l=e[0]/360,d=e[1]/100,u=e[2]/100,c=d+u;switch(c>1&&(d/=c,u/=c),i=6*l-(t=Math.floor(6*l)),0!=(1&t)&&(i=1-i),r=d+i*((n=1-u)-d),t){default:case 6:case 0:a=n,o=r,s=d;break;case 1:a=r,o=n,s=d;break;case 2:a=d,o=n,s=r;break;case 3:a=d,o=r,s=n;break;case 4:a=r,o=d,s=n;break;case 5:a=n,o=d,s=r}return[255*a,255*o,255*s]},r.cmyk.rgb=function(e){var t=e[0]/100,n=e[1]/100,i=e[2]/100,r=e[3]/100;return[255*(1-Math.min(1,t*(1-r)+r)),255*(1-Math.min(1,n*(1-r)+r)),255*(1-Math.min(1,i*(1-r)+r))]},r.xyz.rgb=function(e){var t,n,i,r=e[0]/100,a=e[1]/100,o=e[2]/100;return n=-.9689*r+1.8758*a+.0415*o,i=.0557*r+-.204*a+1.057*o,t=(t=3.2406*r+-1.5372*a+-.4986*o)>.0031308?1.055*Math.pow(t,1/2.4)-.055:12.92*t,n=n>.0031308?1.055*Math.pow(n,1/2.4)-.055:12.92*n,i=i>.0031308?1.055*Math.pow(i,1/2.4)-.055:12.92*i,[255*(t=Math.min(Math.max(0,t),1)),255*(n=Math.min(Math.max(0,n),1)),255*(i=Math.min(Math.max(0,i),1))]},r.xyz.lab=function(e){var t=e[0],n=e[1],i=e[2];return n/=100,i/=108.883,t=(t/=95.047)>.008856?Math.pow(t,1/3):7.787*t+16/116,[116*(n=n>.008856?Math.pow(n,1/3):7.787*n+16/116)-16,500*(t-n),200*(n-(i=i>.008856?Math.pow(i,1/3):7.787*i+16/116))]},r.lab.xyz=function(e){var t,n,i,r=e[0];t=e[1]/500+(n=(r+16)/116),i=n-e[2]/200;var a=Math.pow(n,3),o=Math.pow(t,3),s=Math.pow(i,3);return n=a>.008856?a:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,i=s>.008856?s:(i-16/116)/7.787,[t*=95.047,n*=100,i*=108.883]},r.lab.lch=function(e){var t,n=e[0],i=e[1],r=e[2];return(t=360*Math.atan2(r,i)/2/Math.PI)<0&&(t+=360),[n,Math.sqrt(i*i+r*r),t]},r.lch.lab=function(e){var t,n=e[0],i=e[1];return t=e[2]/360*2*Math.PI,[n,i*Math.cos(t),i*Math.sin(t)]},r.rgb.ansi16=function(e){var t=e[0],n=e[1],i=e[2],a=1 in arguments?arguments[1]:r.rgb.hsv(e)[2];if(0===(a=Math.round(a/50)))return 30;var o=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return 2===a&&(o+=60),o},r.hsv.ansi16=function(e){return r.rgb.ansi16(r.hsv.rgb(e),e[2])},r.rgb.ansi256=function(e){var t=e[0],n=e[1],i=e[2];return t===n&&n===i?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)},r.ansi16.rgb=function(e){var t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),[t=t/10.5*255,t,t];var n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},r.ansi256.rgb=function(e){if(e>=232){var t=10*(e-232)+8;return[t,t,t]}var n;return e-=16,[Math.floor(e/36)/5*255,Math.floor((n=e%36)/6)/5*255,n%6/5*255]},r.rgb.hex=function(e){var t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},r.hex.rgb=function(e){var t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];var n=t[0];3===t[0].length&&(n=n.split("").map((function(e){return e+e})).join(""));var i=parseInt(n,16);return[i>>16&255,i>>8&255,255&i]},r.rgb.hcg=function(e){var t,n=e[0]/255,i=e[1]/255,r=e[2]/255,a=Math.max(Math.max(n,i),r),o=Math.min(Math.min(n,i),r),s=a-o;return t=s<=0?0:a===n?(i-r)/s%6:a===i?2+(r-n)/s:4+(n-i)/s+4,t/=6,[360*(t%=1),100*s,100*(s<1?o/(1-s):0)]},r.hsl.hcg=function(e){var t,n=e[1]/100,i=e[2]/100,r=0;return(t=i<.5?2*n*i:2*n*(1-i))<1&&(r=(i-.5*t)/(1-t)),[e[0],100*t,100*r]},r.hsv.hcg=function(e){var t=e[1]/100,n=e[2]/100,i=t*n,r=0;return i<1&&(r=(n-i)/(1-i)),[e[0],100*i,100*r]},r.hcg.rgb=function(e){var t=e[0]/360,n=e[1]/100,i=e[2]/100;if(0===n)return[255*i,255*i,255*i];var r,a=[0,0,0],o=t%1*6,s=o%1,l=1-s;switch(Math.floor(o)){case 0:a[0]=1,a[1]=s,a[2]=0;break;case 1:a[0]=l,a[1]=1,a[2]=0;break;case 2:a[0]=0,a[1]=1,a[2]=s;break;case 3:a[0]=0,a[1]=l,a[2]=1;break;case 4:a[0]=s,a[1]=0,a[2]=1;break;default:a[0]=1,a[1]=0,a[2]=l}return r=(1-n)*i,[255*(n*a[0]+r),255*(n*a[1]+r),255*(n*a[2]+r)]},r.hcg.hsv=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t),i=0;return n>0&&(i=t/n),[e[0],100*i,100*n]},r.hcg.hsl=function(e){var t=e[1]/100,n=e[2]/100*(1-t)+.5*t,i=0;return n>0&&n<.5?i=t/(2*n):n>=.5&&n<1&&(i=t/(2*(1-n))),[e[0],100*i,100*n]},r.hcg.hwb=function(e){var t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},r.hwb.hcg=function(e){var t=e[1]/100,n=1-e[2]/100,i=n-t,r=0;return i<1&&(r=(n-i)/(1-i)),[e[0],100*i,100*r]},r.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},r.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},r.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},r.gray.hsl=r.gray.hsv=function(e){return[0,0,e[0]]},r.gray.hwb=function(e){return[0,100,e[0]]},r.gray.cmyk=function(e){return[0,0,0,e[0]]},r.gray.lab=function(e){return[e[0],0,0]},r.gray.hex=function(e){var t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},r.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}}));function i(e){var t=function(){for(var e={},t=Object.keys(n),i=t.length,r=0;r<i;r++)e[t[r]]={distance:-1,parent:null};return e}(),i=[e];for(t[e].distance=0;i.length;)for(var r=i.pop(),a=Object.keys(n[r]),o=a.length,s=0;s<o;s++){var l=a[s],d=t[l];-1===d.distance&&(d.distance=t[r].distance+1,d.parent=r,i.unshift(l))}return t}function r(e,t){return function(n){return t(e(n))}}function a(e,t){for(var i=[t[e].parent,e],a=n[t[e].parent][e],o=t[e].parent;t[o].parent;)i.unshift(t[o].parent),a=r(n[t[o].parent][o],a),o=t[o].parent;return a.conversion=i,a}n.rgb,n.hsl,n.hsv,n.hwb,n.cmyk,n.xyz,n.lab,n.lch,n.hex,n.keyword,n.ansi16,n.ansi256,n.hcg,n.apple,n.gray;var o={};Object.keys(n).forEach((function(e){o[e]={},Object.defineProperty(o[e],"channels",{value:n[e].channels}),Object.defineProperty(o[e],"labels",{value:n[e].labels});var t=function(e){for(var t=i(e),n={},r=Object.keys(t),o=r.length,s=0;s<o;s++){var l=r[s];null!==t[l].parent&&(n[l]=a(l,t))}return n}(e);Object.keys(t).forEach((function(n){var i=t[n];o[e][n]=function(e){var t=function(t){if(null==t)return t;arguments.length>1&&(t=Array.prototype.slice.call(arguments));var n=e(t);if("object"==typeof n)for(var i=n.length,r=0;r<i;r++)n[r]=Math.round(n[r]);return n};return"conversion"in e&&(t.conversion=e.conversion),t}(i),o[e][n].raw=function(e){var t=function(t){return null==t?t:(arguments.length>1&&(t=Array.prototype.slice.call(arguments)),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(i)}))}));var s=o,l={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},d={getRgba:u,getHsla:c,getRgb:function(e){var t=u(e);return t&&t.slice(0,3)},getHsl:function(e){var t=c(e);return t&&t.slice(0,3)},getHwb:h,getAlpha:function(e){var t=u(e);return t||(t=c(e))||(t=h(e))?t[3]:void 0},hexString:function(e,t){return t=void 0!==t&&3===e.length?t:e[3],"#"+m(e[0])+m(e[1])+m(e[2])+(t>=0&&t<1?m(Math.round(255*t)):"")},rgbString:function(e,t){return t<1||e[3]&&e[3]<1?f(e,t):"rgb("+e[0]+", "+e[1]+", "+e[2]+")"},rgbaString:f,percentString:function(e,t){return t<1||e[3]&&e[3]<1?g(e,t):"rgb("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%)"},percentaString:g,hslString:function(e,t){return t<1||e[3]&&e[3]<1?v(e,t):"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)"},hslaString:v,hwbString:function(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+(void 0!==t&&1!==t?", "+t:"")+")"},keyword:function(e){return b[e.slice(0,3)]}};function u(e){if(e){var t=[0,0,0],n=1,i=e.match(/^#([a-fA-F0-9]{3,4})$/i),r="";if(i){r=(i=i[1])[3];for(var a=0;a<t.length;a++)t[a]=parseInt(i[a]+i[a],16);r&&(n=Math.round(parseInt(r+r,16)/255*100)/100)}else if(i=e.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)){for(r=i[2],i=i[1],a=0;a<t.length;a++)t[a]=parseInt(i.slice(2*a,2*a+2),16);r&&(n=Math.round(parseInt(r,16)/255*100)/100)}else if(i=e.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<t.length;a++)t[a]=parseInt(i[a+1]);n=parseFloat(i[4])}else if(i=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)){for(a=0;a<t.length;a++)t[a]=Math.round(2.55*parseFloat(i[a+1]));n=parseFloat(i[4])}else if(i=e.match(/(\w+)/)){if("transparent"==i[1])return[0,0,0,0];if(!(t=l[i[1]]))return}for(a=0;a<t.length;a++)t[a]=p(t[a],0,255);return n=n||0==n?p(n,0,1):1,t[3]=n,t}}function c(e){if(e){var t=e.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[p(parseInt(t[1]),0,360),p(parseFloat(t[2]),0,100),p(parseFloat(t[3]),0,100),p(isNaN(n)?1:n,0,1)]}}}function h(e){if(e){var t=e.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/);if(t){var n=parseFloat(t[4]);return[p(parseInt(t[1]),0,360),p(parseFloat(t[2]),0,100),p(parseFloat(t[3]),0,100),p(isNaN(n)?1:n,0,1)]}}}function f(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"rgba("+e[0]+", "+e[1]+", "+e[2]+", "+t+")"}function g(e,t){return"rgba("+Math.round(e[0]/255*100)+"%, "+Math.round(e[1]/255*100)+"%, "+Math.round(e[2]/255*100)+"%, "+(t||e[3]||1)+")"}function v(e,t){return void 0===t&&(t=void 0!==e[3]?e[3]:1),"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+t+")"}function p(e,t,n){return Math.min(Math.max(t,e),n)}function m(e){var t=e.toString(16).toUpperCase();return t.length<2?"0"+t:t}var b={};for(var y in l)b[l[y]]=y;var x=function(e){return e instanceof x?e:this instanceof x?(this.valid=!1,this.values={rgb:[0,0,0],hsl:[0,0,0],hsv:[0,0,0],hwb:[0,0,0],cmyk:[0,0,0,0],alpha:1},void("string"==typeof e?(t=d.getRgba(e))?this.setValues("rgb",t):(t=d.getHsla(e))?this.setValues("hsl",t):(t=d.getHwb(e))&&this.setValues("hwb",t):"object"==typeof e&&(void 0!==(t=e).r||void 0!==t.red?this.setValues("rgb",t):void 0!==t.l||void 0!==t.lightness?this.setValues("hsl",t):void 0!==t.v||void 0!==t.value?this.setValues("hsv",t):void 0!==t.w||void 0!==t.whiteness?this.setValues("hwb",t):void 0===t.c&&void 0===t.cyan||this.setValues("cmyk",t)))):new x(e);var t};x.prototype={isValid:function(){return this.valid},rgb:function(){return this.setSpace("rgb",arguments)},hsl:function(){return this.setSpace("hsl",arguments)},hsv:function(){return this.setSpace("hsv",arguments)},hwb:function(){return this.setSpace("hwb",arguments)},cmyk:function(){return this.setSpace("cmyk",arguments)},rgbArray:function(){return this.values.rgb},hslArray:function(){return this.values.hsl},hsvArray:function(){return this.values.hsv},hwbArray:function(){var e=this.values;return 1!==e.alpha?e.hwb.concat([e.alpha]):e.hwb},cmykArray:function(){return this.values.cmyk},rgbaArray:function(){var e=this.values;return e.rgb.concat([e.alpha])},hslaArray:function(){var e=this.values;return e.hsl.concat([e.alpha])},alpha:function(e){return void 0===e?this.values.alpha:(this.setValues("alpha",e),this)},red:function(e){return this.setChannel("rgb",0,e)},green:function(e){return this.setChannel("rgb",1,e)},blue:function(e){return this.setChannel("rgb",2,e)},hue:function(e){return e&&(e=(e%=360)<0?360+e:e),this.setChannel("hsl",0,e)},saturation:function(e){return this.setChannel("hsl",1,e)},lightness:function(e){return this.setChannel("hsl",2,e)},saturationv:function(e){return this.setChannel("hsv",1,e)},whiteness:function(e){return this.setChannel("hwb",1,e)},blackness:function(e){return this.setChannel("hwb",2,e)},value:function(e){return this.setChannel("hsv",2,e)},cyan:function(e){return this.setChannel("cmyk",0,e)},magenta:function(e){return this.setChannel("cmyk",1,e)},yellow:function(e){return this.setChannel("cmyk",2,e)},black:function(e){return this.setChannel("cmyk",3,e)},hexString:function(){return d.hexString(this.values.rgb)},rgbString:function(){return d.rgbString(this.values.rgb,this.values.alpha)},rgbaString:function(){return d.rgbaString(this.values.rgb,this.values.alpha)},percentString:function(){return d.percentString(this.values.rgb,this.values.alpha)},hslString:function(){return d.hslString(this.values.hsl,this.values.alpha)},hslaString:function(){return d.hslaString(this.values.hsl,this.values.alpha)},hwbString:function(){return d.hwbString(this.values.hwb,this.values.alpha)},keyword:function(){return d.keyword(this.values.rgb,this.values.alpha)},rgbNumber:function(){var e=this.values.rgb;return e[0]<<16|e[1]<<8|e[2]},luminosity:function(){for(var e=this.values.rgb,t=[],n=0;n<e.length;n++){var i=e[n]/255;t[n]=i<=.03928?i/12.92:Math.pow((i+.055)/1.055,2.4)}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast:function(e){var t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level:function(e){var t=this.contrast(e);return t>=7.1?"AAA":t>=4.5?"AA":""},dark:function(){var e=this.values.rgb;return(299*e[0]+587*e[1]+114*e[2])/1e3<128},light:function(){return!this.dark()},negate:function(){for(var e=[],t=0;t<3;t++)e[t]=255-this.values.rgb[t];return this.setValues("rgb",e),this},lighten:function(e){var t=this.values.hsl;return t[2]+=t[2]*e,this.setValues("hsl",t),this},darken:function(e){var t=this.values.hsl;return t[2]-=t[2]*e,this.setValues("hsl",t),this},saturate:function(e){var t=this.values.hsl;return t[1]+=t[1]*e,this.setValues("hsl",t),this},desaturate:function(e){var t=this.values.hsl;return t[1]-=t[1]*e,this.setValues("hsl",t),this},whiten:function(e){var t=this.values.hwb;return t[1]+=t[1]*e,this.setValues("hwb",t),this},blacken:function(e){var t=this.values.hwb;return t[2]+=t[2]*e,this.setValues("hwb",t),this},greyscale:function(){var e=this.values.rgb,t=.3*e[0]+.59*e[1]+.11*e[2];return this.setValues("rgb",[t,t,t]),this},clearer:function(e){var t=this.values.alpha;return this.setValues("alpha",t-t*e),this},opaquer:function(e){var t=this.values.alpha;return this.setValues("alpha",t+t*e),this},rotate:function(e){var t=this.values.hsl,n=(t[0]+e)%360;return t[0]=n<0?360+n:n,this.setValues("hsl",t),this},mix:function(e,t){var n=e,i=void 0===t?.5:t,r=2*i-1,a=this.alpha()-n.alpha(),o=((r*a==-1?r:(r+a)/(1+r*a))+1)/2,s=1-o;return this.rgb(o*this.red()+s*n.red(),o*this.green()+s*n.green(),o*this.blue()+s*n.blue()).alpha(this.alpha()*i+n.alpha()*(1-i))},toJSON:function(){return this.rgb()},clone:function(){var e,t,n=new x,i=this.values,r=n.values;for(var a in i)i.hasOwnProperty(a)&&(e=i[a],"[object Array]"===(t={}.toString.call(e))?r[a]=e.slice(0):"[object Number]"===t?r[a]=e:console.error("unexpected color value:",e));return n}},x.prototype.spaces={rgb:["red","green","blue"],hsl:["hue","saturation","lightness"],hsv:["hue","saturation","value"],hwb:["hue","whiteness","blackness"],cmyk:["cyan","magenta","yellow","black"]},x.prototype.maxes={rgb:[255,255,255],hsl:[360,100,100],hsv:[360,100,100],hwb:[360,100,100],cmyk:[100,100,100,100]},x.prototype.getValues=function(e){for(var t=this.values,n={},i=0;i<e.length;i++)n[e.charAt(i)]=t[e][i];return 1!==t.alpha&&(n.a=t.alpha),n},x.prototype.setValues=function(e,t){var n,i,r=this.values,a=this.spaces,o=this.maxes,l=1;if(this.valid=!0,"alpha"===e)l=t;else if(t.length)r[e]=t.slice(0,e.length),l=t[e.length];else if(void 0!==t[e.charAt(0)]){for(n=0;n<e.length;n++)r[e][n]=t[e.charAt(n)];l=t.a}else if(void 0!==t[a[e][0]]){var d=a[e];for(n=0;n<e.length;n++)r[e][n]=t[d[n]];l=t.alpha}if(r.alpha=Math.max(0,Math.min(1,void 0===l?r.alpha:l)),"alpha"===e)return!1;for(n=0;n<e.length;n++)i=Math.max(0,Math.min(o[e][n],r[e][n])),r[e][n]=Math.round(i);for(var u in a)u!==e&&(r[u]=s[e][u](r[e]));return!0},x.prototype.setSpace=function(e,t){var n=t[0];return void 0===n?this.getValues(e):("number"==typeof n&&(n=Array.prototype.slice.call(t)),this.setValues(e,n),this)},x.prototype.setChannel=function(e,t,n){var i=this.values[e];return void 0===n?i[t]:(n===i[t]||(i[t]=n,this.setValues(e,i)),this)},"undefined"!=typeof window&&(window.Color=x);var S,A=x,_={noop:function(){},uid:(S=0,function(){return S++}),isNullOrUndef:function(e){return null==e},isArray:function(e){if(Array.isArray&&Array.isArray(e))return!0;var t=Object.prototype.toString.call(e);return"[object"===t.substr(0,7)&&"Array]"===t.substr(-6)},isObject:function(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isFinite:function(e){return("number"==typeof e||e instanceof Number)&&isFinite(e)},valueOrDefault:function(e,t){return void 0===e?t:e},valueAtIndexOrDefault:function(e,t,n){return _.valueOrDefault(_.isArray(e)?e[t]:e,n)},callback:function(e,t,n){if(e&&"function"==typeof e.call)return e.apply(n,t)},each:function(e,t,n,i){var r,a,o;if(_.isArray(e))if(a=e.length,i)for(r=a-1;r>=0;r--)t.call(n,e[r],r);else for(r=0;r<a;r++)t.call(n,e[r],r);else if(_.isObject(e))for(a=(o=Object.keys(e)).length,r=0;r<a;r++)t.call(n,e[o[r]],o[r])},arrayEquals:function(e,t){var n,i,r,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,i=e.length;n<i;++n)if(r=e[n],a=t[n],r instanceof Array&&a instanceof Array){if(!_.arrayEquals(r,a))return!1}else if(r!==a)return!1;return!0},clone:function(e){if(_.isArray(e))return e.map(_.clone);if(_.isObject(e)){for(var t={},n=Object.keys(e),i=n.length,r=0;r<i;++r)t[n[r]]=_.clone(e[n[r]]);return t}return e},_merger:function(e,t,n,i){var r=t[e],a=n[e];_.isObject(r)&&_.isObject(a)?_.merge(r,a,i):t[e]=_.clone(a)},_mergerIf:function(e,t,n){var i=t[e],r=n[e];_.isObject(i)&&_.isObject(r)?_.mergeIf(i,r):t.hasOwnProperty(e)||(t[e]=_.clone(r))},merge:function(e,t,n){var i,r,a,o,s,l=_.isArray(t)?t:[t],d=l.length;if(!_.isObject(e))return e;for(i=(n=n||{}).merger||_._merger,r=0;r<d;++r)if(t=l[r],_.isObject(t))for(s=0,o=(a=Object.keys(t)).length;s<o;++s)i(a[s],e,t,n);return e},mergeIf:function(e,t){return _.merge(e,t,{merger:_._mergerIf})},extend:Object.assign||function(e){return _.merge(e,[].slice.call(arguments,1),{merger:function(e,t,n){t[e]=n[e]}})},inherits:function(e){var t=this,n=e&&e.hasOwnProperty("constructor")?e.constructor:function(){return t.apply(this,arguments)},i=function(){this.constructor=n};return i.prototype=t.prototype,n.prototype=new i,n.extend=_.inherits,e&&_.extend(n.prototype,e),n.__super__=t.prototype,n},_deprecated:function(e,t,n,i){void 0!==t&&console.warn(e+': "'+n+'" is deprecated. Please use "'+i+'" instead')}},E=_;_.callCallback=_.callback,_.indexOf=function(e,t,n){return Array.prototype.indexOf.call(e,t,n)},_.getValueOrDefault=_.valueOrDefault,_.getValueAtIndexOrDefault=_.valueAtIndexOrDefault;var w={linear:function(e){return e},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1)},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2)},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return-((e-=1)*e*e*e-1)},easeInOutQuart:function(e){return(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2)},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2)},easeInSine:function(e){return 1-Math.cos(e*(Math.PI/2))},easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInExpo:function(e){return 0===e?0:Math.pow(2,10*(e-1))},easeOutExpo:function(e){return 1===e?1:1-Math.pow(2,-10*e)},easeInOutExpo:function(e){return 0===e?0:1===e?1:(e/=.5)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*--e))},easeInCirc:function(e){return e>=1?e:-(Math.sqrt(1-e*e)-1)},easeOutCirc:function(e){return Math.sqrt(1-(e-=1)*e)},easeInOutCirc:function(e){return(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)},easeInElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),-i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n))},easeOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:1===e?1:(n||(n=.3),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),i*Math.pow(2,-10*e)*Math.sin((e-t)*(2*Math.PI)/n)+1)},easeInOutElastic:function(e){var t=1.70158,n=0,i=1;return 0===e?0:2==(e/=.5)?1:(n||(n=.45),i<1?(i=1,t=n/4):t=n/(2*Math.PI)*Math.asin(1/i),e<1?i*Math.pow(2,10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*-.5:i*Math.pow(2,-10*(e-=1))*Math.sin((e-t)*(2*Math.PI)/n)*.5+1)},easeInBack:function(e){var t=1.70158;return e*e*((t+1)*e-t)},easeOutBack:function(e){var t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack:function(e){var t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:function(e){return 1-w.easeOutBounce(1-e)},easeOutBounce:function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375},easeInOutBounce:function(e){return e<.5?.5*w.easeInBounce(2*e):.5*w.easeOutBounce(2*e-1)+.5}},k={effects:w};E.easingEffects=w;var C=Math.PI,T=C/180,M=2*C,I=C/2,P=C/4,D=2*C/3,R={clear:function(e){e.ctx.clearRect(0,0,e.width,e.height)},roundedRect:function(e,t,n,i,r,a){if(a){var o=Math.min(a,r/2,i/2),s=t+o,l=n+o,d=t+i-o,u=n+r-o;e.moveTo(t,l),s<d&&l<u?(e.arc(s,l,o,-C,-I),e.arc(d,l,o,-I,0),e.arc(d,u,o,0,I),e.arc(s,u,o,I,C)):s<d?(e.moveTo(s,n),e.arc(d,l,o,-I,I),e.arc(s,l,o,I,C+I)):l<u?(e.arc(s,l,o,-C,0),e.arc(s,u,o,0,C)):e.arc(s,l,o,-C,C),e.closePath(),e.moveTo(t,n)}else e.rect(t,n,i,r)},drawPoint:function(e,t,n,i,r,a){var o,s,l,d,u,c=(a||0)*T;if(t&&"object"==typeof t&&("[object HTMLImageElement]"===(o=t.toString())||"[object HTMLCanvasElement]"===o))return e.save(),e.translate(i,r),e.rotate(c),e.drawImage(t,-t.width/2,-t.height/2,t.width,t.height),void e.restore();if(!(isNaN(n)||n<=0)){switch(e.beginPath(),t){default:e.arc(i,r,n,0,M),e.closePath();break;case"triangle":e.moveTo(i+Math.sin(c)*n,r-Math.cos(c)*n),c+=D,e.lineTo(i+Math.sin(c)*n,r-Math.cos(c)*n),c+=D,e.lineTo(i+Math.sin(c)*n,r-Math.cos(c)*n),e.closePath();break;case"rectRounded":d=n-(u=.516*n),s=Math.cos(c+P)*d,l=Math.sin(c+P)*d,e.arc(i-s,r-l,u,c-C,c-I),e.arc(i+l,r-s,u,c-I,c),e.arc(i+s,r+l,u,c,c+I),e.arc(i-l,r+s,u,c+I,c+C),e.closePath();break;case"rect":if(!a){d=Math.SQRT1_2*n,e.rect(i-d,r-d,2*d,2*d);break}c+=P;case"rectRot":s=Math.cos(c)*n,l=Math.sin(c)*n,e.moveTo(i-s,r-l),e.lineTo(i+l,r-s),e.lineTo(i+s,r+l),e.lineTo(i-l,r+s),e.closePath();break;case"crossRot":c+=P;case"cross":s=Math.cos(c)*n,l=Math.sin(c)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s);break;case"star":s=Math.cos(c)*n,l=Math.sin(c)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s),c+=P,s=Math.cos(c)*n,l=Math.sin(c)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l),e.moveTo(i+l,r-s),e.lineTo(i-l,r+s);break;case"line":s=Math.cos(c)*n,l=Math.sin(c)*n,e.moveTo(i-s,r-l),e.lineTo(i+s,r+l);break;case"dash":e.moveTo(i,r),e.lineTo(i+Math.cos(c)*n,r+Math.sin(c)*n)}e.fill(),e.stroke()}},_isPointInArea:function(e,t){return e.x>t.left-1e-6&&e.x<t.right+1e-6&&e.y>t.top-1e-6&&e.y<t.bottom+1e-6},clipArea:function(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()},unclipArea:function(e){e.restore()},lineTo:function(e,t,n,i){var r=n.steppedLine;if(r){if("middle"===r){var a=(t.x+n.x)/2;e.lineTo(a,i?n.y:t.y),e.lineTo(a,i?t.y:n.y)}else"after"===r&&!i||"after"!==r&&i?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}else n.tension?e.bezierCurveTo(i?t.controlPointPreviousX:t.controlPointNextX,i?t.controlPointPreviousY:t.controlPointNextY,i?n.controlPointNextX:n.controlPointPreviousX,i?n.controlPointNextY:n.controlPointPreviousY,n.x,n.y):e.lineTo(n.x,n.y)}},F=R;E.clear=R.clear,E.drawRoundedRectangle=function(e){e.beginPath(),R.roundedRect.apply(R,arguments)};var O={_set:function(e,t){return E.merge(this[e]||(this[e]={}),t)}};O._set("global",{defaultColor:"rgba(0,0,0,0.1)",defaultFontColor:"#666",defaultFontFamily:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",defaultFontSize:12,defaultFontStyle:"normal",defaultLineHeight:1.2,showLines:!0});var L=O,G=E.valueOrDefault,N={toLineHeight:function(e,t){var n=(""+e).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e},toPadding:function(e){var t,n,i,r;return E.isObject(e)?(t=+e.top||0,n=+e.right||0,i=+e.bottom||0,r=+e.left||0):t=n=i=r=+e||0,{top:t,right:n,bottom:i,left:r,height:t+i,width:r+n}},_parseFont:function(e){var t=L.global,n=G(e.fontSize,t.defaultFontSize),i={family:G(e.fontFamily,t.defaultFontFamily),lineHeight:E.options.toLineHeight(G(e.lineHeight,t.defaultLineHeight),n),size:n,style:G(e.fontStyle,t.defaultFontStyle),weight:null,string:""};return i.string=function(e){return!e||E.isNullOrUndef(e.size)||E.isNullOrUndef(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(i),i},resolve:function(e,t,n,i){var r,a,o,s=!0;for(r=0,a=e.length;r<a;++r)if(void 0!==(o=e[r])&&(void 0!==t&&"function"==typeof o&&(o=o(t),s=!1),void 0!==n&&E.isArray(o)&&(o=o[n],s=!1),void 0!==o))return i&&!s&&(i.cacheable=!1),o}},V={_factorize:function(e){var t,n=[],i=Math.sqrt(e);for(t=1;t<i;t++)e%t==0&&(n.push(t),n.push(e/t));return i===(0|i)&&n.push(i),n.sort((function(e,t){return e-t})).pop(),n},log10:Math.log10||function(e){var t=Math.log(e)*Math.LOG10E,n=Math.round(t);return e===Math.pow(10,n)?n:t}},B=V;E.log10=V.log10;var z=E,H=k,W=F,U=N,K=B;z.easing=H,z.canvas=W,z.options=U,z.math=K,z.rtl={getRtlAdapter:function(e,t,n){return e?function(e,t){return{x:function(n){return e+e+t-n},setWidth:function(e){t=e},textAlign:function(e){return"center"===e?e:"right"===e?"left":"right"},xPlus:function(e,t){return e-t},leftForLtr:function(e,t){return e-t}}}(t,n):{x:function(e){return e},setWidth:function(e){},textAlign:function(e){return e},xPlus:function(e,t){return e+t},leftForLtr:function(e,t){return e}}},overrideTextDirection:function(e,t){var n,i;"ltr"!==t&&"rtl"!==t||(i=[(n=e.canvas.style).getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=i)},restoreTextDirection:function(e){var t=e.prevTextDirection;void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}};var q=function(e){z.extend(this,e),this.initialize.apply(this,arguments)};z.extend(q.prototype,{_type:void 0,initialize:function(){this.hidden=!1},pivot:function(){var e=this;return e._view||(e._view=z.extend({},e._model)),e._start={},e},transition:function(e){var t=this,n=t._model,i=t._start,r=t._view;return n&&1!==e?(r||(r=t._view={}),i||(i=t._start={}),function(e,t,n,i){var r,a,o,s,l,d,u,c,h,f=Object.keys(n);for(r=0,a=f.length;r<a;++r)if(d=n[o=f[r]],t.hasOwnProperty(o)||(t[o]=d),(s=t[o])!==d&&"_"!==o[0]){if(e.hasOwnProperty(o)||(e[o]=s),(u=typeof d)==typeof(l=e[o]))if("string"===u){if((c=A(l)).valid&&(h=A(d)).valid){t[o]=h.mix(c,i).rgbString();continue}}else if(z.isFinite(l)&&z.isFinite(d)){t[o]=l+(d-l)*i;continue}t[o]=d}}(i,r,n,e),t):(t._view=z.extend({},n),t._start=null,t)},tooltipPosition:function(){return{x:this._model.x,y:this._model.y}},hasValue:function(){return z.isNumber(this._model.x)&&z.isNumber(this._model.y)}}),q.extend=z.inherits;var j=q,J=j.extend({chart:null,currentStep:0,numSteps:60,easing:"",render:null,onAnimationProgress:null,onAnimationComplete:null}),Y=J;Object.defineProperty(J.prototype,"animationObject",{get:function(){return this}}),Object.defineProperty(J.prototype,"chartInstance",{get:function(){return this.chart},set:function(e){this.chart=e}}),L._set("global",{animation:{duration:1e3,easing:"easeOutQuart",onProgress:z.noop,onComplete:z.noop}});var X={animations:[],request:null,addAnimation:function(e,t,n,i){var r,a,o=this.animations;for(t.chart=e,t.startTime=Date.now(),t.duration=n,i||(e.animating=!0),r=0,a=o.length;r<a;++r)if(o[r].chart===e)return void(o[r]=t);o.push(t),1===o.length&&this.requestAnimationFrame()},cancelAnimation:function(e){var t=z.findIndex(this.animations,(function(t){return t.chart===e}));-1!==t&&(this.animations.splice(t,1),e.animating=!1)},requestAnimationFrame:function(){var e=this;null===e.request&&(e.request=z.requestAnimFrame.call(window,(function(){e.request=null,e.startDigest()})))},startDigest:function(){this.advance(),this.animations.length>0&&this.requestAnimationFrame()},advance:function(){for(var e,t,n,i,r=this.animations,a=0;a<r.length;)t=(e=r[a]).chart,n=e.numSteps,i=Math.floor((Date.now()-e.startTime)/e.duration*n)+1,e.currentStep=Math.min(i,n),z.callback(e.render,[t,e],t),z.callback(e.onAnimationProgress,[e],t),e.currentStep>=n?(z.callback(e.onAnimationComplete,[e],t),t.animating=!1,r.splice(a,1)):++a}},Q=z.options.resolve,$=["push","pop","shift","splice","unshift"];function Z(e,t){var n=e._chartjs;if(n){var i=n.listeners,r=i.indexOf(t);-1!==r&&i.splice(r,1),i.length>0||($.forEach((function(t){delete e[t]})),delete e._chartjs)}}var ee=function(e,t){this.initialize(e,t)};z.extend(ee.prototype,{datasetElementType:null,dataElementType:null,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth"],_dataElementOptions:["backgroundColor","borderColor","borderWidth","pointStyle"],initialize:function(e,t){var n=this;n.chart=e,n.index=t,n.linkScales(),n.addElements(),n._type=n.getMeta().type},updateIndex:function(e){this.index=e},linkScales:function(){var e=this.getMeta(),t=this.chart,n=t.scales,i=this.getDataset(),r=t.options.scales;null!==e.xAxisID&&e.xAxisID in n&&!i.xAxisID||(e.xAxisID=i.xAxisID||r.xAxes[0].id),null!==e.yAxisID&&e.yAxisID in n&&!i.yAxisID||(e.yAxisID=i.yAxisID||r.yAxes[0].id)},getDataset:function(){return this.chart.data.datasets[this.index]},getMeta:function(){return this.chart.getDatasetMeta(this.index)},getScaleForId:function(e){return this.chart.scales[e]},_getValueScaleId:function(){return this.getMeta().yAxisID},_getIndexScaleId:function(){return this.getMeta().xAxisID},_getValueScale:function(){return this.getScaleForId(this._getValueScaleId())},_getIndexScale:function(){return this.getScaleForId(this._getIndexScaleId())},reset:function(){this._update(!0)},destroy:function(){this._data&&Z(this._data,this)},createMetaDataset:function(){var e=this.datasetElementType;return e&&new e({_chart:this.chart,_datasetIndex:this.index})},createMetaData:function(e){var t=this.dataElementType;return t&&new t({_chart:this.chart,_datasetIndex:this.index,_index:e})},addElements:function(){var e,t,n=this.getMeta(),i=this.getDataset().data||[],r=n.data;for(e=0,t=i.length;e<t;++e)r[e]=r[e]||this.createMetaData(e);n.dataset=n.dataset||this.createMetaDataset()},addElementAndReset:function(e){var t=this.createMetaData(e);this.getMeta().data.splice(e,0,t),this.updateElement(t,e,!0)},buildOrUpdateElements:function(){var e,t,n=this,i=n.getDataset(),r=i.data||(i.data=[]);n._data!==r&&(n._data&&Z(n._data,n),r&&Object.isExtensible(r)&&(t=n,(e=r)._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),$.forEach((function(t){var n="onData"+t.charAt(0).toUpperCase()+t.slice(1),i=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:function(){var t=Array.prototype.slice.call(arguments),r=i.apply(this,t);return z.each(e._chartjs.listeners,(function(e){"function"==typeof e[n]&&e[n].apply(e,t)})),r}})})))),n._data=r),n.resyncElements()},_configure:function(){this._config=z.merge({},[this.chart.options.datasets[this._type],this.getDataset()],{merger:function(e,t,n){"_meta"!==e&&"data"!==e&&z._merger(e,t,n)}})},_update:function(e){this._configure(),this._cachedDataOpts=null,this.update(e)},update:z.noop,transition:function(e){for(var t=this.getMeta(),n=t.data||[],i=n.length,r=0;r<i;++r)n[r].transition(e);t.dataset&&t.dataset.transition(e)},draw:function(){var e=this.getMeta(),t=e.data||[],n=t.length,i=0;for(e.dataset&&e.dataset.draw();i<n;++i)t[i].draw()},getStyle:function(e){var t,n=this.getMeta(),i=n.dataset;return this._configure(),i&&void 0===e?t=this._resolveDatasetElementOptions(i||{}):(e=e||0,t=this._resolveDataElementOptions(n.data[e]||{},e)),!1!==t.fill&&null!==t.fill||(t.backgroundColor=t.borderColor),t},_resolveDatasetElementOptions:function(e,t){var n,i,r,a,o=this,s=o.chart,l=o._config,d=e.custom||{},u=s.options.elements[o.datasetElementType.prototype._type]||{},c=o._datasetElementOptions,h={},f={chart:s,dataset:o.getDataset(),datasetIndex:o.index,hover:t};for(n=0,i=c.length;n<i;++n)r=c[n],a=t?"hover"+r.charAt(0).toUpperCase()+r.slice(1):r,h[r]=Q([d[a],l[a],u[a]],f);return h},_resolveDataElementOptions:function(e,t){var n=this,i=e&&e.custom,r=n._cachedDataOpts;if(r&&!i)return r;var a,o,s,l,d=n.chart,u=n._config,c=d.options.elements[n.dataElementType.prototype._type]||{},h=n._dataElementOptions,f={},g={chart:d,dataIndex:t,dataset:n.getDataset(),datasetIndex:n.index},v={cacheable:!i};if(i=i||{},z.isArray(h))for(o=0,s=h.length;o<s;++o)f[l=h[o]]=Q([i[l],u[l],c[l]],g,t,v);else for(o=0,s=(a=Object.keys(h)).length;o<s;++o)f[l=a[o]]=Q([i[l],u[h[l]],u[l],c[l]],g,t,v);return v.cacheable&&(n._cachedDataOpts=Object.freeze(f)),f},removeHoverStyle:function(e){z.merge(e._model,e.$previousStyle||{}),delete e.$previousStyle},setHoverStyle:function(e){var t=this.chart.data.datasets[e._datasetIndex],n=e._index,i=e.custom||{},r=e._model,a=z.getHoverColor;e.$previousStyle={backgroundColor:r.backgroundColor,borderColor:r.borderColor,borderWidth:r.borderWidth},r.backgroundColor=Q([i.hoverBackgroundColor,t.hoverBackgroundColor,a(r.backgroundColor)],void 0,n),r.borderColor=Q([i.hoverBorderColor,t.hoverBorderColor,a(r.borderColor)],void 0,n),r.borderWidth=Q([i.hoverBorderWidth,t.hoverBorderWidth,r.borderWidth],void 0,n)},_removeDatasetHoverStyle:function(){var e=this.getMeta().dataset;e&&this.removeHoverStyle(e)},_setDatasetHoverStyle:function(){var e,t,n,i,r,a,o=this.getMeta().dataset,s={};if(o){for(a=o._model,r=this._resolveDatasetElementOptions(o,!0),e=0,t=(i=Object.keys(r)).length;e<t;++e)s[n=i[e]]=a[n],a[n]=r[n];o.$previousStyle=s}},resyncElements:function(){var e=this.getMeta(),t=this.getDataset().data,n=e.data.length,i=t.length;i<n?e.data.splice(i,n-i):i>n&&this.insertElements(n,i-n)},insertElements:function(e,t){for(var n=0;n<t;++n)this.addElementAndReset(e+n)},onDataPush:function(){var e=arguments.length;this.insertElements(this.getDataset().data.length-e,e)},onDataPop:function(){this.getMeta().data.pop()},onDataShift:function(){this.getMeta().data.shift()},onDataSplice:function(e,t){this.getMeta().data.splice(e,t),this.insertElements(e,arguments.length-2)},onDataUnshift:function(){this.insertElements(0,arguments.length)}}),ee.extend=z.inherits;var te=ee,ne=2*Math.PI;function ie(e,t){var n=t.startAngle,i=t.endAngle,r=t.pixelMargin,a=r/t.outerRadius,o=t.x,s=t.y;e.beginPath(),e.arc(o,s,t.outerRadius,n-a,i+a),t.innerRadius>r?(a=r/t.innerRadius,e.arc(o,s,t.innerRadius-r,i+a,n-a,!0)):e.arc(o,s,r,i+Math.PI/2,n-Math.PI/2),e.closePath(),e.clip()}L._set("global",{elements:{arc:{backgroundColor:L.global.defaultColor,borderColor:"#fff",borderWidth:2,borderAlign:"center"}}});var re=j.extend({_type:"arc",inLabelRange:function(e){var t=this._view;return!!t&&Math.pow(e-t.x,2)<Math.pow(t.radius+t.hoverRadius,2)},inRange:function(e,t){var n=this._view;if(n){for(var i=z.getAngleFromPoint(n,{x:e,y:t}),r=i.angle,a=i.distance,o=n.startAngle,s=n.endAngle;s<o;)s+=ne;for(;r>s;)r-=ne;for(;r<o;)r+=ne;var l=r>=o&&r<=s,d=a>=n.innerRadius&&a<=n.outerRadius;return l&&d}return!1},getCenterPoint:function(){var e=this._view,t=(e.startAngle+e.endAngle)/2,n=(e.innerRadius+e.outerRadius)/2;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},getArea:function(){var e=this._view;return Math.PI*((e.endAngle-e.startAngle)/(2*Math.PI))*(Math.pow(e.outerRadius,2)-Math.pow(e.innerRadius,2))},tooltipPosition:function(){var e=this._view,t=e.startAngle+(e.endAngle-e.startAngle)/2,n=(e.outerRadius-e.innerRadius)/2+e.innerRadius;return{x:e.x+Math.cos(t)*n,y:e.y+Math.sin(t)*n}},draw:function(){var e,t=this._chart.ctx,n=this._view,i="inner"===n.borderAlign?.33:0,r={x:n.x,y:n.y,innerRadius:n.innerRadius,outerRadius:Math.max(n.outerRadius-i,0),pixelMargin:i,startAngle:n.startAngle,endAngle:n.endAngle,fullCircles:Math.floor(n.circumference/ne)};if(t.save(),t.fillStyle=n.backgroundColor,t.strokeStyle=n.borderColor,r.fullCircles){for(r.endAngle=r.startAngle+ne,t.beginPath(),t.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),t.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),t.closePath(),e=0;e<r.fullCircles;++e)t.fill();r.endAngle=r.startAngle+n.circumference%ne}t.beginPath(),t.arc(r.x,r.y,r.outerRadius,r.startAngle,r.endAngle),t.arc(r.x,r.y,r.innerRadius,r.endAngle,r.startAngle,!0),t.closePath(),t.fill(),n.borderWidth&&function(e,t,n){var i="inner"===t.borderAlign;i?(e.lineWidth=2*t.borderWidth,e.lineJoin="round"):(e.lineWidth=t.borderWidth,e.lineJoin="bevel"),n.fullCircles&&function(e,t,n,i){var r,a=n.endAngle;for(i&&(n.endAngle=n.startAngle+ne,ie(e,n),n.endAngle=a,n.endAngle===n.startAngle&&n.fullCircles&&(n.endAngle+=ne,n.fullCircles--)),e.beginPath(),e.arc(n.x,n.y,n.innerRadius,n.startAngle+ne,n.startAngle,!0),r=0;r<n.fullCircles;++r)e.stroke();for(e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.startAngle+ne),r=0;r<n.fullCircles;++r)e.stroke()}(e,t,n,i),i&&ie(e,n),e.beginPath(),e.arc(n.x,n.y,t.outerRadius,n.startAngle,n.endAngle),e.arc(n.x,n.y,n.innerRadius,n.endAngle,n.startAngle,!0),e.closePath(),e.stroke()}(t,n,r),t.restore()}}),ae=z.valueOrDefault,oe=L.global.defaultColor;L._set("global",{elements:{line:{tension:.4,backgroundColor:oe,borderWidth:3,borderColor:oe,borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",capBezierPoints:!0,fill:!0}}});var se=j.extend({_type:"line",draw:function(){var e,t,n,i=this,r=i._view,a=i._chart.ctx,o=r.spanGaps,s=i._children.slice(),l=L.global,d=l.elements.line,u=-1,c=i._loop;if(s.length){if(i._loop){for(e=0;e<s.length;++e)if(t=z.previousItem(s,e),!s[e]._view.skip&&t._view.skip){s=s.slice(e).concat(s.slice(0,e)),c=o;break}c&&s.push(s[0])}for(a.save(),a.lineCap=r.borderCapStyle||d.borderCapStyle,a.setLineDash&&a.setLineDash(r.borderDash||d.borderDash),a.lineDashOffset=ae(r.borderDashOffset,d.borderDashOffset),a.lineJoin=r.borderJoinStyle||d.borderJoinStyle,a.lineWidth=ae(r.borderWidth,d.borderWidth),a.strokeStyle=r.borderColor||l.defaultColor,a.beginPath(),(n=s[0]._view).skip||(a.moveTo(n.x,n.y),u=0),e=1;e<s.length;++e)n=s[e]._view,t=-1===u?z.previousItem(s,e):s[u],n.skip||(u!==e-1&&!o||-1===u?a.moveTo(n.x,n.y):z.canvas.lineTo(a,t._view,n),u=e);c&&a.closePath(),a.stroke(),a.restore()}}}),le=z.valueOrDefault,de=L.global.defaultColor;function ue(e){var t=this._view;return!!t&&Math.abs(e-t.x)<t.radius+t.hitRadius}L._set("global",{elements:{point:{radius:3,pointStyle:"circle",backgroundColor:de,borderColor:de,borderWidth:1,hitRadius:1,hoverRadius:4,hoverBorderWidth:1}}});var ce=j.extend({_type:"point",inRange:function(e,t){var n=this._view;return!!n&&Math.pow(e-n.x,2)+Math.pow(t-n.y,2)<Math.pow(n.hitRadius+n.radius,2)},inLabelRange:ue,inXRange:ue,inYRange:function(e){var t=this._view;return!!t&&Math.abs(e-t.y)<t.radius+t.hitRadius},getCenterPoint:function(){var e=this._view;return{x:e.x,y:e.y}},getArea:function(){return Math.PI*Math.pow(this._view.radius,2)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y,padding:e.radius+e.borderWidth}},draw:function(e){var t=this._view,n=this._chart.ctx,i=t.pointStyle,r=t.rotation,a=t.radius,o=t.x,s=t.y,l=L.global,d=l.defaultColor;t.skip||(void 0===e||z.canvas._isPointInArea(t,e))&&(n.strokeStyle=t.borderColor||d,n.lineWidth=le(t.borderWidth,l.elements.point.borderWidth),n.fillStyle=t.backgroundColor||d,z.canvas.drawPoint(n,i,a,o,s,r))}}),he=L.global.defaultColor;function fe(e){return e&&void 0!==e.width}function ge(e){var t,n,i,r,a;return fe(e)?(a=e.width/2,t=e.x-a,n=e.x+a,i=Math.min(e.y,e.base),r=Math.max(e.y,e.base)):(a=e.height/2,t=Math.min(e.x,e.base),n=Math.max(e.x,e.base),i=e.y-a,r=e.y+a),{left:t,top:i,right:n,bottom:r}}function ve(e,t,n){return e===t?n:e===n?t:e}function pe(e,t,n){var i=null===t,r=null===n,a=!(!e||i&&r)&&ge(e);return a&&(i||t>=a.left&&t<=a.right)&&(r||n>=a.top&&n<=a.bottom)}L._set("global",{elements:{rectangle:{backgroundColor:he,borderColor:he,borderSkipped:"bottom",borderWidth:0}}});var me=j.extend({_type:"rectangle",draw:function(){var e=this._chart.ctx,t=this._view,n=function(e){var t=ge(e),n=t.right-t.left,i=t.bottom-t.top,r=function(e,t,n){var i,r,a,o,s=e.borderWidth,l=function(e){var t=e.borderSkipped,n={};return t?(e.horizontal?e.base>e.x&&(t=ve(t,"left","right")):e.base<e.y&&(t=ve(t,"bottom","top")),n[t]=!0,n):n}(e);return z.isObject(s)?(i=+s.top||0,r=+s.right||0,a=+s.bottom||0,o=+s.left||0):i=r=a=o=+s||0,{t:l.top||i<0?0:i>n?n:i,r:l.right||r<0?0:r>t?t:r,b:l.bottom||a<0?0:a>n?n:a,l:l.left||o<0?0:o>t?t:o}}(e,n/2,i/2);return{outer:{x:t.left,y:t.top,w:n,h:i},inner:{x:t.left+r.l,y:t.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b}}}(t),i=n.outer,r=n.inner;e.fillStyle=t.backgroundColor,e.fillRect(i.x,i.y,i.w,i.h),i.w===r.w&&i.h===r.h||(e.save(),e.beginPath(),e.rect(i.x,i.y,i.w,i.h),e.clip(),e.fillStyle=t.borderColor,e.rect(r.x,r.y,r.w,r.h),e.fill("evenodd"),e.restore())},height:function(){var e=this._view;return e.base-e.y},inRange:function(e,t){return pe(this._view,e,t)},inLabelRange:function(e,t){var n=this._view;return fe(n)?pe(n,e,null):pe(n,null,t)},inXRange:function(e){return pe(this._view,e,null)},inYRange:function(e){return pe(this._view,null,e)},getCenterPoint:function(){var e,t,n=this._view;return fe(n)?(e=n.x,t=(n.y+n.base)/2):(e=(n.x+n.base)/2,t=n.y),{x:e,y:t}},getArea:function(){var e=this._view;return fe(e)?e.width*Math.abs(e.y-e.base):e.height*Math.abs(e.x-e.base)},tooltipPosition:function(){var e=this._view;return{x:e.x,y:e.y}}}),be={},ye=re,xe=se,Se=ce,Ae=me;be.Arc=ye,be.Line=xe,be.Point=Se,be.Rectangle=Ae;var _e=z._deprecated,Ee=z.valueOrDefault;L._set("bar",{hover:{mode:"label"},scales:{xAxes:[{type:"category",offset:!0,gridLines:{offsetGridLines:!0}}],yAxes:[{type:"linear"}]}}),L._set("global",{datasets:{bar:{categoryPercentage:.8,barPercentage:.9}}});var we=te.extend({dataElementType:be.Rectangle,_dataElementOptions:["backgroundColor","borderColor","borderSkipped","borderWidth","barPercentage","barThickness","categoryPercentage","maxBarThickness","minBarLength"],initialize:function(){var e,t,n=this;te.prototype.initialize.apply(n,arguments),(e=n.getMeta()).stack=n.getDataset().stack,e.bar=!0,t=n._getIndexScale().options,_e("bar chart",t.barPercentage,"scales.[x/y]Axes.barPercentage","dataset.barPercentage"),_e("bar chart",t.barThickness,"scales.[x/y]Axes.barThickness","dataset.barThickness"),_e("bar chart",t.categoryPercentage,"scales.[x/y]Axes.categoryPercentage","dataset.categoryPercentage"),_e("bar chart",n._getValueScale().options.minBarLength,"scales.[x/y]Axes.minBarLength","dataset.minBarLength"),_e("bar chart",t.maxBarThickness,"scales.[x/y]Axes.maxBarThickness","dataset.maxBarThickness")},update:function(e){var t,n,i=this.getMeta().data;for(this._ruler=this.getRuler(),t=0,n=i.length;t<n;++t)this.updateElement(i[t],t,e)},updateElement:function(e,t,n){var i=this,r=i.getMeta(),a=i.getDataset(),o=i._resolveDataElementOptions(e,t);e._xScale=i.getScaleForId(r.xAxisID),e._yScale=i.getScaleForId(r.yAxisID),e._datasetIndex=i.index,e._index=t,e._model={backgroundColor:o.backgroundColor,borderColor:o.borderColor,borderSkipped:o.borderSkipped,borderWidth:o.borderWidth,datasetLabel:a.label,label:i.chart.data.labels[t]},z.isArray(a.data[t])&&(e._model.borderSkipped=null),i._updateElementGeometry(e,t,n,o),e.pivot()},_updateElementGeometry:function(e,t,n,i){var r=this,a=e._model,o=r._getValueScale(),s=o.getBasePixel(),l=o.isHorizontal(),d=r._ruler||r.getRuler(),u=r.calculateBarValuePixels(r.index,t,i),c=r.calculateBarIndexPixels(r.index,t,d,i);a.horizontal=l,a.base=n?s:u.base,a.x=l?n?s:u.head:c.center,a.y=l?c.center:n?s:u.head,a.height=l?c.size:void 0,a.width=l?void 0:c.size},_getStacks:function(e){var t,n,i=this._getIndexScale(),r=i._getMatchingVisibleMetas(this._type),a=i.options.stacked,o=r.length,s=[];for(t=0;t<o&&(n=r[t],(!1===a||-1===s.indexOf(n.stack)||void 0===a&&void 0===n.stack)&&s.push(n.stack),n.index!==e);++t);return s},getStackCount:function(){return this._getStacks().length},getStackIndex:function(e,t){var n=this._getStacks(e),i=void 0!==t?n.indexOf(t):-1;return-1===i?n.length-1:i},getRuler:function(){var e,t,n=this._getIndexScale(),i=[];for(e=0,t=this.getMeta().data.length;e<t;++e)i.push(n.getPixelForValue(null,e,this.index));return{pixels:i,start:n._startPixel,end:n._endPixel,stackCount:this.getStackCount(),scale:n}},calculateBarValuePixels:function(e,t,n){var i,r,a,o,s,l,d,u=this.chart,c=this._getValueScale(),h=c.isHorizontal(),f=u.data.datasets,g=c._getMatchingVisibleMetas(this._type),v=c._parseValue(f[e].data[t]),p=n.minBarLength,m=c.options.stacked,b=this.getMeta().stack,y=void 0===v.start?0:v.max>=0&&v.min>=0?v.min:v.max,x=void 0===v.start?v.end:v.max>=0&&v.min>=0?v.max-v.min:v.min-v.max,S=g.length;if(m||void 0===m&&void 0!==b)for(i=0;i<S&&(r=g[i]).index!==e;++i)r.stack===b&&(a=void 0===(d=c._parseValue(f[r.index].data[t])).start?d.end:d.min>=0&&d.max>=0?d.max:d.min,(v.min<0&&a<0||v.max>=0&&a>0)&&(y+=a));return o=c.getPixelForValue(y),l=(s=c.getPixelForValue(y+x))-o,void 0!==p&&Math.abs(l)<p&&(l=p,s=x>=0&&!h||x<0&&h?o-p:o+p),{size:l,base:o,head:s,center:s+l/2}},calculateBarIndexPixels:function(e,t,n,i){var r="flex"===i.barThickness?function(e,t,n){var i,r=t.pixels,a=r[e],o=e>0?r[e-1]:null,s=e<r.length-1?r[e+1]:null,l=n.categoryPercentage;return null===o&&(o=a-(null===s?t.end-t.start:s-a)),null===s&&(s=a+a-o),i=a-(a-Math.min(o,s))/2*l,{chunk:Math.abs(s-o)/2*l/t.stackCount,ratio:n.barPercentage,start:i}}(t,n,i):function(e,t,n){var i,r,a=n.barThickness,o=t.stackCount,s=t.pixels[e],l=z.isNullOrUndef(a)?function(e,t){var n,i,r,a,o=e._length;for(r=1,a=t.length;r<a;++r)o=Math.min(o,Math.abs(t[r]-t[r-1]));for(r=0,a=e.getTicks().length;r<a;++r)i=e.getPixelForTick(r),o=r>0?Math.min(o,Math.abs(i-n)):o,n=i;return o}(t.scale,t.pixels):-1;return z.isNullOrUndef(a)?(i=l*n.categoryPercentage,r=n.barPercentage):(i=a*o,r=1),{chunk:i/o,ratio:r,start:s-i/2}}(t,n,i),a=this.getStackIndex(e,this.getMeta().stack),o=r.start+r.chunk*a+r.chunk/2,s=Math.min(Ee(i.maxBarThickness,1/0),r.chunk*r.ratio);return{base:o-s/2,head:o+s/2,center:o,size:s}},draw:function(){var e=this.chart,t=this._getValueScale(),n=this.getMeta().data,i=this.getDataset(),r=n.length,a=0;for(z.canvas.clipArea(e.ctx,e.chartArea);a<r;++a){var o=t._parseValue(i.data[a]);isNaN(o.min)||isNaN(o.max)||n[a].draw()}z.canvas.unclipArea(e.ctx)},_resolveDataElementOptions:function(){var e=this,t=z.extend({},te.prototype._resolveDataElementOptions.apply(e,arguments)),n=e._getIndexScale().options,i=e._getValueScale().options;return t.barPercentage=Ee(n.barPercentage,t.barPercentage),t.barThickness=Ee(n.barThickness,t.barThickness),t.categoryPercentage=Ee(n.categoryPercentage,t.categoryPercentage),t.maxBarThickness=Ee(n.maxBarThickness,t.maxBarThickness),t.minBarLength=Ee(i.minBarLength,t.minBarLength),t}}),ke=z.valueOrDefault,Ce=z.options.resolve;L._set("bubble",{hover:{mode:"single"},scales:{xAxes:[{type:"linear",position:"bottom",id:"x-axis-0"}],yAxes:[{type:"linear",position:"left",id:"y-axis-0"}]},tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.datasets[e.datasetIndex].label||"",i=t.datasets[e.datasetIndex].data[e.index];return n+": ("+e.xLabel+", "+e.yLabel+", "+i.r+")"}}}});var Te=te.extend({dataElementType:be.Point,_dataElementOptions:["backgroundColor","borderColor","borderWidth","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth","hoverRadius","hitRadius","pointStyle","rotation"],update:function(e){var t=this,n=t.getMeta().data;z.each(n,(function(n,i){t.updateElement(n,i,e)}))},updateElement:function(e,t,n){var i=this,r=i.getMeta(),a=e.custom||{},o=i.getScaleForId(r.xAxisID),s=i.getScaleForId(r.yAxisID),l=i._resolveDataElementOptions(e,t),d=i.getDataset().data[t],u=i.index,c=n?o.getPixelForDecimal(.5):o.getPixelForValue("object"==typeof d?d:NaN,t,u),h=n?s.getBasePixel():s.getPixelForValue(d,t,u);e._xScale=o,e._yScale=s,e._options=l,e._datasetIndex=u,e._index=t,e._model={backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,hitRadius:l.hitRadius,pointStyle:l.pointStyle,rotation:l.rotation,radius:n?0:l.radius,skip:a.skip||isNaN(c)||isNaN(h),x:c,y:h},e.pivot()},setHoverStyle:function(e){var t=e._model,n=e._options,i=z.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=ke(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=ke(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=ke(n.hoverBorderWidth,n.borderWidth),t.radius=n.radius+n.hoverRadius},_resolveDataElementOptions:function(e,t){var n=this,i=n.chart,r=n.getDataset(),a=e.custom||{},o=r.data[t]||{},s=te.prototype._resolveDataElementOptions.apply(n,arguments),l={chart:i,dataIndex:t,dataset:r,datasetIndex:n.index};return n._cachedDataOpts===s&&(s=z.extend({},s)),s.radius=Ce([a.radius,o.r,n._config.radius,i.options.elements.point.radius],l,t),s}}),Me=z.valueOrDefault,Ie=Math.PI,Pe=2*Ie,De=Ie/2;L._set("doughnut",{animation:{animateRotate:!0,animateScale:!1},hover:{mode:"single"},legendCallback:function(e){var t,n,i,r=document.createElement("ul"),a=e.data,o=a.datasets,s=a.labels;if(r.setAttribute("class",e.id+"-legend"),o.length)for(t=0,n=o[0].data.length;t<n;++t)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[t],s[t]&&i.appendChild(document.createTextNode(s[t]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,i){var r=e.getDatasetMeta(0),a=r.controller.getStyle(i);return{text:n,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:isNaN(t.datasets[0].data[i])||r.data[i].hidden,index:i}})):[]}},onClick:function(e,t){var n,i,r,a=t.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a]&&(r.data[a].hidden=!r.data[a].hidden);o.update()}},cutoutPercentage:50,rotation:-De,circumference:Pe,tooltips:{callbacks:{title:function(){return""},label:function(e,t){var n=t.labels[e.index],i=": "+t.datasets[e.datasetIndex].data[e.index];return z.isArray(n)?(n=n.slice())[0]+=i:n+=i,n}}}});var Re=te.extend({dataElementType:be.Arc,linkScales:z.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],getRingIndex:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&++t;return t},update:function(e){var t,n,i,r,a=this,o=a.chart,s=o.chartArea,l=o.options,d=1,u=1,c=0,h=0,f=a.getMeta(),g=f.data,v=l.cutoutPercentage/100||0,p=l.circumference,m=a._getRingWeight(a.index);if(p<Pe){var b=l.rotation%Pe,y=(b+=b>=Ie?-Pe:b<-Ie?Pe:0)+p,x=Math.cos(b),S=Math.sin(b),A=Math.cos(y),_=Math.sin(y),E=b<=0&&y>=0||y>=Pe,w=b<=De&&y>=De||y>=Pe+De,k=b<=-De&&y>=-De||y>=Ie+De,C=b===-Ie||y>=Ie?-1:Math.min(x,x*v,A,A*v),T=k?-1:Math.min(S,S*v,_,_*v),M=E?1:Math.max(x,x*v,A,A*v),I=w?1:Math.max(S,S*v,_,_*v);d=(M-C)/2,u=(I-T)/2,c=-(M+C)/2,h=-(I+T)/2}for(i=0,r=g.length;i<r;++i)g[i]._options=a._resolveDataElementOptions(g[i],i);for(o.borderWidth=a.getMaxBorderWidth(),t=(s.right-s.left-o.borderWidth)/d,n=(s.bottom-s.top-o.borderWidth)/u,o.outerRadius=Math.max(Math.min(t,n)/2,0),o.innerRadius=Math.max(o.outerRadius*v,0),o.radiusLength=(o.outerRadius-o.innerRadius)/(a._getVisibleDatasetWeightTotal()||1),o.offsetX=c*o.outerRadius,o.offsetY=h*o.outerRadius,f.total=a.calculateTotal(),a.outerRadius=o.outerRadius-o.radiusLength*a._getRingWeightOffset(a.index),a.innerRadius=Math.max(a.outerRadius-o.radiusLength*m,0),i=0,r=g.length;i<r;++i)a.updateElement(g[i],i,e)},updateElement:function(e,t,n){var i=this,r=i.chart,a=r.chartArea,o=r.options,s=o.animation,l=(a.left+a.right)/2,d=(a.top+a.bottom)/2,u=o.rotation,c=o.rotation,h=i.getDataset(),f=n&&s.animateRotate||e.hidden?0:i.calculateCircumference(h.data[t])*(o.circumference/Pe),g=n&&s.animateScale?0:i.innerRadius,v=n&&s.animateScale?0:i.outerRadius,p=e._options||{};z.extend(e,{_datasetIndex:i.index,_index:t,_model:{backgroundColor:p.backgroundColor,borderColor:p.borderColor,borderWidth:p.borderWidth,borderAlign:p.borderAlign,x:l+r.offsetX,y:d+r.offsetY,startAngle:u,endAngle:c,circumference:f,outerRadius:v,innerRadius:g,label:z.valueAtIndexOrDefault(h.label,t,r.data.labels[t])}});var m=e._model;n&&s.animateRotate||(m.startAngle=0===t?o.rotation:i.getMeta().data[t-1]._model.endAngle,m.endAngle=m.startAngle+m.circumference),e.pivot()},calculateTotal:function(){var e,t=this.getDataset(),n=this.getMeta(),i=0;return z.each(n.data,(function(n,r){e=t.data[r],isNaN(e)||n.hidden||(i+=Math.abs(e))})),i},calculateCircumference:function(e){var t=this.getMeta().total;return t>0&&!isNaN(e)?Pe*(Math.abs(e)/t):0},getMaxBorderWidth:function(e){var t,n,i,r,a,o,s,l,d=0,u=this.chart;if(!e)for(t=0,n=u.data.datasets.length;t<n;++t)if(u.isDatasetVisible(t)){e=(i=u.getDatasetMeta(t)).data,t!==this.index&&(a=i.controller);break}if(!e)return 0;for(t=0,n=e.length;t<n;++t)r=e[t],a?(a._configure(),o=a._resolveDataElementOptions(r,t)):o=r._options,"inner"!==o.borderAlign&&(s=o.borderWidth,d=(l=o.hoverBorderWidth)>(d=s>d?s:d)?l:d);return d},setHoverStyle:function(e){var t=e._model,n=e._options,i=z.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=Me(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Me(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Me(n.hoverBorderWidth,n.borderWidth)},_getRingWeightOffset:function(e){for(var t=0,n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t},_getRingWeight:function(e){return Math.max(Me(this.chart.data.datasets[e].weight,1),0)},_getVisibleDatasetWeightTotal:function(){return this._getRingWeightOffset(this.chart.data.datasets.length)}});L._set("horizontalBar",{hover:{mode:"index",axis:"y"},scales:{xAxes:[{type:"linear",position:"bottom"}],yAxes:[{type:"category",position:"left",offset:!0,gridLines:{offsetGridLines:!0}}]},elements:{rectangle:{borderSkipped:"left"}},tooltips:{mode:"index",axis:"y"}}),L._set("global",{datasets:{horizontalBar:{categoryPercentage:.8,barPercentage:.9}}});var Fe=we.extend({_getValueScaleId:function(){return this.getMeta().xAxisID},_getIndexScaleId:function(){return this.getMeta().yAxisID}}),Oe=z.valueOrDefault,Le=z.options.resolve,Ge=z.canvas._isPointInArea;function Ne(e,t){var n=e&&e.options.ticks||{},i=n.reverse,r=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:i?a:r,end:i?r:a}}function Ve(e,t,n){var i=n/2,r=Ne(e,i),a=Ne(t,i);return{top:a.end,right:r.end,bottom:a.start,left:r.start}}function Be(e){var t,n,i,r;return z.isObject(e)?(t=e.top,n=e.right,i=e.bottom,r=e.left):t=n=i=r=e,{top:t,right:n,bottom:i,left:r}}L._set("line",{showLines:!0,spanGaps:!1,hover:{mode:"label"},scales:{xAxes:[{type:"category",id:"x-axis-0"}],yAxes:[{type:"linear",id:"y-axis-0"}]}});var ze=te.extend({datasetElementType:be.Line,dataElementType:be.Point,_datasetElementOptions:["backgroundColor","borderCapStyle","borderColor","borderDash","borderDashOffset","borderJoinStyle","borderWidth","cubicInterpolationMode","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},update:function(e){var t,n,i=this,r=i.getMeta(),a=r.dataset,o=r.data||[],s=i.chart.options,l=i._config,d=i._showLine=Oe(l.showLine,s.showLines);for(i._xScale=i.getScaleForId(r.xAxisID),i._yScale=i.getScaleForId(r.yAxisID),d&&(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=i._yScale,a._datasetIndex=i.index,a._children=o,a._model=i._resolveDatasetElementOptions(a),a.pivot()),t=0,n=o.length;t<n;++t)i.updateElement(o[t],t,e);for(d&&0!==a._model.tension&&i.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,n){var i,r,a=this,o=a.getMeta(),s=e.custom||{},l=a.getDataset(),d=a.index,u=l.data[t],c=a._xScale,h=a._yScale,f=o.dataset._model,g=a._resolveDataElementOptions(e,t);i=c.getPixelForValue("object"==typeof u?u:NaN,t,d),r=n?h.getBasePixel():a.calculatePointY(u,t,d),e._xScale=c,e._yScale=h,e._options=g,e._datasetIndex=d,e._index=t,e._model={x:i,y:r,skip:s.skip||isNaN(i)||isNaN(r),radius:g.radius,pointStyle:g.pointStyle,rotation:g.rotation,backgroundColor:g.backgroundColor,borderColor:g.borderColor,borderWidth:g.borderWidth,tension:Oe(s.tension,f?f.tension:0),steppedLine:!!f&&f.steppedLine,hitRadius:g.hitRadius}},_resolveDatasetElementOptions:function(e){var t=this,n=t._config,i=e.custom||{},r=t.chart.options,a=r.elements.line,o=te.prototype._resolveDatasetElementOptions.apply(t,arguments);return o.spanGaps=Oe(n.spanGaps,r.spanGaps),o.tension=Oe(n.lineTension,a.tension),o.steppedLine=Le([i.steppedLine,n.steppedLine,a.stepped]),o.clip=Be(Oe(n.clip,Ve(t._xScale,t._yScale,o.borderWidth))),o},calculatePointY:function(e,t,n){var i,r,a,o,s,l,d,u=this.chart,c=this._yScale,h=0,f=0;if(c.options.stacked){for(s=+c.getRightValue(e),d=(l=u._getSortedVisibleDatasetMetas()).length,i=0;i<d&&(a=l[i]).index!==n;++i)r=u.data.datasets[a.index],"line"===a.type&&a.yAxisID===c.id&&((o=+c.getRightValue(r.data[t]))<0?f+=o||0:h+=o||0);return s<0?c.getPixelForValue(f+s):c.getPixelForValue(h+s)}return c.getPixelForValue(e)},updateBezierControlPoints:function(){var e,t,n,i,r=this.chart,a=this.getMeta(),o=a.dataset._model,s=r.chartArea,l=a.data||[];function d(e,t,n){return Math.max(Math.min(e,n),t)}if(o.spanGaps&&(l=l.filter((function(e){return!e._model.skip}))),"monotone"===o.cubicInterpolationMode)z.splineCurveMonotone(l);else for(e=0,t=l.length;e<t;++e)n=l[e]._model,i=z.splineCurve(z.previousItem(l,e)._model,n,z.nextItem(l,e)._model,o.tension),n.controlPointPreviousX=i.previous.x,n.controlPointPreviousY=i.previous.y,n.controlPointNextX=i.next.x,n.controlPointNextY=i.next.y;if(r.options.elements.line.capBezierPoints)for(e=0,t=l.length;e<t;++e)n=l[e]._model,Ge(n,s)&&(e>0&&Ge(l[e-1]._model,s)&&(n.controlPointPreviousX=d(n.controlPointPreviousX,s.left,s.right),n.controlPointPreviousY=d(n.controlPointPreviousY,s.top,s.bottom)),e<l.length-1&&Ge(l[e+1]._model,s)&&(n.controlPointNextX=d(n.controlPointNextX,s.left,s.right),n.controlPointNextY=d(n.controlPointNextY,s.top,s.bottom)))},draw:function(){var e,t=this.chart,n=this.getMeta(),i=n.data||[],r=t.chartArea,a=t.canvas,o=0,s=i.length;for(this._showLine&&(e=n.dataset._model.clip,z.canvas.clipArea(t.ctx,{left:!1===e.left?0:r.left-e.left,right:!1===e.right?a.width:r.right+e.right,top:!1===e.top?0:r.top-e.top,bottom:!1===e.bottom?a.height:r.bottom+e.bottom}),n.dataset.draw(),z.canvas.unclipArea(t.ctx));o<s;++o)i[o].draw(r)},setHoverStyle:function(e){var t=e._model,n=e._options,i=z.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Oe(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Oe(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Oe(n.hoverBorderWidth,n.borderWidth),t.radius=Oe(n.hoverRadius,n.radius)}}),He=z.options.resolve;L._set("polarArea",{scale:{type:"radialLinear",angleLines:{display:!1},gridLines:{circular:!0},pointLabels:{display:!1},ticks:{beginAtZero:!0}},animation:{animateRotate:!0,animateScale:!0},startAngle:-.5*Math.PI,legendCallback:function(e){var t,n,i,r=document.createElement("ul"),a=e.data,o=a.datasets,s=a.labels;if(r.setAttribute("class",e.id+"-legend"),o.length)for(t=0,n=o[0].data.length;t<n;++t)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=o[0].backgroundColor[t],s[t]&&i.appendChild(document.createTextNode(s[t]));return r.outerHTML},legend:{labels:{generateLabels:function(e){var t=e.data;return t.labels.length&&t.datasets.length?t.labels.map((function(n,i){var r=e.getDatasetMeta(0),a=r.controller.getStyle(i);return{text:n,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,hidden:isNaN(t.datasets[0].data[i])||r.data[i].hidden,index:i}})):[]}},onClick:function(e,t){var n,i,r,a=t.index,o=this.chart;for(n=0,i=(o.data.datasets||[]).length;n<i;++n)(r=o.getDatasetMeta(n)).data[a].hidden=!r.data[a].hidden;o.update()}},tooltips:{callbacks:{title:function(){return""},label:function(e,t){return t.labels[e.index]+": "+e.yLabel}}}});var We=te.extend({dataElementType:be.Arc,linkScales:z.noop,_dataElementOptions:["backgroundColor","borderColor","borderWidth","borderAlign","hoverBackgroundColor","hoverBorderColor","hoverBorderWidth"],_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,i,r=this,a=r.getDataset(),o=r.getMeta(),s=r.chart.options.startAngle||0,l=r._starts=[],d=r._angles=[],u=o.data;for(r._updateRadius(),o.count=r.countVisibleElements(),t=0,n=a.data.length;t<n;t++)l[t]=s,i=r._computeAngle(t),d[t]=i,s+=i;for(t=0,n=u.length;t<n;++t)u[t]._options=r._resolveDataElementOptions(u[t],t),r.updateElement(u[t],t,e)},_updateRadius:function(){var e=this,t=e.chart,n=t.chartArea,i=t.options,r=Math.min(n.right-n.left,n.bottom-n.top);t.outerRadius=Math.max(r/2,0),t.innerRadius=Math.max(i.cutoutPercentage?t.outerRadius/100*i.cutoutPercentage:1,0),t.radiusLength=(t.outerRadius-t.innerRadius)/t.getVisibleDatasetCount(),e.outerRadius=t.outerRadius-t.radiusLength*e.index,e.innerRadius=e.outerRadius-t.radiusLength},updateElement:function(e,t,n){var i=this,r=i.chart,a=i.getDataset(),o=r.options,s=o.animation,l=r.scale,d=r.data.labels,u=l.xCenter,c=l.yCenter,h=o.startAngle,f=e.hidden?0:l.getDistanceFromCenterForValue(a.data[t]),g=i._starts[t],v=g+(e.hidden?0:i._angles[t]),p=s.animateScale?0:l.getDistanceFromCenterForValue(a.data[t]),m=e._options||{};z.extend(e,{_datasetIndex:i.index,_index:t,_scale:l,_model:{backgroundColor:m.backgroundColor,borderColor:m.borderColor,borderWidth:m.borderWidth,borderAlign:m.borderAlign,x:u,y:c,innerRadius:0,outerRadius:n?p:f,startAngle:n&&s.animateRotate?h:g,endAngle:n&&s.animateRotate?h:v,label:z.valueAtIndexOrDefault(d,t,d[t])}}),e.pivot()},countVisibleElements:function(){var e=this.getDataset(),t=this.getMeta(),n=0;return z.each(t.data,(function(t,i){isNaN(e.data[i])||t.hidden||n++})),n},setHoverStyle:function(e){var t=e._model,n=e._options,i=z.getHoverColor,r=z.valueOrDefault;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth},t.backgroundColor=r(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=r(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=r(n.hoverBorderWidth,n.borderWidth)},_computeAngle:function(e){var t=this,n=this.getMeta().count,i=t.getDataset(),r=t.getMeta();if(isNaN(i.data[e])||r.data[e].hidden)return 0;var a={chart:t.chart,dataIndex:e,dataset:i,datasetIndex:t.index};return He([t.chart.options.elements.arc.angle,2*Math.PI/n],a,e)}});L._set("pie",z.clone(L.doughnut)),L._set("pie",{cutoutPercentage:0});var Ue=Re,Ke=z.valueOrDefault;L._set("radar",{spanGaps:!1,scale:{type:"radialLinear"},elements:{line:{fill:"start",tension:0}}});var qe=te.extend({datasetElementType:be.Line,dataElementType:be.Point,linkScales:z.noop,_datasetElementOptions:["backgroundColor","borderWidth","borderColor","borderCapStyle","borderDash","borderDashOffset","borderJoinStyle","fill"],_dataElementOptions:{backgroundColor:"pointBackgroundColor",borderColor:"pointBorderColor",borderWidth:"pointBorderWidth",hitRadius:"pointHitRadius",hoverBackgroundColor:"pointHoverBackgroundColor",hoverBorderColor:"pointHoverBorderColor",hoverBorderWidth:"pointHoverBorderWidth",hoverRadius:"pointHoverRadius",pointStyle:"pointStyle",radius:"pointRadius",rotation:"pointRotation"},_getIndexScaleId:function(){return this.chart.scale.id},_getValueScaleId:function(){return this.chart.scale.id},update:function(e){var t,n,i=this,r=i.getMeta(),a=r.dataset,o=r.data||[],s=i.chart.scale,l=i._config;for(void 0!==l.tension&&void 0===l.lineTension&&(l.lineTension=l.tension),a._scale=s,a._datasetIndex=i.index,a._children=o,a._loop=!0,a._model=i._resolveDatasetElementOptions(a),a.pivot(),t=0,n=o.length;t<n;++t)i.updateElement(o[t],t,e);for(i.updateBezierControlPoints(),t=0,n=o.length;t<n;++t)o[t].pivot()},updateElement:function(e,t,n){var i=this,r=e.custom||{},a=i.getDataset(),o=i.chart.scale,s=o.getPointPositionForValue(t,a.data[t]),l=i._resolveDataElementOptions(e,t),d=i.getMeta().dataset._model,u=n?o.xCenter:s.x,c=n?o.yCenter:s.y;e._scale=o,e._options=l,e._datasetIndex=i.index,e._index=t,e._model={x:u,y:c,skip:r.skip||isNaN(u)||isNaN(c),radius:l.radius,pointStyle:l.pointStyle,rotation:l.rotation,backgroundColor:l.backgroundColor,borderColor:l.borderColor,borderWidth:l.borderWidth,tension:Ke(r.tension,d?d.tension:0),hitRadius:l.hitRadius}},_resolveDatasetElementOptions:function(){var e=this,t=e._config,n=e.chart.options,i=te.prototype._resolveDatasetElementOptions.apply(e,arguments);return i.spanGaps=Ke(t.spanGaps,n.spanGaps),i.tension=Ke(t.lineTension,n.elements.line.tension),i},updateBezierControlPoints:function(){var e,t,n,i,r=this.getMeta(),a=this.chart.chartArea,o=r.data||[];function s(e,t,n){return Math.max(Math.min(e,n),t)}for(r.dataset._model.spanGaps&&(o=o.filter((function(e){return!e._model.skip}))),e=0,t=o.length;e<t;++e)n=o[e]._model,i=z.splineCurve(z.previousItem(o,e,!0)._model,n,z.nextItem(o,e,!0)._model,n.tension),n.controlPointPreviousX=s(i.previous.x,a.left,a.right),n.controlPointPreviousY=s(i.previous.y,a.top,a.bottom),n.controlPointNextX=s(i.next.x,a.left,a.right),n.controlPointNextY=s(i.next.y,a.top,a.bottom)},setHoverStyle:function(e){var t=e._model,n=e._options,i=z.getHoverColor;e.$previousStyle={backgroundColor:t.backgroundColor,borderColor:t.borderColor,borderWidth:t.borderWidth,radius:t.radius},t.backgroundColor=Ke(n.hoverBackgroundColor,i(n.backgroundColor)),t.borderColor=Ke(n.hoverBorderColor,i(n.borderColor)),t.borderWidth=Ke(n.hoverBorderWidth,n.borderWidth),t.radius=Ke(n.hoverRadius,n.radius)}});L._set("scatter",{hover:{mode:"single"},scales:{xAxes:[{id:"x-axis-1",type:"linear",position:"bottom"}],yAxes:[{id:"y-axis-1",type:"linear",position:"left"}]},tooltips:{callbacks:{title:function(){return""},label:function(e){return"("+e.xLabel+", "+e.yLabel+")"}}}}),L._set("global",{datasets:{scatter:{showLine:!1}}});var je={bar:we,bubble:Te,doughnut:Re,horizontalBar:Fe,line:ze,polarArea:We,pie:Ue,radar:qe,scatter:ze};function Je(e,t){return e.native?{x:e.x,y:e.y}:z.getRelativePosition(e,t)}function Ye(e,t){var n,i,r,a,o,s,l=e._getSortedVisibleDatasetMetas();for(i=0,a=l.length;i<a;++i)for(r=0,o=(n=l[i].data).length;r<o;++r)(s=n[r])._view.skip||t(s)}function Xe(e,t){var n=[];return Ye(e,(function(e){e.inRange(t.x,t.y)&&n.push(e)})),n}function Qe(e,t,n,i){var r=Number.POSITIVE_INFINITY,a=[];return Ye(e,(function(e){if(!n||e.inRange(t.x,t.y)){var o=e.getCenterPoint(),s=i(t,o);s<r?(a=[e],r=s):s===r&&a.push(e)}})),a}function $e(e){var t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,i){var r=t?Math.abs(e.x-i.x):0,a=n?Math.abs(e.y-i.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(a,2))}}function Ze(e,t,n){var i=Je(t,e);n.axis=n.axis||"x";var r=$e(n.axis),a=n.intersect?Xe(e,i):Qe(e,i,!1,r),o=[];return a.length?(e._getSortedVisibleDatasetMetas().forEach((function(e){var t=e.data[a[0]._index];t&&!t._view.skip&&o.push(t)})),o):[]}var et={modes:{single:function(e,t){var n=Je(t,e),i=[];return Ye(e,(function(e){if(e.inRange(n.x,n.y))return i.push(e),i})),i.slice(0,1)},label:Ze,index:Ze,dataset:function(e,t,n){var i=Je(t,e);n.axis=n.axis||"xy";var r=$e(n.axis),a=n.intersect?Xe(e,i):Qe(e,i,!1,r);return a.length>0&&(a=e.getDatasetMeta(a[0]._datasetIndex).data),a},"x-axis":function(e,t){return Ze(e,t,{intersect:!1})},point:function(e,t){return Xe(e,Je(t,e))},nearest:function(e,t,n){var i=Je(t,e);n.axis=n.axis||"xy";var r=$e(n.axis);return Qe(e,i,n.intersect,r)},x:function(e,t,n){var i=Je(t,e),r=[],a=!1;return Ye(e,(function(e){e.inXRange(i.x)&&r.push(e),e.inRange(i.x,i.y)&&(a=!0)})),n.intersect&&!a&&(r=[]),r},y:function(e,t,n){var i=Je(t,e),r=[],a=!1;return Ye(e,(function(e){e.inYRange(i.y)&&r.push(e),e.inRange(i.x,i.y)&&(a=!0)})),n.intersect&&!a&&(r=[]),r}}},tt=z.extend;function nt(e,t){return z.where(e,(function(e){return e.pos===t}))}function it(e,t){return e.sort((function(e,n){var i=t?n:e,r=t?e:n;return i.weight===r.weight?i.index-r.index:i.weight-r.weight}))}function rt(e,t,n,i){return Math.max(e[n],t[n])+Math.max(e[i],t[i])}function at(e,t,n){var i,r,a=n.box,o=e.maxPadding;if(n.size&&(e[n.pos]-=n.size),n.size=n.horizontal?a.height:a.width,e[n.pos]+=n.size,a.getPadding){var s=a.getPadding();o.top=Math.max(o.top,s.top),o.left=Math.max(o.left,s.left),o.bottom=Math.max(o.bottom,s.bottom),o.right=Math.max(o.right,s.right)}if(i=t.outerWidth-rt(o,e,"left","right"),r=t.outerHeight-rt(o,e,"top","bottom"),i!==e.w||r!==e.h)return e.w=i,e.h=r,n.horizontal?i!==e.w:r!==e.h}function ot(e,t){var n=t.maxPadding;return function(e){var i={left:0,top:0,right:0,bottom:0};return e.forEach((function(e){i[e]=Math.max(t[e],n[e])})),i}(e?["left","right"]:["top","bottom"])}function st(e,t,n){var i,r,a,o,s,l,d=[];for(i=0,r=e.length;i<r;++i)(o=(a=e[i]).box).update(a.width||t.w,a.height||t.h,ot(a.horizontal,t)),at(t,n,a)&&(l=!0,d.length&&(s=!0)),o.fullWidth||d.push(a);return s&&st(d,t,n)||l}function lt(e,t,n){var i,r,a,o,s=n.padding,l=t.x,d=t.y;for(i=0,r=e.length;i<r;++i)o=(a=e[i]).box,a.horizontal?(o.left=o.fullWidth?s.left:t.left,o.right=o.fullWidth?n.outerWidth-s.right:t.left+t.w,o.top=d,o.bottom=d+o.height,o.width=o.right-o.left,d=o.bottom):(o.left=l,o.right=l+o.width,o.top=t.top,o.bottom=t.top+t.h,o.height=o.bottom-o.top,l=o.right);t.x=l,t.y=d}L._set("global",{layout:{padding:{top:0,right:0,bottom:0,left:0}}});var dt,ut={defaults:{},addBox:function(e,t){e.boxes||(e.boxes=[]),t.fullWidth=t.fullWidth||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw:function(){t.draw.apply(t,arguments)}}]},e.boxes.push(t)},removeBox:function(e,t){var n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure:function(e,t,n){for(var i,r=["fullWidth","position","weight"],a=r.length,o=0;o<a;++o)i=r[o],n.hasOwnProperty(i)&&(t[i]=n[i])},update:function(e,t,n){if(e){var i=e.options.layout||{},r=z.options.toPadding(i.padding),a=t-r.width,o=n-r.height,s=function(e){var t=function(e){var t,n,i,r=[];for(t=0,n=(e||[]).length;t<n;++t)i=e[t],r.push({index:t,box:i,pos:i.position,horizontal:i.isHorizontal(),weight:i.weight});return r}(e),n=it(nt(t,"left"),!0),i=it(nt(t,"right")),r=it(nt(t,"top"),!0),a=it(nt(t,"bottom"));return{leftAndTop:n.concat(r),rightAndBottom:i.concat(a),chartArea:nt(t,"chartArea"),vertical:n.concat(i),horizontal:r.concat(a)}}(e.boxes),l=s.vertical,d=s.horizontal,u=Object.freeze({outerWidth:t,outerHeight:n,padding:r,availableWidth:a,vBoxMaxWidth:a/2/l.length,hBoxMaxHeight:o/2}),c=tt({maxPadding:tt({},r),w:a,h:o,x:r.left,y:r.top},r);!function(e,t){var n,i,r;for(n=0,i=e.length;n<i;++n)(r=e[n]).width=r.horizontal?r.box.fullWidth&&t.availableWidth:t.vBoxMaxWidth,r.height=r.horizontal&&t.hBoxMaxHeight}(l.concat(d),u),st(l,c,u),st(d,c,u)&&st(l,c,u),function(e){var t=e.maxPadding;function n(n){var i=Math.max(t[n]-e[n],0);return e[n]+=i,i}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(c),lt(s.leftAndTop,c,u),c.x+=c.w,c.y+=c.h,lt(s.rightAndBottom,c,u),e.chartArea={left:c.left,top:c.top,right:c.left+c.w,bottom:c.top+c.h},z.each(s.chartArea,(function(t){var n=t.box;tt(n,e.chartArea),n.update(c.w,c.h)}))}}},ct=(dt=Object.freeze({__proto__:null,default:"@keyframes chartjs-render-animation{from{opacity:.99}to{opacity:1}}.chartjs-render-monitor{animation:chartjs-render-animation 1ms}.chartjs-size-monitor,.chartjs-size-monitor-expand,.chartjs-size-monitor-shrink{position:absolute;direction:ltr;left:0;top:0;right:0;bottom:0;overflow:hidden;pointer-events:none;visibility:hidden;z-index:-1}.chartjs-size-monitor-expand>div{position:absolute;width:1000000px;height:1000000px;left:0;top:0}.chartjs-size-monitor-shrink>div{position:absolute;width:200%;height:200%;left:0;top:0}"}))&&dt.default||dt,ht="$chartjs",ft="chartjs-size-monitor",gt="chartjs-render-monitor",vt=["animationstart","webkitAnimationStart"],pt={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"};function mt(e,t){var n=z.getStyle(e,t),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?Number(i[1]):void 0}var bt=!!function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("e",null,t)}catch(e){}return e}()&&{passive:!0};function yt(e,t,n){e.addEventListener(t,n,bt)}function xt(e,t,n){e.removeEventListener(t,n,bt)}function St(e,t,n,i,r){return{type:e,chart:t,native:r||null,x:void 0!==n?n:null,y:void 0!==i?i:null}}function At(e){var t=document.createElement("div");return t.className=e||"",t}var _t={disableCSSInjection:!1,_enabled:"undefined"!=typeof window&&"undefined"!=typeof document,_ensureLoaded:function(e){if(!this.disableCSSInjection){var t=e.getRootNode?e.getRootNode():document;!function(e,t){var n=e[ht]||(e[ht]={});if(!n.containsStyles){n.containsStyles=!0,t="/* Chart.js */\n"+t;var i=document.createElement("style");i.setAttribute("type","text/css"),i.appendChild(document.createTextNode(t)),e.appendChild(i)}}(t.host?t:document.head,ct)}},acquireContext:function(e,t){"string"==typeof e?e=document.getElementById(e):e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas);var n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(this._ensureLoaded(e),function(e,t){var n=e.style,i=e.getAttribute("height"),r=e.getAttribute("width");if(e[ht]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",null===r||""===r){var a=mt(e,"width");void 0!==a&&(e.width=a)}if(null===i||""===i)if(""===e.style.height)e.height=e.width/(t.options.aspectRatio||2);else{var o=mt(e,"height");void 0!==a&&(e.height=o)}}(e,t),n):null},releaseContext:function(e){var t=e.canvas;if(t[ht]){var n=t[ht].initial;["height","width"].forEach((function(e){var i=n[e];z.isNullOrUndef(i)?t.removeAttribute(e):t.setAttribute(e,i)})),z.each(n.style||{},(function(e,n){t.style[n]=e})),t.width=t.width,delete t[ht]}},addEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var r=n[ht]||(n[ht]={});yt(i,t,(r.proxies||(r.proxies={}))[e.id+"_"+t]=function(t){n(function(e,t){var n=pt[e.type]||e.type,i=z.getRelativePosition(e,t);return St(n,t,i.x,i.y,e)}(t,e))})}else!function(e,t,n){var i,r,a,o,s=e[ht]||(e[ht]={}),l=s.resizer=function(e){var t=At(ft),n=At(ft+"-expand"),i=At(ft+"-shrink");n.appendChild(At()),i.appendChild(At()),t.appendChild(n),t.appendChild(i),t._reset=function(){n.scrollLeft=1e6,n.scrollTop=1e6,i.scrollLeft=1e6,i.scrollTop=1e6};var r=function(){t._reset(),e()};return yt(n,"scroll",r.bind(n,"expand")),yt(i,"scroll",r.bind(i,"shrink")),t}((i=function(){if(s.resizer){var i=n.options.maintainAspectRatio&&e.parentNode,r=i?i.clientWidth:0;t(St("resize",n)),i&&i.clientWidth<r&&n.canvas&&t(St("resize",n))}},a=!1,o=[],function(){o=Array.prototype.slice.call(arguments),r=r||this,a||(a=!0,z.requestAnimFrame.call(window,(function(){a=!1,i.apply(r,o)})))}));!function(e,t){var n=e[ht]||(e[ht]={}),i=n.renderProxy=function(e){"chartjs-render-animation"===e.animationName&&t()};z.each(vt,(function(t){yt(e,t,i)})),n.reflow=!!e.offsetParent,e.classList.add(gt)}(e,(function(){if(s.resizer){var t=e.parentNode;t&&t!==l.parentNode&&t.insertBefore(l,t.firstChild),l._reset()}}))}(i,n,e)},removeEventListener:function(e,t,n){var i=e.canvas;if("resize"!==t){var r=((n[ht]||{}).proxies||{})[e.id+"_"+t];r&&xt(i,t,r)}else!function(e){var t=e[ht]||{},n=t.resizer;delete t.resizer,function(e){var t=e[ht]||{},n=t.renderProxy;n&&(z.each(vt,(function(t){xt(e,t,n)})),delete t.renderProxy),e.classList.remove(gt)}(e),n&&n.parentNode&&n.parentNode.removeChild(n)}(i)}};z.addEvent=yt,z.removeEvent=xt;var Et=_t._enabled?_t:{acquireContext:function(e){return e&&e.canvas&&(e=e.canvas),e&&e.getContext("2d")||null}},wt=z.extend({initialize:function(){},acquireContext:function(){},releaseContext:function(){},addEventListener:function(){},removeEventListener:function(){}},Et);L._set("global",{plugins:{}});var kt={_plugins:[],_cacheId:0,register:function(e){var t=this._plugins;[].concat(e).forEach((function(e){-1===t.indexOf(e)&&t.push(e)})),this._cacheId++},unregister:function(e){var t=this._plugins;[].concat(e).forEach((function(e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)})),this._cacheId++},clear:function(){this._plugins=[],this._cacheId++},count:function(){return this._plugins.length},getAll:function(){return this._plugins},notify:function(e,t,n){var i,r,a,o,s,l=this.descriptors(e),d=l.length;for(i=0;i<d;++i)if("function"==typeof(s=(a=(r=l[i]).plugin)[t])&&((o=[e].concat(n||[])).push(r.options),!1===s.apply(a,o)))return!1;return!0},descriptors:function(e){var t=e.$plugins||(e.$plugins={});if(t.id===this._cacheId)return t.descriptors;var n=[],i=[],r=e&&e.config||{},a=r.options&&r.options.plugins||{};return this._plugins.concat(r.plugins||[]).forEach((function(e){if(-1===n.indexOf(e)){var t=e.id,r=a[t];!1!==r&&(!0===r&&(r=z.clone(L.global.plugins[t])),n.push(e),i.push({plugin:e,options:r||{}}))}})),t.descriptors=i,t.id=this._cacheId,i},_invalidate:function(e){delete e.$plugins}},Ct={constructors:{},defaults:{},registerScaleType:function(e,t,n){this.constructors[e]=t,this.defaults[e]=z.clone(n)},getScaleConstructor:function(e){return this.constructors.hasOwnProperty(e)?this.constructors[e]:void 0},getScaleDefaults:function(e){return this.defaults.hasOwnProperty(e)?z.merge({},[L.scale,this.defaults[e]]):{}},updateScaleDefaults:function(e,t){this.defaults.hasOwnProperty(e)&&(this.defaults[e]=z.extend(this.defaults[e],t))},addScalesToLayout:function(e){z.each(e.scales,(function(t){t.fullWidth=t.options.fullWidth,t.position=t.options.position,t.weight=t.options.weight,ut.addBox(e,t)}))}},Tt=z.valueOrDefault,Mt=z.rtl.getRtlAdapter;L._set("global",{tooltips:{enabled:!0,custom:null,mode:"nearest",position:"average",intersect:!0,backgroundColor:"rgba(0,0,0,0.8)",titleFontStyle:"bold",titleSpacing:2,titleMarginBottom:6,titleFontColor:"#fff",titleAlign:"left",bodySpacing:2,bodyFontColor:"#fff",bodyAlign:"left",footerFontStyle:"bold",footerSpacing:2,footerMarginTop:6,footerFontColor:"#fff",footerAlign:"left",yPadding:6,xPadding:6,caretPadding:2,caretSize:5,cornerRadius:6,multiKeyBackground:"#fff",displayColors:!0,borderColor:"rgba(0,0,0,0)",borderWidth:0,callbacks:{beforeTitle:z.noop,title:function(e,t){var n="",i=t.labels,r=i?i.length:0;if(e.length>0){var a=e[0];a.label?n=a.label:a.xLabel?n=a.xLabel:r>0&&a.index<r&&(n=i[a.index])}return n},afterTitle:z.noop,beforeBody:z.noop,beforeLabel:z.noop,label:function(e,t){var n=t.datasets[e.datasetIndex].label||"";return n&&(n+=": "),z.isNullOrUndef(e.value)?n+=e.yLabel:n+=e.value,n},labelColor:function(e,t){var n=t.getDatasetMeta(e.datasetIndex).data[e.index]._view;return{borderColor:n.borderColor,backgroundColor:n.backgroundColor}},labelTextColor:function(){return this._options.bodyFontColor},afterLabel:z.noop,afterBody:z.noop,beforeFooter:z.noop,footer:z.noop,afterFooter:z.noop}}});var It={average:function(e){if(!e.length)return!1;var t,n,i=0,r=0,a=0;for(t=0,n=e.length;t<n;++t){var o=e[t];if(o&&o.hasValue()){var s=o.tooltipPosition();i+=s.x,r+=s.y,++a}}return{x:i/a,y:r/a}},nearest:function(e,t){var n,i,r,a=t.x,o=t.y,s=Number.POSITIVE_INFINITY;for(n=0,i=e.length;n<i;++n){var l=e[n];if(l&&l.hasValue()){var d=l.getCenterPoint(),u=z.distanceBetweenPoints(t,d);u<s&&(s=u,r=l)}}if(r){var c=r.tooltipPosition();a=c.x,o=c.y}return{x:a,y:o}}};function Pt(e,t){return t&&(z.isArray(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function Dt(e){return("string"==typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Rt(e){var t=L.global;return{xPadding:e.xPadding,yPadding:e.yPadding,xAlign:e.xAlign,yAlign:e.yAlign,rtl:e.rtl,textDirection:e.textDirection,bodyFontColor:e.bodyFontColor,_bodyFontFamily:Tt(e.bodyFontFamily,t.defaultFontFamily),_bodyFontStyle:Tt(e.bodyFontStyle,t.defaultFontStyle),_bodyAlign:e.bodyAlign,bodyFontSize:Tt(e.bodyFontSize,t.defaultFontSize),bodySpacing:e.bodySpacing,titleFontColor:e.titleFontColor,_titleFontFamily:Tt(e.titleFontFamily,t.defaultFontFamily),_titleFontStyle:Tt(e.titleFontStyle,t.defaultFontStyle),titleFontSize:Tt(e.titleFontSize,t.defaultFontSize),_titleAlign:e.titleAlign,titleSpacing:e.titleSpacing,titleMarginBottom:e.titleMarginBottom,footerFontColor:e.footerFontColor,_footerFontFamily:Tt(e.footerFontFamily,t.defaultFontFamily),_footerFontStyle:Tt(e.footerFontStyle,t.defaultFontStyle),footerFontSize:Tt(e.footerFontSize,t.defaultFontSize),_footerAlign:e.footerAlign,footerSpacing:e.footerSpacing,footerMarginTop:e.footerMarginTop,caretSize:e.caretSize,cornerRadius:e.cornerRadius,backgroundColor:e.backgroundColor,opacity:0,legendColorBackground:e.multiKeyBackground,displayColors:e.displayColors,borderColor:e.borderColor,borderWidth:e.borderWidth}}function Ft(e,t){return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-e.xPadding:e.x+e.xPadding}function Ot(e){return Pt([],Dt(e))}var Lt=j.extend({initialize:function(){this._model=Rt(this._options),this._lastActive=[]},getTitle:function(){var e=this,t=e._options,n=t.callbacks,i=n.beforeTitle.apply(e,arguments),r=n.title.apply(e,arguments),a=n.afterTitle.apply(e,arguments),o=[];return o=Pt(o,Dt(i)),o=Pt(o,Dt(r)),Pt(o,Dt(a))},getBeforeBody:function(){return Ot(this._options.callbacks.beforeBody.apply(this,arguments))},getBody:function(e,t){var n=this,i=n._options.callbacks,r=[];return z.each(e,(function(e){var a={before:[],lines:[],after:[]};Pt(a.before,Dt(i.beforeLabel.call(n,e,t))),Pt(a.lines,i.label.call(n,e,t)),Pt(a.after,Dt(i.afterLabel.call(n,e,t))),r.push(a)})),r},getAfterBody:function(){return Ot(this._options.callbacks.afterBody.apply(this,arguments))},getFooter:function(){var e=this,t=e._options.callbacks,n=t.beforeFooter.apply(e,arguments),i=t.footer.apply(e,arguments),r=t.afterFooter.apply(e,arguments),a=[];return a=Pt(a,Dt(n)),a=Pt(a,Dt(i)),Pt(a,Dt(r))},update:function(e){var t,n,i,r,a,o,s,l,d,u,c=this,h=c._options,f=c._model,g=c._model=Rt(h),v=c._active,p=c._data,m={xAlign:f.xAlign,yAlign:f.yAlign},b={x:f.x,y:f.y},y={width:f.width,height:f.height},x={x:f.caretX,y:f.caretY};if(v.length){g.opacity=1;var S=[],A=[];x=It[h.position].call(c,v,c._eventPosition);var _=[];for(t=0,n=v.length;t<n;++t)_.push((r=void 0,a=void 0,void 0,void 0,l=void 0,d=void 0,u=void 0,r=(i=v[t])._xScale,a=i._yScale||i._scale,o=i._index,s=i._datasetIndex,d=(l=i._chart.getDatasetMeta(s).controller)._getIndexScale(),u=l._getValueScale(),{xLabel:r?r.getLabelForIndex(o,s):"",yLabel:a?a.getLabelForIndex(o,s):"",label:d?""+d.getLabelForIndex(o,s):"",value:u?""+u.getLabelForIndex(o,s):"",index:o,datasetIndex:s,x:i._model.x,y:i._model.y}));h.filter&&(_=_.filter((function(e){return h.filter(e,p)}))),h.itemSort&&(_=_.sort((function(e,t){return h.itemSort(e,t,p)}))),z.each(_,(function(e){S.push(h.callbacks.labelColor.call(c,e,c._chart)),A.push(h.callbacks.labelTextColor.call(c,e,c._chart))})),g.title=c.getTitle(_,p),g.beforeBody=c.getBeforeBody(_,p),g.body=c.getBody(_,p),g.afterBody=c.getAfterBody(_,p),g.footer=c.getFooter(_,p),g.x=x.x,g.y=x.y,g.caretPadding=h.caretPadding,g.labelColors=S,g.labelTextColors=A,g.dataPoints=_,b=function(e,t,n,i){var r=e.x,a=e.y,o=e.caretSize,s=e.caretPadding,l=e.cornerRadius,d=n.xAlign,u=n.yAlign,c=o+s,h=l+s;return"right"===d?r-=t.width:"center"===d&&((r-=t.width/2)+t.width>i.width&&(r=i.width-t.width),r<0&&(r=0)),"top"===u?a+=c:a-="bottom"===u?t.height+c:t.height/2,"center"===u?"left"===d?r+=c:"right"===d&&(r-=c):"left"===d?r-=h:"right"===d&&(r+=h),{x:r,y:a}}(g,y=function(e,t){var n=e._chart.ctx,i=2*t.yPadding,r=0,a=t.body,o=a.reduce((function(e,t){return e+t.before.length+t.lines.length+t.after.length}),0);o+=t.beforeBody.length+t.afterBody.length;var s=t.title.length,l=t.footer.length,d=t.titleFontSize,u=t.bodyFontSize,c=t.footerFontSize;i+=s*d,i+=s?(s-1)*t.titleSpacing:0,i+=s?t.titleMarginBottom:0,i+=o*u,i+=o?(o-1)*t.bodySpacing:0,i+=l?t.footerMarginTop:0,i+=l*c,i+=l?(l-1)*t.footerSpacing:0;var h=0,f=function(e){r=Math.max(r,n.measureText(e).width+h)};return n.font=z.fontString(d,t._titleFontStyle,t._titleFontFamily),z.each(t.title,f),n.font=z.fontString(u,t._bodyFontStyle,t._bodyFontFamily),z.each(t.beforeBody.concat(t.afterBody),f),h=t.displayColors?u+2:0,z.each(a,(function(e){z.each(e.before,f),z.each(e.lines,f),z.each(e.after,f)})),h=0,n.font=z.fontString(c,t._footerFontStyle,t._footerFontFamily),z.each(t.footer,f),{width:r+=2*t.xPadding,height:i}}(this,g),m=function(e,t){var n,i,r,a,o,s=e._model,l=e._chart,d=e._chart.chartArea,u="center",c="center";s.y<t.height?c="top":s.y>l.height-t.height&&(c="bottom");var h=(d.left+d.right)/2,f=(d.top+d.bottom)/2;"center"===c?(n=function(e){return e<=h},i=function(e){return e>h}):(n=function(e){return e<=t.width/2},i=function(e){return e>=l.width-t.width/2}),r=function(e){return e+t.width+s.caretSize+s.caretPadding>l.width},a=function(e){return e-t.width-s.caretSize-s.caretPadding<0},o=function(e){return e<=f?"top":"bottom"},n(s.x)?(u="left",r(s.x)&&(u="center",c=o(s.y))):i(s.x)&&(u="right",a(s.x)&&(u="center",c=o(s.y)));var g=e._options;return{xAlign:g.xAlign?g.xAlign:u,yAlign:g.yAlign?g.yAlign:c}}(this,y),c._chart)}else g.opacity=0;return g.xAlign=m.xAlign,g.yAlign=m.yAlign,g.x=b.x,g.y=b.y,g.width=y.width,g.height=y.height,g.caretX=x.x,g.caretY=x.y,c._model=g,e&&h.custom&&h.custom.call(c,g),c},drawCaret:function(e,t){var n=this._chart.ctx,i=this._view,r=this.getCaretPosition(e,t,i);n.lineTo(r.x1,r.y1),n.lineTo(r.x2,r.y2),n.lineTo(r.x3,r.y3)},getCaretPosition:function(e,t,n){var i,r,a,o,s,l,d=n.caretSize,u=n.cornerRadius,c=n.xAlign,h=n.yAlign,f=e.x,g=e.y,v=t.width,p=t.height;if("center"===h)s=g+p/2,"left"===c?(r=(i=f)-d,a=i,o=s+d,l=s-d):(r=(i=f+v)+d,a=i,o=s-d,l=s+d);else if("left"===c?(i=(r=f+u+d)-d,a=r+d):"right"===c?(i=(r=f+v-u-d)-d,a=r+d):(i=(r=n.caretX)-d,a=r+d),"top"===h)s=(o=g)-d,l=o;else{s=(o=g+p)+d,l=o;var m=a;a=i,i=m}return{x1:i,x2:r,x3:a,y1:o,y2:s,y3:l}},drawTitle:function(e,t,n){var i,r,a,o=t.title,s=o.length;if(s){var l=Mt(t.rtl,t.x,t.width);for(e.x=Ft(t,t._titleAlign),n.textAlign=l.textAlign(t._titleAlign),n.textBaseline="middle",i=t.titleFontSize,r=t.titleSpacing,n.fillStyle=t.titleFontColor,n.font=z.fontString(i,t._titleFontStyle,t._titleFontFamily),a=0;a<s;++a)n.fillText(o[a],l.x(e.x),e.y+i/2),e.y+=i+r,a+1===s&&(e.y+=t.titleMarginBottom-r)}},drawBody:function(e,t,n){var i,r,a,o,s,l,d,u,c=t.bodyFontSize,h=t.bodySpacing,f=t._bodyAlign,g=t.body,v=t.displayColors,p=0,m=v?Ft(t,"left"):0,b=Mt(t.rtl,t.x,t.width),y=function(t){n.fillText(t,b.x(e.x+p),e.y+c/2),e.y+=c+h},x=b.textAlign(f);for(n.textAlign=f,n.textBaseline="middle",n.font=z.fontString(c,t._bodyFontStyle,t._bodyFontFamily),e.x=Ft(t,x),n.fillStyle=t.bodyFontColor,z.each(t.beforeBody,y),p=v&&"right"!==x?"center"===f?c/2+1:c+2:0,s=0,d=g.length;s<d;++s){for(i=g[s],r=t.labelTextColors[s],a=t.labelColors[s],n.fillStyle=r,z.each(i.before,y),l=0,u=(o=i.lines).length;l<u;++l){if(v){var S=b.x(m);n.fillStyle=t.legendColorBackground,n.fillRect(b.leftForLtr(S,c),e.y,c,c),n.lineWidth=1,n.strokeStyle=a.borderColor,n.strokeRect(b.leftForLtr(S,c),e.y,c,c),n.fillStyle=a.backgroundColor,n.fillRect(b.leftForLtr(b.xPlus(S,1),c-2),e.y+1,c-2,c-2),n.fillStyle=r}y(o[l])}z.each(i.after,y)}p=0,z.each(t.afterBody,y),e.y-=h},drawFooter:function(e,t,n){var i,r,a=t.footer,o=a.length;if(o){var s=Mt(t.rtl,t.x,t.width);for(e.x=Ft(t,t._footerAlign),e.y+=t.footerMarginTop,n.textAlign=s.textAlign(t._footerAlign),n.textBaseline="middle",i=t.footerFontSize,n.fillStyle=t.footerFontColor,n.font=z.fontString(i,t._footerFontStyle,t._footerFontFamily),r=0;r<o;++r)n.fillText(a[r],s.x(e.x),e.y+i/2),e.y+=i+t.footerSpacing}},drawBackground:function(e,t,n,i){n.fillStyle=t.backgroundColor,n.strokeStyle=t.borderColor,n.lineWidth=t.borderWidth;var r=t.xAlign,a=t.yAlign,o=e.x,s=e.y,l=i.width,d=i.height,u=t.cornerRadius;n.beginPath(),n.moveTo(o+u,s),"top"===a&&this.drawCaret(e,i),n.lineTo(o+l-u,s),n.quadraticCurveTo(o+l,s,o+l,s+u),"center"===a&&"right"===r&&this.drawCaret(e,i),n.lineTo(o+l,s+d-u),n.quadraticCurveTo(o+l,s+d,o+l-u,s+d),"bottom"===a&&this.drawCaret(e,i),n.lineTo(o+u,s+d),n.quadraticCurveTo(o,s+d,o,s+d-u),"center"===a&&"left"===r&&this.drawCaret(e,i),n.lineTo(o,s+u),n.quadraticCurveTo(o,s,o+u,s),n.closePath(),n.fill(),t.borderWidth>0&&n.stroke()},draw:function(){var e=this._chart.ctx,t=this._view;if(0!==t.opacity){var n={width:t.width,height:t.height},i={x:t.x,y:t.y},r=Math.abs(t.opacity<.001)?0:t.opacity,a=t.title.length||t.beforeBody.length||t.body.length||t.afterBody.length||t.footer.length;this._options.enabled&&a&&(e.save(),e.globalAlpha=r,this.drawBackground(i,t,e,n),i.y+=t.yPadding,z.rtl.overrideTextDirection(e,t.textDirection),this.drawTitle(i,t,e),this.drawBody(i,t,e),this.drawFooter(i,t,e),z.rtl.restoreTextDirection(e,t.textDirection),e.restore())}},handleEvent:function(e){var t,n=this,i=n._options;return n._lastActive=n._lastActive||[],"mouseout"===e.type?n._active=[]:(n._active=n._chart.getElementsAtEventForMode(e,i.mode,i),i.reverse&&n._active.reverse()),(t=!z.arrayEquals(n._active,n._lastActive))&&(n._lastActive=n._active,(i.enabled||i.custom)&&(n._eventPosition={x:e.x,y:e.y},n.update(!0),n.pivot())),t}}),Gt=It,Nt=Lt;Nt.positioners=Gt;var Vt=z.valueOrDefault;function Bt(){return z.merge({},[].slice.call(arguments),{merger:function(e,t,n,i){if("xAxes"===e||"yAxes"===e){var r,a,o,s=n[e].length;for(t[e]||(t[e]=[]),r=0;r<s;++r)o=n[e][r],a=Vt(o.type,"xAxes"===e?"category":"linear"),r>=t[e].length&&t[e].push({}),!t[e][r].type||o.type&&o.type!==t[e][r].type?z.merge(t[e][r],[Ct.getScaleDefaults(a),o]):z.merge(t[e][r],o)}else z._merger(e,t,n,i)}})}function zt(){return z.merge({},[].slice.call(arguments),{merger:function(e,t,n,i){var r=t[e]||{},a=n[e];"scales"===e?t[e]=Bt(r,a):"scale"===e?t[e]=z.merge(r,[Ct.getScaleDefaults(a.type),a]):z._merger(e,t,n,i)}})}function Ht(e){var t=e.options;z.each(e.scales,(function(t){ut.removeBox(e,t)})),t=zt(L.global,L[e.config.type],t),e.options=e.config.options=t,e.ensureScalesHaveIDs(),e.buildOrUpdateScales(),e.tooltip._options=t.tooltips,e.tooltip.initialize()}function Wt(e,t,n){var i,r=function(e){return e.id===i};do{i=t+n++}while(z.findIndex(e,r)>=0);return i}function Ut(e){return"top"===e||"bottom"===e}function Kt(e,t){return function(n,i){return n[e]===i[e]?n[t]-i[t]:n[e]-i[e]}}L._set("global",{elements:{},events:["mousemove","mouseout","click","touchstart","touchmove"],hover:{onHover:null,mode:"nearest",intersect:!0,animationDuration:400},onClick:null,maintainAspectRatio:!0,responsive:!0,responsiveAnimationDuration:0});var qt=function(e,t){return this.construct(e,t),this};z.extend(qt.prototype,{construct:function(e,t){var n=this;t=function(e){var t=(e=e||{}).data=e.data||{};return t.datasets=t.datasets||[],t.labels=t.labels||[],e.options=zt(L.global,L[e.type],e.options||{}),e}(t);var i=wt.acquireContext(e,t),r=i&&i.canvas,a=r&&r.height,o=r&&r.width;n.id=z.uid(),n.ctx=i,n.canvas=r,n.config=t,n.width=o,n.height=a,n.aspectRatio=a?o/a:null,n.options=t.options,n._bufferedRender=!1,n._layers=[],n.chart=n,n.controller=n,qt.instances[n.id]=n,Object.defineProperty(n,"data",{get:function(){return n.config.data},set:function(e){n.config.data=e}}),i&&r?(n.initialize(),n.update()):console.error("Failed to create chart: can't acquire context from the given item")},initialize:function(){var e=this;return kt.notify(e,"beforeInit"),z.retinaScale(e,e.options.devicePixelRatio),e.bindEvents(),e.options.responsive&&e.resize(!0),e.initToolTip(),kt.notify(e,"afterInit"),e},clear:function(){return z.canvas.clear(this),this},stop:function(){return X.cancelAnimation(this),this},resize:function(e){var t=this,n=t.options,i=t.canvas,r=n.maintainAspectRatio&&t.aspectRatio||null,a=Math.max(0,Math.floor(z.getMaximumWidth(i))),o=Math.max(0,Math.floor(r?a/r:z.getMaximumHeight(i)));if((t.width!==a||t.height!==o)&&(i.width=t.width=a,i.height=t.height=o,i.style.width=a+"px",i.style.height=o+"px",z.retinaScale(t,n.devicePixelRatio),!e)){var s={width:a,height:o};kt.notify(t,"resize",[s]),n.onResize&&n.onResize(t,s),t.stop(),t.update({duration:n.responsiveAnimationDuration})}},ensureScalesHaveIDs:function(){var e=this.options,t=e.scales||{},n=e.scale;z.each(t.xAxes,(function(e,n){e.id||(e.id=Wt(t.xAxes,"x-axis-",n))})),z.each(t.yAxes,(function(e,n){e.id||(e.id=Wt(t.yAxes,"y-axis-",n))})),n&&(n.id=n.id||"scale")},buildOrUpdateScales:function(){var e=this,t=e.options,n=e.scales||{},i=[],r=Object.keys(n).reduce((function(e,t){return e[t]=!1,e}),{});t.scales&&(i=i.concat((t.scales.xAxes||[]).map((function(e){return{options:e,dtype:"category",dposition:"bottom"}})),(t.scales.yAxes||[]).map((function(e){return{options:e,dtype:"linear",dposition:"left"}})))),t.scale&&i.push({options:t.scale,dtype:"radialLinear",isDefault:!0,dposition:"chartArea"}),z.each(i,(function(t){var i=t.options,a=i.id,o=Vt(i.type,t.dtype);Ut(i.position)!==Ut(t.dposition)&&(i.position=t.dposition),r[a]=!0;var s=null;if(a in n&&n[a].type===o)(s=n[a]).options=i,s.ctx=e.ctx,s.chart=e;else{var l=Ct.getScaleConstructor(o);if(!l)return;s=new l({id:a,type:o,options:i,ctx:e.ctx,chart:e}),n[s.id]=s}s.mergeTicksOptions(),t.isDefault&&(e.scale=s)})),z.each(r,(function(e,t){e||delete n[t]})),e.scales=n,Ct.addScalesToLayout(this)},buildOrUpdateControllers:function(){var e,t,n=this,i=[],r=n.data.datasets;for(e=0,t=r.length;e<t;e++){var a=r[e],o=n.getDatasetMeta(e),s=a.type||n.config.type;if(o.type&&o.type!==s&&(n.destroyDatasetMeta(e),o=n.getDatasetMeta(e)),o.type=s,o.order=a.order||0,o.index=e,o.controller)o.controller.updateIndex(e),o.controller.linkScales();else{var l=je[o.type];if(void 0===l)throw new Error('"'+o.type+'" is not a chart type.');o.controller=new l(n,e),i.push(o.controller)}}return i},resetElements:function(){var e=this;z.each(e.data.datasets,(function(t,n){e.getDatasetMeta(n).controller.reset()}),e)},reset:function(){this.resetElements(),this.tooltip.initialize()},update:function(e){var t,n,i=this;if(e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]}),Ht(i),kt._invalidate(i),!1!==kt.notify(i,"beforeUpdate")){i.tooltip._data=i.data;var r=i.buildOrUpdateControllers();for(t=0,n=i.data.datasets.length;t<n;t++)i.getDatasetMeta(t).controller.buildOrUpdateElements();i.updateLayout(),i.options.animation&&i.options.animation.duration&&z.each(r,(function(e){e.reset()})),i.updateDatasets(),i.tooltip.initialize(),i.lastActive=[],kt.notify(i,"afterUpdate"),i._layers.sort(Kt("z","_idx")),i._bufferedRender?i._bufferedRequest={duration:e.duration,easing:e.easing,lazy:e.lazy}:i.render(e)}},updateLayout:function(){var e=this;!1!==kt.notify(e,"beforeLayout")&&(ut.update(this,this.width,this.height),e._layers=[],z.each(e.boxes,(function(t){t._configure&&t._configure(),e._layers.push.apply(e._layers,t._layers())}),e),e._layers.forEach((function(e,t){e._idx=t})),kt.notify(e,"afterScaleUpdate"),kt.notify(e,"afterLayout"))},updateDatasets:function(){if(!1!==kt.notify(this,"beforeDatasetsUpdate")){for(var e=0,t=this.data.datasets.length;e<t;++e)this.updateDataset(e);kt.notify(this,"afterDatasetsUpdate")}},updateDataset:function(e){var t=this.getDatasetMeta(e),n={meta:t,index:e};!1!==kt.notify(this,"beforeDatasetUpdate",[n])&&(t.controller._update(),kt.notify(this,"afterDatasetUpdate",[n]))},render:function(e){var t=this;e&&"object"==typeof e||(e={duration:e,lazy:arguments[1]});var n=t.options.animation,i=Vt(e.duration,n&&n.duration),r=e.lazy;if(!1!==kt.notify(t,"beforeRender")){var a=function(e){kt.notify(t,"afterRender"),z.callback(n&&n.onComplete,[e],t)};if(n&&i){var o=new Y({numSteps:i/16.66,easing:e.easing||n.easing,render:function(e,t){var n=z.easing.effects[t.easing],i=t.currentStep,r=i/t.numSteps;e.draw(n(r),r,i)},onAnimationProgress:n.onProgress,onAnimationComplete:a});X.addAnimation(t,o,i,r)}else t.draw(),a(new Y({numSteps:0,chart:t}));return t}},draw:function(e){var t,n,i=this;if(i.clear(),z.isNullOrUndef(e)&&(e=1),i.transition(e),!(i.width<=0||i.height<=0)&&!1!==kt.notify(i,"beforeDraw",[e])){for(n=i._layers,t=0;t<n.length&&n[t].z<=0;++t)n[t].draw(i.chartArea);for(i.drawDatasets(e);t<n.length;++t)n[t].draw(i.chartArea);i._drawTooltip(e),kt.notify(i,"afterDraw",[e])}},transition:function(e){for(var t=0,n=(this.data.datasets||[]).length;t<n;++t)this.isDatasetVisible(t)&&this.getDatasetMeta(t).controller.transition(e);this.tooltip.transition(e)},_getSortedDatasetMetas:function(e){var t,n,i=[];for(t=0,n=(this.data.datasets||[]).length;t<n;++t)e&&!this.isDatasetVisible(t)||i.push(this.getDatasetMeta(t));return i.sort(Kt("order","index")),i},_getSortedVisibleDatasetMetas:function(){return this._getSortedDatasetMetas(!0)},drawDatasets:function(e){var t,n;if(!1!==kt.notify(this,"beforeDatasetsDraw",[e])){for(n=(t=this._getSortedVisibleDatasetMetas()).length-1;n>=0;--n)this.drawDataset(t[n],e);kt.notify(this,"afterDatasetsDraw",[e])}},drawDataset:function(e,t){var n={meta:e,index:e.index,easingValue:t};!1!==kt.notify(this,"beforeDatasetDraw",[n])&&(e.controller.draw(t),kt.notify(this,"afterDatasetDraw",[n]))},_drawTooltip:function(e){var t=this.tooltip,n={tooltip:t,easingValue:e};!1!==kt.notify(this,"beforeTooltipDraw",[n])&&(t.draw(),kt.notify(this,"afterTooltipDraw",[n]))},getElementAtEvent:function(e){return et.modes.single(this,e)},getElementsAtEvent:function(e){return et.modes.label(this,e,{intersect:!0})},getElementsAtXAxis:function(e){return et.modes["x-axis"](this,e,{intersect:!0})},getElementsAtEventForMode:function(e,t,n){var i=et.modes[t];return"function"==typeof i?i(this,e,n):[]},getDatasetAtEvent:function(e){return et.modes.dataset(this,e,{intersect:!0})},getDatasetMeta:function(e){var t=this.data.datasets[e];t._meta||(t._meta={});var n=t._meta[this.id];return n||(n=t._meta[this.id]={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t.order||0,index:e}),n},getVisibleDatasetCount:function(){for(var e=0,t=0,n=this.data.datasets.length;t<n;++t)this.isDatasetVisible(t)&&e++;return e},isDatasetVisible:function(e){var t=this.getDatasetMeta(e);return"boolean"==typeof t.hidden?!t.hidden:!this.data.datasets[e].hidden},generateLegend:function(){return this.options.legendCallback(this)},destroyDatasetMeta:function(e){var t=this.id,n=this.data.datasets[e],i=n._meta&&n._meta[t];i&&(i.controller.destroy(),delete n._meta[t])},destroy:function(){var e,t,n=this,i=n.canvas;for(n.stop(),e=0,t=n.data.datasets.length;e<t;++e)n.destroyDatasetMeta(e);i&&(n.unbindEvents(),z.canvas.clear(n),wt.releaseContext(n.ctx),n.canvas=null,n.ctx=null),kt.notify(n,"destroy"),delete qt.instances[n.id]},toBase64Image:function(){return this.canvas.toDataURL.apply(this.canvas,arguments)},initToolTip:function(){var e=this;e.tooltip=new Nt({_chart:e,_chartInstance:e,_data:e.data,_options:e.options.tooltips},e)},bindEvents:function(){var e=this,t=e._listeners={},n=function(){e.eventHandler.apply(e,arguments)};z.each(e.options.events,(function(i){wt.addEventListener(e,i,n),t[i]=n})),e.options.responsive&&(n=function(){e.resize()},wt.addEventListener(e,"resize",n),t.resize=n)},unbindEvents:function(){var e=this,t=e._listeners;t&&(delete e._listeners,z.each(t,(function(t,n){wt.removeEventListener(e,n,t)})))},updateHoverStyle:function(e,t,n){var i,r,a,o=n?"set":"remove";for(r=0,a=e.length;r<a;++r)(i=e[r])&&this.getDatasetMeta(i._datasetIndex).controller[o+"HoverStyle"](i);"dataset"===t&&this.getDatasetMeta(e[0]._datasetIndex).controller["_"+o+"DatasetHoverStyle"]()},eventHandler:function(e){var t=this,n=t.tooltip;if(!1!==kt.notify(t,"beforeEvent",[e])){t._bufferedRender=!0,t._bufferedRequest=null;var i=t.handleEvent(e);n&&(i=n._start?n.handleEvent(e):i|n.handleEvent(e)),kt.notify(t,"afterEvent",[e]);var r=t._bufferedRequest;return r?t.render(r):i&&!t.animating&&(t.stop(),t.render({duration:t.options.hover.animationDuration,lazy:!0})),t._bufferedRender=!1,t._bufferedRequest=null,t}},handleEvent:function(e){var t,n=this,i=n.options||{},r=i.hover;return n.lastActive=n.lastActive||[],"mouseout"===e.type?n.active=[]:n.active=n.getElementsAtEventForMode(e,r.mode,r),z.callback(i.onHover||i.hover.onHover,[e.native,n.active],n),"mouseup"!==e.type&&"click"!==e.type||i.onClick&&i.onClick.call(n,e.native,n.active),n.lastActive.length&&n.updateHoverStyle(n.lastActive,r.mode,!1),n.active.length&&r.mode&&n.updateHoverStyle(n.active,r.mode,!0),t=!z.arrayEquals(n.active,n.lastActive),n.lastActive=n.active,t}}),qt.instances={};var jt=qt;function Jt(){throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.")}function Yt(e){this.options=e||{}}qt.Controller=qt,qt.types={},z.configMerge=zt,z.scaleMerge=Bt,z.extend(Yt.prototype,{formats:Jt,parse:Jt,format:Jt,add:Jt,diff:Jt,startOf:Jt,endOf:Jt,_create:function(e){return e}}),Yt.override=function(e){z.extend(Yt.prototype,e)};var Xt={_date:Yt},Qt={formatters:{values:function(e){return z.isArray(e)?e:""+e},linear:function(e,t,n){var i=n.length>3?n[2]-n[1]:n[1]-n[0];Math.abs(i)>1&&e!==Math.floor(e)&&(i=e-Math.floor(e));var r=z.log10(Math.abs(i)),a="";if(0!==e)if(Math.max(Math.abs(n[0]),Math.abs(n[n.length-1]))<1e-4){var o=z.log10(Math.abs(e)),s=Math.floor(o)-Math.floor(r);s=Math.max(Math.min(s,20),0),a=e.toExponential(s)}else{var l=-1*Math.floor(r);l=Math.max(Math.min(l,20),0),a=e.toFixed(l)}else a="0";return a},logarithmic:function(e,t,n){var i=e/Math.pow(10,Math.floor(z.log10(e)));return 0===e?"0":1===i||2===i||5===i||0===t||t===n.length-1?e.toExponential():""}}},$t=z.isArray,Zt=z.isNullOrUndef,en=z.valueOrDefault,tn=z.valueAtIndexOrDefault;function nn(e,t,n){var i,r=e.getTicks().length,a=Math.min(t,r-1),o=e.getPixelForTick(a),s=e._startPixel,l=e._endPixel;if(!(n&&(i=1===r?Math.max(o-s,l-o):0===t?(e.getPixelForTick(1)-o)/2:(o-e.getPixelForTick(a-1))/2,(o+=a<t?i:-i)<s-1e-6||o>l+1e-6)))return o}function rn(e){return e.drawTicks?e.tickMarkLength:0}function an(e){var t,n;return e.display?(t=z.options._parseFont(e),n=z.options.toPadding(e.padding),t.lineHeight+n.height):0}function on(e,t){return z.extend(z.options._parseFont({fontFamily:en(t.fontFamily,e.fontFamily),fontSize:en(t.fontSize,e.fontSize),fontStyle:en(t.fontStyle,e.fontStyle),lineHeight:en(t.lineHeight,e.lineHeight)}),{color:z.options.resolve([t.fontColor,e.fontColor,L.global.defaultFontColor])})}function sn(e){var t=on(e,e.minor);return{minor:t,major:e.major.enabled?on(e,e.major):t}}function ln(e){var t,n,i,r=[];for(n=0,i=e.length;n<i;++n)void 0!==(t=e[n])._index&&r.push(t);return r}function dn(e,t,n,i){var r,a,o,s,l=en(n,0),d=Math.min(en(i,e.length),e.length),u=0;for(t=Math.ceil(t),i&&(t=(r=i-n)/Math.floor(r/t)),s=l;s<0;)u++,s=Math.round(l+u*t);for(a=Math.max(l,0);a<d;a++)o=e[a],a===s?(o._index=a,u++,s=Math.round(l+u*t)):delete o.label}L._set("scale",{display:!0,position:"left",offset:!1,gridLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickMarkLength:10,zeroLineWidth:1,zeroLineColor:"rgba(0,0,0,0.25)",zeroLineBorderDash:[],zeroLineBorderDashOffset:0,offsetGridLines:!1,borderDash:[],borderDashOffset:0},scaleLabel:{display:!1,labelString:"",padding:{top:4,bottom:4}},ticks:{beginAtZero:!1,minRotation:0,maxRotation:50,mirror:!1,padding:0,reverse:!1,display:!0,autoSkip:!0,autoSkipPadding:0,labelOffset:0,callback:Qt.formatters.values,minor:{},major:{}}});var un=j.extend({zeroLineIndex:0,getPadding:function(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}},getTicks:function(){return this._ticks},_getLabels:function(){var e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]},mergeTicksOptions:function(){},beforeUpdate:function(){z.callback(this.options.beforeUpdate,[this])},update:function(e,t,n){var i,r,a,o,s,l=this,d=l.options.ticks,u=d.sampleSize;if(l.beforeUpdate(),l.maxWidth=e,l.maxHeight=t,l.margins=z.extend({left:0,right:0,top:0,bottom:0},n),l._ticks=null,l.ticks=null,l._labelSizes=null,l._maxLabelLines=0,l.longestLabelWidth=0,l.longestTextCache=l.longestTextCache||{},l._gridLineItems=null,l._labelItems=null,l.beforeSetDimensions(),l.setDimensions(),l.afterSetDimensions(),l.beforeDataLimits(),l.determineDataLimits(),l.afterDataLimits(),l.beforeBuildTicks(),o=l.buildTicks()||[],(!(o=l.afterBuildTicks(o)||o)||!o.length)&&l.ticks)for(o=[],i=0,r=l.ticks.length;i<r;++i)o.push({value:l.ticks[i],major:!1});return l._ticks=o,s=u<o.length,a=l._convertTicksToLabels(s?function(e,t){for(var n=[],i=e.length/t,r=0,a=e.length;r<a;r+=i)n.push(e[Math.floor(r)]);return n}(o,u):o),l._configure(),l.beforeCalculateTickRotation(),l.calculateTickRotation(),l.afterCalculateTickRotation(),l.beforeFit(),l.fit(),l.afterFit(),l._ticksToDraw=d.display&&(d.autoSkip||"auto"===d.source)?l._autoSkip(o):o,s&&(a=l._convertTicksToLabels(l._ticksToDraw)),l.ticks=a,l.afterUpdate(),l.minSize},_configure:function(){var e,t,n=this,i=n.options.ticks.reverse;n.isHorizontal()?(e=n.left,t=n.right):(e=n.top,t=n.bottom,i=!i),n._startPixel=e,n._endPixel=t,n._reversePixels=i,n._length=t-e},afterUpdate:function(){z.callback(this.options.afterUpdate,[this])},beforeSetDimensions:function(){z.callback(this.options.beforeSetDimensions,[this])},setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0},afterSetDimensions:function(){z.callback(this.options.afterSetDimensions,[this])},beforeDataLimits:function(){z.callback(this.options.beforeDataLimits,[this])},determineDataLimits:z.noop,afterDataLimits:function(){z.callback(this.options.afterDataLimits,[this])},beforeBuildTicks:function(){z.callback(this.options.beforeBuildTicks,[this])},buildTicks:z.noop,afterBuildTicks:function(e){var t=this;return $t(e)&&e.length?z.callback(t.options.afterBuildTicks,[t,e]):(t.ticks=z.callback(t.options.afterBuildTicks,[t,t.ticks])||t.ticks,e)},beforeTickToLabelConversion:function(){z.callback(this.options.beforeTickToLabelConversion,[this])},convertTicksToLabels:function(){var e=this.options.ticks;this.ticks=this.ticks.map(e.userCallback||e.callback,this)},afterTickToLabelConversion:function(){z.callback(this.options.afterTickToLabelConversion,[this])},beforeCalculateTickRotation:function(){z.callback(this.options.beforeCalculateTickRotation,[this])},calculateTickRotation:function(){var e,t,n,i,r,a,o,s=this,l=s.options,d=l.ticks,u=s.getTicks().length,c=d.minRotation||0,h=d.maxRotation,f=c;!s._isVisible()||!d.display||c>=h||u<=1||!s.isHorizontal()?s.labelRotation=c:(t=(e=s._getLabelSizes()).widest.width,n=e.highest.height-e.highest.offset,i=Math.min(s.maxWidth,s.chart.width-t),t+6>(r=l.offset?s.maxWidth/u:i/(u-1))&&(r=i/(u-(l.offset?.5:1)),a=s.maxHeight-rn(l.gridLines)-d.padding-an(l.scaleLabel),o=Math.sqrt(t*t+n*n),f=z.toDegrees(Math.min(Math.asin(Math.min((e.highest.height+6)/r,1)),Math.asin(Math.min(a/o,1))-Math.asin(n/o))),f=Math.max(c,Math.min(h,f))),s.labelRotation=f)},afterCalculateTickRotation:function(){z.callback(this.options.afterCalculateTickRotation,[this])},beforeFit:function(){z.callback(this.options.beforeFit,[this])},fit:function(){var e=this,t=e.minSize={width:0,height:0},n=e.chart,i=e.options,r=i.ticks,a=i.scaleLabel,o=i.gridLines,s=e._isVisible(),l="bottom"===i.position,d=e.isHorizontal();if(d?t.width=e.maxWidth:s&&(t.width=rn(o)+an(a)),d?s&&(t.height=rn(o)+an(a)):t.height=e.maxHeight,r.display&&s){var u=sn(r),c=e._getLabelSizes(),h=c.first,f=c.last,g=c.widest,v=c.highest,p=.4*u.minor.lineHeight,m=r.padding;if(d){var b=0!==e.labelRotation,y=z.toRadians(e.labelRotation),x=Math.cos(y),S=Math.sin(y),A=S*g.width+x*(v.height-(b?v.offset:0))+(b?0:p);t.height=Math.min(e.maxHeight,t.height+A+m);var _,E,w=e.getPixelForTick(0)-e.left,k=e.right-e.getPixelForTick(e.getTicks().length-1);b?(_=l?x*h.width+S*h.offset:S*(h.height-h.offset),E=l?S*(f.height-f.offset):x*f.width+S*f.offset):(_=h.width/2,E=f.width/2),e.paddingLeft=Math.max((_-w)*e.width/(e.width-w),0)+3,e.paddingRight=Math.max((E-k)*e.width/(e.width-k),0)+3}else{var C=r.mirror?0:g.width+m+p;t.width=Math.min(e.maxWidth,t.width+C),e.paddingTop=h.height/2,e.paddingBottom=f.height/2}}e.handleMargins(),d?(e.width=e._length=n.width-e.margins.left-e.margins.right,e.height=t.height):(e.width=t.width,e.height=e._length=n.height-e.margins.top-e.margins.bottom)},handleMargins:function(){var e=this;e.margins&&(e.margins.left=Math.max(e.paddingLeft,e.margins.left),e.margins.top=Math.max(e.paddingTop,e.margins.top),e.margins.right=Math.max(e.paddingRight,e.margins.right),e.margins.bottom=Math.max(e.paddingBottom,e.margins.bottom))},afterFit:function(){z.callback(this.options.afterFit,[this])},isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},isFullWidth:function(){return this.options.fullWidth},getRightValue:function(e){if(Zt(e))return NaN;if(("number"==typeof e||e instanceof Number)&&!isFinite(e))return NaN;if(e)if(this.isHorizontal()){if(void 0!==e.x)return this.getRightValue(e.x)}else if(void 0!==e.y)return this.getRightValue(e.y);return e},_convertTicksToLabels:function(e){var t,n,i,r=this;for(r.ticks=e.map((function(e){return e.value})),r.beforeTickToLabelConversion(),t=r.convertTicksToLabels(e)||r.ticks,r.afterTickToLabelConversion(),n=0,i=e.length;n<i;++n)e[n].label=t[n];return t},_getLabelSizes:function(){var e=this,t=e._labelSizes;return t||(e._labelSizes=t=function(e,t,n,i){var r,a,o,s,l,d,u,c,h,f,g,v,p,m=n.length,b=[],y=[],x=[];for(r=0;r<m;++r){if(s=n[r].label,l=n[r].major?t.major:t.minor,e.font=d=l.string,u=i[d]=i[d]||{data:{},gc:[]},c=l.lineHeight,h=f=0,Zt(s)||$t(s)){if($t(s))for(a=0,o=s.length;a<o;++a)g=s[a],Zt(g)||$t(g)||(h=z.measureText(e,u.data,u.gc,h,g),f+=c)}else h=z.measureText(e,u.data,u.gc,h,s),f=c;b.push(h),y.push(f),x.push(c/2)}function S(e){return{width:b[e]||0,height:y[e]||0,offset:x[e]||0}}return function(e,t){z.each(e,(function(e){var n,i=e.gc,r=i.length/2;if(r>t){for(n=0;n<r;++n)delete e.data[i[n]];i.splice(0,r)}}))}(i,m),v=b.indexOf(Math.max.apply(null,b)),p=y.indexOf(Math.max.apply(null,y)),{first:S(0),last:S(m-1),widest:S(v),highest:S(p)}}(e.ctx,sn(e.options.ticks),e.getTicks(),e.longestTextCache),e.longestLabelWidth=t.widest.width),t},_parseValue:function(e){var t,n,i,r;return $t(e)?(t=+this.getRightValue(e[0]),n=+this.getRightValue(e[1]),i=Math.min(t,n),r=Math.max(t,n)):(t=void 0,n=e=+this.getRightValue(e),i=e,r=e),{min:i,max:r,start:t,end:n}},_getScaleLabel:function(e){var t=this._parseValue(e);return void 0!==t.start?"["+t.start+", "+t.end+"]":+this.getRightValue(e)},getLabelForIndex:z.noop,getPixelForValue:z.noop,getValueForPixel:z.noop,getPixelForTick:function(e){var t=this.options.offset,n=this._ticks.length,i=1/Math.max(n-(t?0:1),1);return e<0||e>n-1?null:this.getPixelForDecimal(e*i+(t?i/2:0))},getPixelForDecimal:function(e){return this._reversePixels&&(e=1-e),this._startPixel+e*this._length},getDecimalForPixel:function(e){var t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t},getBasePixel:function(){return this.getPixelForValue(this.getBaseValue())},getBaseValue:function(){var e=this.min,t=this.max;return this.beginAtZero?0:e<0&&t<0?t:e>0&&t>0?e:0},_autoSkip:function(e){var t,n,i,r,a=this.options.ticks,o=this._length,s=a.maxTicksLimit||o/this._tickSize()+1,l=a.major.enabled?function(e){var t,n,i=[];for(t=0,n=e.length;t<n;t++)e[t].major&&i.push(t);return i}(e):[],d=l.length,u=l[0],c=l[d-1];if(d>s)return function(e,t,n){var i,r,a=0,o=t[0];for(n=Math.ceil(n),i=0;i<e.length;i++)r=e[i],i===o?(r._index=i,o=t[++a*n]):delete r.label}(e,l,d/s),ln(e);if(i=function(e,t,n,i){var r,a,o,s,l=function(e){var t,n,i=e.length;if(i<2)return!1;for(n=e[0],t=1;t<i;++t)if(e[t]-e[t-1]!==n)return!1;return n}(e),d=(t.length-1)/i;if(!l)return Math.max(d,1);for(o=0,s=(r=z.math._factorize(l)).length-1;o<s;o++)if((a=r[o])>d)return a;return Math.max(d,1)}(l,e,0,s),d>0){for(t=0,n=d-1;t<n;t++)dn(e,i,l[t],l[t+1]);return r=d>1?(c-u)/(d-1):null,dn(e,i,z.isNullOrUndef(r)?0:u-r,u),dn(e,i,c,z.isNullOrUndef(r)?e.length:c+r),ln(e)}return dn(e,i),ln(e)},_tickSize:function(){var e=this.options.ticks,t=z.toRadians(this.labelRotation),n=Math.abs(Math.cos(t)),i=Math.abs(Math.sin(t)),r=this._getLabelSizes(),a=e.autoSkipPadding||0,o=r?r.widest.width+a:0,s=r?r.highest.height+a:0;return this.isHorizontal()?s*n>o*i?o/n:s/i:s*i<o*n?s/n:o/i},_isVisible:function(){var e,t,n,i=this.chart,r=this.options.display;if("auto"!==r)return!!r;for(e=0,t=i.data.datasets.length;e<t;++e)if(i.isDatasetVisible(e)&&((n=i.getDatasetMeta(e)).xAxisID===this.id||n.yAxisID===this.id))return!0;return!1},_computeGridLineItems:function(e){var t,n,i,r,a,o,s,l,d,u,c,h,f,g,v,p,m,b=this,y=b.chart,x=b.options,S=x.gridLines,A=x.position,_=S.offsetGridLines,E=b.isHorizontal(),w=b._ticksToDraw,k=w.length+(_?1:0),C=rn(S),T=[],M=S.drawBorder?tn(S.lineWidth,0,0):0,I=M/2,P=z._alignPixel,D=function(e){return P(y,e,M)};for("top"===A?(t=D(b.bottom),s=b.bottom-C,d=t-I,c=D(e.top)+I,f=e.bottom):"bottom"===A?(t=D(b.top),c=e.top,f=D(e.bottom)-I,s=t+I,d=b.top+C):"left"===A?(t=D(b.right),o=b.right-C,l=t-I,u=D(e.left)+I,h=e.right):(t=D(b.left),u=e.left,h=D(e.right)-I,o=t+I,l=b.left+C),n=0;n<k;++n)i=w[n]||{},Zt(i.label)&&n<w.length||(n===b.zeroLineIndex&&x.offset===_?(g=S.zeroLineWidth,v=S.zeroLineColor,p=S.zeroLineBorderDash||[],m=S.zeroLineBorderDashOffset||0):(g=tn(S.lineWidth,n,1),v=tn(S.color,n,"rgba(0,0,0,0.1)"),p=S.borderDash||[],m=S.borderDashOffset||0),void 0!==(r=nn(b,i._index||n,_))&&(a=P(y,r,g),E?o=l=u=h=a:s=d=c=f=a,T.push({tx1:o,ty1:s,tx2:l,ty2:d,x1:u,y1:c,x2:h,y2:f,width:g,color:v,borderDash:p,borderDashOffset:m})));return T.ticksLength=k,T.borderValue=t,T},_computeLabelItems:function(){var e,t,n,i,r,a,o,s,l,d,u,c,h=this,f=h.options,g=f.ticks,v=f.position,p=g.mirror,m=h.isHorizontal(),b=h._ticksToDraw,y=sn(g),x=g.padding,S=rn(f.gridLines),A=-z.toRadians(h.labelRotation),_=[];for("top"===v?(a=h.bottom-S-x,o=A?"left":"center"):"bottom"===v?(a=h.top+S+x,o=A?"right":"center"):"left"===v?(r=h.right-(p?0:S)-x,o=p?"left":"right"):(r=h.left+(p?0:S)+x,o=p?"right":"left"),e=0,t=b.length;e<t;++e)i=(n=b[e]).label,Zt(i)||(s=h.getPixelForTick(n._index||e)+g.labelOffset,d=(l=n.major?y.major:y.minor).lineHeight,u=$t(i)?i.length:1,m?(r=s,c="top"===v?((A?1:.5)-u)*d:(A?0:.5)*d):(a=s,c=(1-u)*d/2),_.push({x:r,y:a,rotation:A,label:i,font:l,textOffset:c,textAlign:o}));return _},_drawGrid:function(e){var t=this,n=t.options.gridLines;if(n.display){var i,r,a,o,s,l=t.ctx,d=t.chart,u=z._alignPixel,c=n.drawBorder?tn(n.lineWidth,0,0):0,h=t._gridLineItems||(t._gridLineItems=t._computeGridLineItems(e));for(a=0,o=h.length;a<o;++a)i=(s=h[a]).width,r=s.color,i&&r&&(l.save(),l.lineWidth=i,l.strokeStyle=r,l.setLineDash&&(l.setLineDash(s.borderDash),l.lineDashOffset=s.borderDashOffset),l.beginPath(),n.drawTicks&&(l.moveTo(s.tx1,s.ty1),l.lineTo(s.tx2,s.ty2)),n.drawOnChartArea&&(l.moveTo(s.x1,s.y1),l.lineTo(s.x2,s.y2)),l.stroke(),l.restore());if(c){var f,g,v,p,m=c,b=tn(n.lineWidth,h.ticksLength-1,1),y=h.borderValue;t.isHorizontal()?(f=u(d,t.left,m)-m/2,g=u(d,t.right,b)+b/2,v=p=y):(v=u(d,t.top,m)-m/2,p=u(d,t.bottom,b)+b/2,f=g=y),l.lineWidth=c,l.strokeStyle=tn(n.color,0),l.beginPath(),l.moveTo(f,v),l.lineTo(g,p),l.stroke()}}},_drawLabels:function(){var e=this;if(e.options.ticks.display){var t,n,i,r,a,o,s,l,d=e.ctx,u=e._labelItems||(e._labelItems=e._computeLabelItems());for(t=0,i=u.length;t<i;++t){if(o=(a=u[t]).font,d.save(),d.translate(a.x,a.y),d.rotate(a.rotation),d.font=o.string,d.fillStyle=o.color,d.textBaseline="middle",d.textAlign=a.textAlign,s=a.label,l=a.textOffset,$t(s))for(n=0,r=s.length;n<r;++n)d.fillText(""+s[n],0,l),l+=o.lineHeight;else d.fillText(s,0,l);d.restore()}}},_drawTitle:function(){var e=this,t=e.ctx,n=e.options,i=n.scaleLabel;if(i.display){var r,a,o=en(i.fontColor,L.global.defaultFontColor),s=z.options._parseFont(i),l=z.options.toPadding(i.padding),d=s.lineHeight/2,u=n.position,c=0;if(e.isHorizontal())r=e.left+e.width/2,a="bottom"===u?e.bottom-d-l.bottom:e.top+d+l.top;else{var h="left"===u;r=h?e.left+d+l.top:e.right-d-l.top,a=e.top+e.height/2,c=h?-.5*Math.PI:.5*Math.PI}t.save(),t.translate(r,a),t.rotate(c),t.textAlign="center",t.textBaseline="middle",t.fillStyle=o,t.font=s.string,t.fillText(i.labelString,0,0),t.restore()}},draw:function(e){this._isVisible()&&(this._drawGrid(e),this._drawTitle(),this._drawLabels())},_layers:function(){var e=this,t=e.options,n=t.ticks&&t.ticks.z||0,i=t.gridLines&&t.gridLines.z||0;return e._isVisible()&&n!==i&&e.draw===e._draw?[{z:i,draw:function(){e._drawGrid.apply(e,arguments),e._drawTitle.apply(e,arguments)}},{z:n,draw:function(){e._drawLabels.apply(e,arguments)}}]:[{z:n,draw:function(){e.draw.apply(e,arguments)}}]},_getMatchingVisibleMetas:function(e){var t=this,n=t.isHorizontal();return t.chart._getSortedVisibleDatasetMetas().filter((function(i){return(!e||i.type===e)&&(n?i.xAxisID===t.id:i.yAxisID===t.id)}))}});un.prototype._draw=un.prototype.draw;var cn=un,hn=z.isNullOrUndef,fn=cn.extend({determineDataLimits:function(){var e,t=this,n=t._getLabels(),i=t.options.ticks,r=i.min,a=i.max,o=0,s=n.length-1;void 0!==r&&(e=n.indexOf(r))>=0&&(o=e),void 0!==a&&(e=n.indexOf(a))>=0&&(s=e),t.minIndex=o,t.maxIndex=s,t.min=n[o],t.max=n[s]},buildTicks:function(){var e=this._getLabels(),t=this.minIndex,n=this.maxIndex;this.ticks=0===t&&n===e.length-1?e:e.slice(t,n+1)},getLabelForIndex:function(e,t){var n=this.chart;return n.getDatasetMeta(t).controller._getValueScaleId()===this.id?this.getRightValue(n.data.datasets[t].data[e]):this._getLabels()[e]},_configure:function(){var e=this,t=e.options.offset,n=e.ticks;cn.prototype._configure.call(e),e.isHorizontal()||(e._reversePixels=!e._reversePixels),n&&(e._startValue=e.minIndex-(t?.5:0),e._valueRange=Math.max(n.length-(t?0:1),1))},getPixelForValue:function(e,t,n){var i,r,a,o=this;return hn(t)||hn(n)||(e=o.chart.data.datasets[n].data[t]),hn(e)||(i=o.isHorizontal()?e.x:e.y),(void 0!==i||void 0!==e&&isNaN(t))&&(r=o._getLabels(),e=z.valueOrDefault(i,e),t=-1!==(a=r.indexOf(e))?a:t,isNaN(t)&&(t=e)),o.getPixelForDecimal((t-o._startValue)/o._valueRange)},getPixelForTick:function(e){var t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e],e+this.minIndex)},getValueForPixel:function(e){var t=Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange);return Math.min(Math.max(t,0),this.ticks.length-1)},getBasePixel:function(){return this.bottom}});fn._defaults={position:"bottom"};var gn=z.noop,vn=z.isNullOrUndef,pn=cn.extend({getRightValue:function(e){return"string"==typeof e?+e:cn.prototype.getRightValue.call(this,e)},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;if(t.beginAtZero){var n=z.sign(e.min),i=z.sign(e.max);n<0&&i<0?e.max=0:n>0&&i>0&&(e.min=0)}var r=void 0!==t.min||void 0!==t.suggestedMin,a=void 0!==t.max||void 0!==t.suggestedMax;void 0!==t.min?e.min=t.min:void 0!==t.suggestedMin&&(null===e.min?e.min=t.suggestedMin:e.min=Math.min(e.min,t.suggestedMin)),void 0!==t.max?e.max=t.max:void 0!==t.suggestedMax&&(null===e.max?e.max=t.suggestedMax:e.max=Math.max(e.max,t.suggestedMax)),r!==a&&e.min>=e.max&&(r?e.max=e.min+1:e.min=e.max-1),e.min===e.max&&(e.max++,t.beginAtZero||e.min--)},getTickLimit:function(){var e,t=this.options.ticks,n=t.stepSize,i=t.maxTicksLimit;return n?e=Math.ceil(this.max/n)-Math.floor(this.min/n)+1:(e=this._computeTickLimit(),i=i||11),i&&(e=Math.min(i,e)),e},_computeTickLimit:function(){return Number.POSITIVE_INFINITY},handleDirectionalChanges:gn,buildTicks:function(){var e=this,t=e.options.ticks,n=e.getTickLimit(),i={maxTicks:n=Math.max(2,n),min:t.min,max:t.max,precision:t.precision,stepSize:z.valueOrDefault(t.fixedStepSize,t.stepSize)},r=e.ticks=function(e,t){var n,i,r,a,o=[],s=e.stepSize,l=s||1,d=e.maxTicks-1,u=e.min,c=e.max,h=e.precision,f=t.min,g=t.max,v=z.niceNum((g-f)/d/l)*l;if(v<1e-14&&vn(u)&&vn(c))return[f,g];(a=Math.ceil(g/v)-Math.floor(f/v))>d&&(v=z.niceNum(a*v/d/l)*l),s||vn(h)?n=Math.pow(10,z._decimalPlaces(v)):(n=Math.pow(10,h),v=Math.ceil(v*n)/n),i=Math.floor(f/v)*v,r=Math.ceil(g/v)*v,s&&(!vn(u)&&z.almostWhole(u/v,v/1e3)&&(i=u),!vn(c)&&z.almostWhole(c/v,v/1e3)&&(r=c)),a=(r-i)/v,a=z.almostEquals(a,Math.round(a),v/1e3)?Math.round(a):Math.ceil(a),i=Math.round(i*n)/n,r=Math.round(r*n)/n,o.push(vn(u)?i:u);for(var p=1;p<a;++p)o.push(Math.round((i+p*v)*n)/n);return o.push(vn(c)?r:c),o}(i,e);e.handleDirectionalChanges(),e.max=z.max(r),e.min=z.min(r),t.reverse?(r.reverse(),e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max)},convertTicksToLabels:function(){var e=this;e.ticksAsNumbers=e.ticks.slice(),e.zeroLineIndex=e.ticks.indexOf(0),cn.prototype.convertTicksToLabels.call(e)},_configure:function(){var e,t=this,n=t.getTicks(),i=t.min,r=t.max;cn.prototype._configure.call(t),t.options.offset&&n.length&&(i-=e=(r-i)/Math.max(n.length-1,1)/2,r+=e),t._startValue=i,t._endValue=r,t._valueRange=r-i}}),mn={position:"left",ticks:{callback:Qt.formatters.linear}};function bn(e,t,n,i){var r,a,o=e.options,s=function(e,t,n){var i=[n.type,void 0===t&&void 0===n.stack?n.index:"",n.stack].join(".");return void 0===e[i]&&(e[i]={pos:[],neg:[]}),e[i]}(t,o.stacked,n),l=s.pos,d=s.neg,u=i.length;for(r=0;r<u;++r)a=e._parseValue(i[r]),isNaN(a.min)||isNaN(a.max)||n.data[r].hidden||(l[r]=l[r]||0,d[r]=d[r]||0,o.relativePoints?l[r]=100:a.min<0||a.max<0?d[r]+=a.min:l[r]+=a.max)}function yn(e,t,n){var i,r,a=n.length;for(i=0;i<a;++i)r=e._parseValue(n[i]),isNaN(r.min)||isNaN(r.max)||t.data[i].hidden||(e.min=Math.min(e.min,r.min),e.max=Math.max(e.max,r.max))}var xn=pn.extend({determineDataLimits:function(){var e,t,n,i,r=this,a=r.options,o=r.chart.data.datasets,s=r._getMatchingVisibleMetas(),l=a.stacked,d={},u=s.length;if(r.min=Number.POSITIVE_INFINITY,r.max=Number.NEGATIVE_INFINITY,void 0===l)for(e=0;!l&&e<u;++e)l=void 0!==(t=s[e]).stack;for(e=0;e<u;++e)n=o[(t=s[e]).index].data,l?bn(r,d,t,n):yn(r,t,n);z.each(d,(function(e){i=e.pos.concat(e.neg),r.min=Math.min(r.min,z.min(i)),r.max=Math.max(r.max,z.max(i))})),r.min=z.isFinite(r.min)&&!isNaN(r.min)?r.min:0,r.max=z.isFinite(r.max)&&!isNaN(r.max)?r.max:1,r.handleTickRangeOptions()},_computeTickLimit:function(){var e;return this.isHorizontal()?Math.ceil(this.width/40):(e=z.options._parseFont(this.options.ticks),Math.ceil(this.height/e.lineHeight))},handleDirectionalChanges:function(){this.isHorizontal()||this.ticks.reverse()},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForValue:function(e){return this.getPixelForDecimal((+this.getRightValue(e)-this._startValue)/this._valueRange)},getValueForPixel:function(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange},getPixelForTick:function(e){var t=this.ticksAsNumbers;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])}}),Sn=mn;xn._defaults=Sn;var An=z.valueOrDefault,_n=z.math.log10,En={position:"left",ticks:{callback:Qt.formatters.logarithmic}};function wn(e,t){return z.isFinite(e)&&e>=0?e:t}var kn=cn.extend({determineDataLimits:function(){var e,t,n,i,r,a,o=this,s=o.options,l=o.chart,d=l.data.datasets,u=o.isHorizontal();function c(e){return u?e.xAxisID===o.id:e.yAxisID===o.id}o.min=Number.POSITIVE_INFINITY,o.max=Number.NEGATIVE_INFINITY,o.minNotZero=Number.POSITIVE_INFINITY;var h=s.stacked;if(void 0===h)for(e=0;e<d.length;e++)if(t=l.getDatasetMeta(e),l.isDatasetVisible(e)&&c(t)&&void 0!==t.stack){h=!0;break}if(s.stacked||h){var f={};for(e=0;e<d.length;e++){var g=[(t=l.getDatasetMeta(e)).type,void 0===s.stacked&&void 0===t.stack?e:"",t.stack].join(".");if(l.isDatasetVisible(e)&&c(t))for(void 0===f[g]&&(f[g]=[]),r=0,a=(i=d[e].data).length;r<a;r++){var v=f[g];n=o._parseValue(i[r]),isNaN(n.min)||isNaN(n.max)||t.data[r].hidden||n.min<0||n.max<0||(v[r]=v[r]||0,v[r]+=n.max)}}z.each(f,(function(e){if(e.length>0){var t=z.min(e),n=z.max(e);o.min=Math.min(o.min,t),o.max=Math.max(o.max,n)}}))}else for(e=0;e<d.length;e++)if(t=l.getDatasetMeta(e),l.isDatasetVisible(e)&&c(t))for(r=0,a=(i=d[e].data).length;r<a;r++)n=o._parseValue(i[r]),isNaN(n.min)||isNaN(n.max)||t.data[r].hidden||n.min<0||n.max<0||(o.min=Math.min(n.min,o.min),o.max=Math.max(n.max,o.max),0!==n.min&&(o.minNotZero=Math.min(n.min,o.minNotZero)));o.min=z.isFinite(o.min)?o.min:null,o.max=z.isFinite(o.max)?o.max:null,o.minNotZero=z.isFinite(o.minNotZero)?o.minNotZero:null,this.handleTickRangeOptions()},handleTickRangeOptions:function(){var e=this,t=e.options.ticks;e.min=wn(t.min,e.min),e.max=wn(t.max,e.max),e.min===e.max&&(0!==e.min&&null!==e.min?(e.min=Math.pow(10,Math.floor(_n(e.min))-1),e.max=Math.pow(10,Math.floor(_n(e.max))+1)):(e.min=1,e.max=10)),null===e.min&&(e.min=Math.pow(10,Math.floor(_n(e.max))-1)),null===e.max&&(e.max=0!==e.min?Math.pow(10,Math.floor(_n(e.min))+1):10),null===e.minNotZero&&(e.min>0?e.minNotZero=e.min:e.max<1?e.minNotZero=Math.pow(10,Math.floor(_n(e.max))):e.minNotZero=1)},buildTicks:function(){var e=this,t=e.options.ticks,n=!e.isHorizontal(),i={min:wn(t.min),max:wn(t.max)},r=e.ticks=function(e,t){var n,i,r=[],a=An(e.min,Math.pow(10,Math.floor(_n(t.min)))),o=Math.floor(_n(t.max)),s=Math.ceil(t.max/Math.pow(10,o));0===a?(n=Math.floor(_n(t.minNotZero)),i=Math.floor(t.minNotZero/Math.pow(10,n)),r.push(a),a=i*Math.pow(10,n)):(n=Math.floor(_n(a)),i=Math.floor(a/Math.pow(10,n)));var l=n<0?Math.pow(10,Math.abs(n)):1;do{r.push(a),10==++i&&(i=1,l=++n>=0?1:l),a=Math.round(i*Math.pow(10,n)*l)/l}while(n<o||n===o&&i<s);var d=An(e.max,a);return r.push(d),r}(i,e);e.max=z.max(r),e.min=z.min(r),t.reverse?(n=!n,e.start=e.max,e.end=e.min):(e.start=e.min,e.end=e.max),n&&r.reverse()},convertTicksToLabels:function(){this.tickValues=this.ticks.slice(),cn.prototype.convertTicksToLabels.call(this)},getLabelForIndex:function(e,t){return this._getScaleLabel(this.chart.data.datasets[t].data[e])},getPixelForTick:function(e){var t=this.tickValues;return e<0||e>t.length-1?null:this.getPixelForValue(t[e])},_getFirstTickValue:function(e){var t=Math.floor(_n(e));return Math.floor(e/Math.pow(10,t))*Math.pow(10,t)},_configure:function(){var e=this,t=e.min,n=0;cn.prototype._configure.call(e),0===t&&(t=e._getFirstTickValue(e.minNotZero),n=An(e.options.ticks.fontSize,L.global.defaultFontSize)/e._length),e._startValue=_n(t),e._valueOffset=n,e._valueRange=(_n(e.max)-_n(t))/(1-n)},getPixelForValue:function(e){var t=this,n=0;return(e=+t.getRightValue(e))>t.min&&e>0&&(n=(_n(e)-t._startValue)/t._valueRange+t._valueOffset),t.getPixelForDecimal(n)},getValueForPixel:function(e){var t=this,n=t.getDecimalForPixel(e);return 0===n&&0===t.min?0:Math.pow(10,t._startValue+(n-t._valueOffset)*t._valueRange)}}),Cn=En;kn._defaults=Cn;var Tn=z.valueOrDefault,Mn=z.valueAtIndexOrDefault,In=z.options.resolve,Pn={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,color:"rgba(0,0,0,0.1)",lineWidth:1,borderDash:[],borderDashOffset:0},gridLines:{circular:!1},ticks:{showLabelBackdrop:!0,backdropColor:"rgba(255,255,255,0.75)",backdropPaddingY:2,backdropPaddingX:2,callback:Qt.formatters.linear},pointLabels:{display:!0,fontSize:10,callback:function(e){return e}}};function Dn(e){var t=e.ticks;return t.display&&e.display?Tn(t.fontSize,L.global.defaultFontSize)+2*t.backdropPaddingY:0}function Rn(e,t,n,i,r){return e===i||e===r?{start:t-n/2,end:t+n/2}:e<i||e>r?{start:t-n,end:t}:{start:t,end:t+n}}function Fn(e){return 0===e||180===e?"center":e<180?"left":"right"}function On(e,t,n,i){var r,a,o=n.y+i/2;if(z.isArray(t))for(r=0,a=t.length;r<a;++r)e.fillText(t[r],n.x,o),o+=i;else e.fillText(t,n.x,o)}function Ln(e,t,n){90===e||270===e?n.y-=t.h/2:(e>270||e<90)&&(n.y-=t.h)}function Gn(e){return z.isNumber(e)?e:0}var Nn=pn.extend({setDimensions:function(){var e=this;e.width=e.maxWidth,e.height=e.maxHeight,e.paddingTop=Dn(e.options)/2,e.xCenter=Math.floor(e.width/2),e.yCenter=Math.floor((e.height-e.paddingTop)/2),e.drawingArea=Math.min(e.height-e.paddingTop,e.width)/2},determineDataLimits:function(){var e=this,t=e.chart,n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;z.each(t.data.datasets,(function(r,a){if(t.isDatasetVisible(a)){var o=t.getDatasetMeta(a);z.each(r.data,(function(t,r){var a=+e.getRightValue(t);isNaN(a)||o.data[r].hidden||(n=Math.min(a,n),i=Math.max(a,i))}))}})),e.min=n===Number.POSITIVE_INFINITY?0:n,e.max=i===Number.NEGATIVE_INFINITY?0:i,e.handleTickRangeOptions()},_computeTickLimit:function(){return Math.ceil(this.drawingArea/Dn(this.options))},convertTicksToLabels:function(){var e=this;pn.prototype.convertTicksToLabels.call(e),e.pointLabels=e.chart.data.labels.map((function(){var t=z.callback(e.options.pointLabels.callback,arguments,e);return t||0===t?t:""}))},getLabelForIndex:function(e,t){return+this.getRightValue(this.chart.data.datasets[t].data[e])},fit:function(){var e=this.options;e.display&&e.pointLabels.display?function(e){var t,n,i,r=z.options._parseFont(e.options.pointLabels),a={l:0,r:e.width,t:0,b:e.height-e.paddingTop},o={};e.ctx.font=r.string,e._pointLabelSizes=[];var s,l,d,u=e.chart.data.labels.length;for(t=0;t<u;t++){i=e.getPointPosition(t,e.drawingArea+5),s=e.ctx,l=r.lineHeight,d=e.pointLabels[t],n=z.isArray(d)?{w:z.longestText(s,s.font,d),h:d.length*l}:{w:s.measureText(d).width,h:l},e._pointLabelSizes[t]=n;var c=e.getIndexAngle(t),h=z.toDegrees(c)%360,f=Rn(h,i.x,n.w,0,180),g=Rn(h,i.y,n.h,90,270);f.start<a.l&&(a.l=f.start,o.l=c),f.end>a.r&&(a.r=f.end,o.r=c),g.start<a.t&&(a.t=g.start,o.t=c),g.end>a.b&&(a.b=g.end,o.b=c)}e.setReductions(e.drawingArea,a,o)}(this):this.setCenterPoint(0,0,0,0)},setReductions:function(e,t,n){var i=this,r=t.l/Math.sin(n.l),a=Math.max(t.r-i.width,0)/Math.sin(n.r),o=-t.t/Math.cos(n.t),s=-Math.max(t.b-(i.height-i.paddingTop),0)/Math.cos(n.b);r=Gn(r),a=Gn(a),o=Gn(o),s=Gn(s),i.drawingArea=Math.min(Math.floor(e-(r+a)/2),Math.floor(e-(o+s)/2)),i.setCenterPoint(r,a,o,s)},setCenterPoint:function(e,t,n,i){var r=this,a=r.width-t-r.drawingArea,o=e+r.drawingArea,s=n+r.drawingArea,l=r.height-r.paddingTop-i-r.drawingArea;r.xCenter=Math.floor((o+a)/2+r.left),r.yCenter=Math.floor((s+l)/2+r.top+r.paddingTop)},getIndexAngle:function(e){var t=this.chart,n=(e*(360/t.data.labels.length)+((t.options||{}).startAngle||0))%360;return(n<0?n+360:n)*Math.PI*2/360},getDistanceFromCenterForValue:function(e){var t=this;if(z.isNullOrUndef(e))return NaN;var n=t.drawingArea/(t.max-t.min);return t.options.ticks.reverse?(t.max-e)*n:(e-t.min)*n},getPointPosition:function(e,t){var n=this.getIndexAngle(e)-Math.PI/2;return{x:Math.cos(n)*t+this.xCenter,y:Math.sin(n)*t+this.yCenter}},getPointPositionForValue:function(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))},getBasePosition:function(e){var t=this.min,n=this.max;return this.getPointPositionForValue(e||0,this.beginAtZero?0:t<0&&n<0?n:t>0&&n>0?t:0)},_drawGrid:function(){var e,t,n,i=this,r=i.ctx,a=i.options,o=a.gridLines,s=a.angleLines,l=Tn(s.lineWidth,o.lineWidth),d=Tn(s.color,o.color);if(a.pointLabels.display&&function(e){var t=e.ctx,n=e.options,i=n.pointLabels,r=Dn(n),a=e.getDistanceFromCenterForValue(n.ticks.reverse?e.min:e.max),o=z.options._parseFont(i);t.save(),t.font=o.string,t.textBaseline="middle";for(var s=e.chart.data.labels.length-1;s>=0;s--){var l=0===s?r/2:0,d=e.getPointPosition(s,a+l+5),u=Mn(i.fontColor,s,L.global.defaultFontColor);t.fillStyle=u;var c=e.getIndexAngle(s),h=z.toDegrees(c);t.textAlign=Fn(h),Ln(h,e._pointLabelSizes[s],d),On(t,e.pointLabels[s],d,o.lineHeight)}t.restore()}(i),o.display&&z.each(i.ticks,(function(e,n){0!==n&&(t=i.getDistanceFromCenterForValue(i.ticksAsNumbers[n]),function(e,t,n,i){var r,a=e.ctx,o=t.circular,s=e.chart.data.labels.length,l=Mn(t.color,i-1),d=Mn(t.lineWidth,i-1);if((o||s)&&l&&d){if(a.save(),a.strokeStyle=l,a.lineWidth=d,a.setLineDash&&(a.setLineDash(t.borderDash||[]),a.lineDashOffset=t.borderDashOffset||0),a.beginPath(),o)a.arc(e.xCenter,e.yCenter,n,0,2*Math.PI);else{r=e.getPointPosition(0,n),a.moveTo(r.x,r.y);for(var u=1;u<s;u++)r=e.getPointPosition(u,n),a.lineTo(r.x,r.y)}a.closePath(),a.stroke(),a.restore()}}(i,o,t,n))})),s.display&&l&&d){for(r.save(),r.lineWidth=l,r.strokeStyle=d,r.setLineDash&&(r.setLineDash(In([s.borderDash,o.borderDash,[]])),r.lineDashOffset=In([s.borderDashOffset,o.borderDashOffset,0])),e=i.chart.data.labels.length-1;e>=0;e--)t=i.getDistanceFromCenterForValue(a.ticks.reverse?i.min:i.max),n=i.getPointPosition(e,t),r.beginPath(),r.moveTo(i.xCenter,i.yCenter),r.lineTo(n.x,n.y),r.stroke();r.restore()}},_drawLabels:function(){var e=this,t=e.ctx,n=e.options.ticks;if(n.display){var i,r,a=e.getIndexAngle(0),o=z.options._parseFont(n),s=Tn(n.fontColor,L.global.defaultFontColor);t.save(),t.font=o.string,t.translate(e.xCenter,e.yCenter),t.rotate(a),t.textAlign="center",t.textBaseline="middle",z.each(e.ticks,(function(a,l){(0!==l||n.reverse)&&(i=e.getDistanceFromCenterForValue(e.ticksAsNumbers[l]),n.showLabelBackdrop&&(r=t.measureText(a).width,t.fillStyle=n.backdropColor,t.fillRect(-r/2-n.backdropPaddingX,-i-o.size/2-n.backdropPaddingY,r+2*n.backdropPaddingX,o.size+2*n.backdropPaddingY)),t.fillStyle=s,t.fillText(a,0,-i))})),t.restore()}},_drawTitle:z.noop}),Vn=Pn;Nn._defaults=Vn;var Bn=z._deprecated,zn=z.options.resolve,Hn=z.valueOrDefault,Wn=Number.MIN_SAFE_INTEGER||-9007199254740991,Un=Number.MAX_SAFE_INTEGER||9007199254740991,Kn={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qn=Object.keys(Kn);function jn(e,t){return e-t}function Jn(e){return z.valueOrDefault(e.time.min,e.ticks.min)}function Yn(e){return z.valueOrDefault(e.time.max,e.ticks.max)}function Xn(e,t,n,i){var r=function(e,t,n){for(var i,r,a,o=0,s=e.length-1;o>=0&&o<=s;){if(r=e[(i=o+s>>1)-1]||null,a=e[i],!r)return{lo:null,hi:a};if(a[t]<n)o=i+1;else{if(!(r[t]>n))return{lo:r,hi:a};s=i-1}}return{lo:a,hi:null}}(e,t,n),a=r.lo?r.hi?r.lo:e[e.length-2]:e[0],o=r.lo?r.hi?r.hi:e[e.length-1]:e[1],s=o[t]-a[t],l=s?(n-a[t])/s:0,d=(o[i]-a[i])*l;return a[i]+d}function Qn(e,t){var n=e._adapter,i=e.options.time,r=i.parser,a=r||i.format,o=t;return"function"==typeof r&&(o=r(o)),z.isFinite(o)||(o="string"==typeof a?n.parse(o,a):n.parse(o)),null!==o?+o:(r||"function"!=typeof a||(o=a(t),z.isFinite(o)||(o=n.parse(o))),o)}function $n(e,t){if(z.isNullOrUndef(t))return null;var n=e.options.time,i=Qn(e,e.getRightValue(t));return null===i||n.round&&(i=+e._adapter.startOf(i,n.round)),i}function Zn(e,t,n,i){var r,a,o,s=qn.length;for(r=qn.indexOf(e);r<s-1;++r)if(o=(a=Kn[qn[r]]).steps?a.steps:Un,a.common&&Math.ceil((n-t)/(o*a.size))<=i)return qn[r];return qn[s-1]}function ei(e,t,n){var i,r,a=[],o={},s=t.length;for(i=0;i<s;++i)o[r=t[i]]=i,a.push({value:r,major:!1});return 0!==s&&n?function(e,t,n,i){var r,a,o=e._adapter,s=+o.startOf(t[0].value,i),l=t[t.length-1].value;for(r=s;r<=l;r=+o.add(r,1,i))(a=n[r])>=0&&(t[a].major=!0);return t}(e,a,o,n):a}var ti=cn.extend({initialize:function(){this.mergeTicksOptions(),cn.prototype.initialize.call(this)},update:function(){var e=this,t=e.options,n=t.time||(t.time={}),i=e._adapter=new Xt._date(t.adapters.date);return Bn("time scale",n.format,"time.format","time.parser"),Bn("time scale",n.min,"time.min","ticks.min"),Bn("time scale",n.max,"time.max","ticks.max"),z.mergeIf(n.displayFormats,i.formats()),cn.prototype.update.apply(e,arguments)},getRightValue:function(e){return e&&void 0!==e.t&&(e=e.t),cn.prototype.getRightValue.call(this,e)},determineDataLimits:function(){var e,t,n,i,r,a,o,s=this,l=s.chart,d=s._adapter,u=s.options,c=u.time.unit||"day",h=Un,f=Wn,g=[],v=[],p=[],m=s._getLabels();for(e=0,n=m.length;e<n;++e)p.push($n(s,m[e]));for(e=0,n=(l.data.datasets||[]).length;e<n;++e)if(l.isDatasetVisible(e))if(r=l.data.datasets[e].data,z.isObject(r[0]))for(v[e]=[],t=0,i=r.length;t<i;++t)a=$n(s,r[t]),g.push(a),v[e][t]=a;else v[e]=p.slice(0),o||(g=g.concat(p),o=!0);else v[e]=[];p.length&&(h=Math.min(h,p[0]),f=Math.max(f,p[p.length-1])),g.length&&(g=n>1?function(e){var t,n,i,r={},a=[];for(t=0,n=e.length;t<n;++t)r[i=e[t]]||(r[i]=!0,a.push(i));return a}(g).sort(jn):g.sort(jn),h=Math.min(h,g[0]),f=Math.max(f,g[g.length-1])),h=$n(s,Jn(u))||h,f=$n(s,Yn(u))||f,h=h===Un?+d.startOf(Date.now(),c):h,f=f===Wn?+d.endOf(Date.now(),c)+1:f,s.min=Math.min(h,f),s.max=Math.max(h+1,f),s._table=[],s._timestamps={data:g,datasets:v,labels:p}},buildTicks:function(){var e,t,n,i=this,r=i.min,a=i.max,o=i.options,s=o.ticks,l=o.time,d=i._timestamps,u=[],c=i.getLabelCapacity(r),h=s.source,f=o.distribution;for(d="data"===h||"auto"===h&&"series"===f?d.data:"labels"===h?d.labels:function(e,t,n,i){var r,a=e._adapter,o=e.options,s=o.time,l=s.unit||Zn(s.minUnit,t,n,i),d=zn([s.stepSize,s.unitStepSize,1]),u="week"===l&&s.isoWeekday,c=t,h=[];if(u&&(c=+a.startOf(c,"isoWeek",u)),c=+a.startOf(c,u?"day":l),a.diff(n,t,l)>1e5*d)throw t+" and "+n+" are too far apart with stepSize of "+d+" "+l;for(r=c;r<n;r=+a.add(r,d,l))h.push(r);return r!==n&&"ticks"!==o.bounds||h.push(r),h}(i,r,a,c),"ticks"===o.bounds&&d.length&&(r=d[0],a=d[d.length-1]),r=$n(i,Jn(o))||r,a=$n(i,Yn(o))||a,e=0,t=d.length;e<t;++e)(n=d[e])>=r&&n<=a&&u.push(n);return i.min=r,i.max=a,i._unit=l.unit||(s.autoSkip?Zn(l.minUnit,i.min,i.max,c):function(e,t,n,i,r){var a,o;for(a=qn.length-1;a>=qn.indexOf(n);a--)if(o=qn[a],Kn[o].common&&e._adapter.diff(r,i,o)>=t-1)return o;return qn[n?qn.indexOf(n):0]}(i,u.length,l.minUnit,i.min,i.max)),i._majorUnit=s.major.enabled&&"year"!==i._unit?function(e){for(var t=qn.indexOf(e)+1,n=qn.length;t<n;++t)if(Kn[qn[t]].common)return qn[t]}(i._unit):void 0,i._table=function(e,t,n,i){if("linear"===i||!e.length)return[{time:t,pos:0},{time:n,pos:1}];var r,a,o,s,l,d=[],u=[t];for(r=0,a=e.length;r<a;++r)(s=e[r])>t&&s<n&&u.push(s);for(u.push(n),r=0,a=u.length;r<a;++r)l=u[r+1],o=u[r-1],s=u[r],void 0!==o&&void 0!==l&&Math.round((l+o)/2)===s||d.push({time:s,pos:r/(a-1)});return d}(i._timestamps.data,r,a,f),i._offsets=function(e,t,n,i,r){var a,o,s=0,l=0;return r.offset&&t.length&&(a=Xn(e,"time",t[0],"pos"),s=1===t.length?1-a:(Xn(e,"time",t[1],"pos")-a)/2,o=Xn(e,"time",t[t.length-1],"pos"),l=1===t.length?o:(o-Xn(e,"time",t[t.length-2],"pos"))/2),{start:s,end:l,factor:1/(s+1+l)}}(i._table,u,0,0,o),s.reverse&&u.reverse(),ei(i,u,i._majorUnit)},getLabelForIndex:function(e,t){var n=this,i=n._adapter,r=n.chart.data,a=n.options.time,o=r.labels&&e<r.labels.length?r.labels[e]:"",s=r.datasets[t].data[e];return z.isObject(s)&&(o=n.getRightValue(s)),a.tooltipFormat?i.format(Qn(n,o),a.tooltipFormat):"string"==typeof o?o:i.format(Qn(n,o),a.displayFormats.datetime)},tickFormatFunction:function(e,t,n,i){var r=this._adapter,a=this.options,o=a.time.displayFormats,s=o[this._unit],l=this._majorUnit,d=o[l],u=n[t],c=a.ticks,h=l&&d&&u&&u.major,f=r.format(e,i||(h?d:s)),g=h?c.major:c.minor,v=zn([g.callback,g.userCallback,c.callback,c.userCallback]);return v?v(f,t,n):f},convertTicksToLabels:function(e){var t,n,i=[];for(t=0,n=e.length;t<n;++t)i.push(this.tickFormatFunction(e[t].value,t,e));return i},getPixelForOffset:function(e){var t=this._offsets,n=Xn(this._table,"time",e,"pos");return this.getPixelForDecimal((t.start+n)*t.factor)},getPixelForValue:function(e,t,n){var i=null;if(void 0!==t&&void 0!==n&&(i=this._timestamps.datasets[n][t]),null===i&&(i=$n(this,e)),null!==i)return this.getPixelForOffset(i)},getPixelForTick:function(e){var t=this.getTicks();return e>=0&&e<t.length?this.getPixelForOffset(t[e].value):null},getValueForPixel:function(e){var t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end,i=Xn(this._table,"pos",n,"time");return this._adapter._create(i)},_getLabelSize:function(e){var t=this.options.ticks,n=this.ctx.measureText(e).width,i=z.toRadians(this.isHorizontal()?t.maxRotation:t.minRotation),r=Math.cos(i),a=Math.sin(i),o=Hn(t.fontSize,L.global.defaultFontSize);return{w:n*r+o*a,h:n*a+o*r}},getLabelWidth:function(e){return this._getLabelSize(e).w},getLabelCapacity:function(e){var t=this,n=t.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,a=t.tickFormatFunction(e,0,ei(t,[e],t._majorUnit),r),o=t._getLabelSize(a),s=Math.floor(t.isHorizontal()?t.width/o.w:t.height/o.h);return t.options.offset&&s--,s>0?s:1}});ti._defaults={position:"bottom",distribution:"linear",bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,displayFormat:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{autoSkip:!1,source:"auto",major:{enabled:!1}}};var ni={category:fn,linear:xn,logarithmic:kn,radialLinear:Nn,time:ti},ii={datetime:"MMM D, YYYY, h:mm:ss a",millisecond:"h:mm:ss.SSS a",second:"h:mm:ss a",minute:"h:mm a",hour:"hA",day:"MMM D",week:"ll",month:"MMM YYYY",quarter:"[Q]Q - YYYY",year:"YYYY"};Xt._date.override("function"==typeof e?{_id:"moment",formats:function(){return ii},parse:function(t,n){return"string"==typeof t&&"string"==typeof n?t=e(t,n):t instanceof e||(t=e(t)),t.isValid()?t.valueOf():null},format:function(t,n){return e(t).format(n)},add:function(t,n,i){return e(t).add(n,i).valueOf()},diff:function(t,n,i){return e(t).diff(e(n),i)},startOf:function(t,n,i){return t=e(t),"isoWeek"===n?t.isoWeekday(i).valueOf():t.startOf(n).valueOf()},endOf:function(t,n){return e(t).endOf(n).valueOf()},_create:function(t){return e(t)}}:{}),L._set("global",{plugins:{filler:{propagate:!0}}});var ri={dataset:function(e){var t=e.fill,n=e.chart,i=n.getDatasetMeta(t),r=i&&n.isDatasetVisible(t)&&i.dataset._children||[],a=r.length||0;return a?function(e,t){return t<a&&r[t]._view||null}:null},boundary:function(e){var t=e.boundary,n=t?t.x:null,i=t?t.y:null;return z.isArray(t)?function(e,n){return t[n]}:function(e){return{x:null===n?e.x:n,y:null===i?e.y:i}}}};function ai(e,t,n){var i,r=e._model||{},a=r.fill;if(void 0===a&&(a=!!r.backgroundColor),!1===a||null===a)return!1;if(!0===a)return"origin";if(i=parseFloat(a,10),isFinite(i)&&Math.floor(i)===i)return"-"!==a[0]&&"+"!==a[0]||(i=t+i),!(i===t||i<0||i>=n)&&i;switch(a){case"bottom":return"start";case"top":return"end";case"zero":return"origin";case"origin":case"start":case"end":return a;default:return!1}}function oi(e){return(e.el._scale||{}).getPointPositionForValue?function(e){var t,n,i,r,a,o=e.el._scale,s=o.options,l=o.chart.data.labels.length,d=e.fill,u=[];if(!l)return null;for(t=s.ticks.reverse?o.max:o.min,n=s.ticks.reverse?o.min:o.max,i=o.getPointPositionForValue(0,t),r=0;r<l;++r)a="start"===d||"end"===d?o.getPointPositionForValue(r,"start"===d?t:n):o.getBasePosition(r),s.gridLines.circular&&(a.cx=i.x,a.cy=i.y,a.angle=o.getIndexAngle(r)-Math.PI/2),u.push(a);return u}(e):function(e){var t,n=e.el._model||{},i=e.el._scale||{},r=e.fill,a=null;if(isFinite(r))return null;if("start"===r?a=void 0===n.scaleBottom?i.bottom:n.scaleBottom:"end"===r?a=void 0===n.scaleTop?i.top:n.scaleTop:void 0!==n.scaleZero?a=n.scaleZero:i.getBasePixel&&(a=i.getBasePixel()),null!=a){if(void 0!==a.x&&void 0!==a.y)return a;if(z.isFinite(a))return{x:(t=i.isHorizontal())?a:null,y:t?null:a}}return null}(e)}function si(e,t,n){var i,r=e[t].fill,a=[t];if(!n)return r;for(;!1!==r&&-1===a.indexOf(r);){if(!isFinite(r))return r;if(!(i=e[r]))return!1;if(i.visible)return r;a.push(r),r=i.fill}return!1}function li(e){var t=e.fill,n="dataset";return!1===t?null:(isFinite(t)||(n="boundary"),ri[n](e))}function di(e){return e&&!e.skip}function ui(e,t,n,i,r){var a,o,s,l;if(i&&r){for(e.moveTo(t[0].x,t[0].y),a=1;a<i;++a)z.canvas.lineTo(e,t[a-1],t[a]);if(void 0===n[0].angle)for(e.lineTo(n[r-1].x,n[r-1].y),a=r-1;a>0;--a)z.canvas.lineTo(e,n[a],n[a-1],!0);else for(o=n[0].cx,s=n[0].cy,l=Math.sqrt(Math.pow(n[0].x-o,2)+Math.pow(n[0].y-s,2)),a=r-1;a>0;--a)e.arc(o,s,l,n[a].angle,n[a-1].angle,!0)}}function ci(e,t,n,i,r,a){var o,s,l,d,u,c,h,f,g=t.length,v=i.spanGaps,p=[],m=[],b=0,y=0;for(e.beginPath(),o=0,s=g;o<s;++o)u=n(d=t[l=o%g]._view,l,i),c=di(d),h=di(u),a&&void 0===f&&c&&(s=g+(f=o+1)),c&&h?(b=p.push(d),y=m.push(u)):b&&y&&(v?(c&&p.push(d),h&&m.push(u)):(ui(e,p,m,b,y),b=y=0,p=[],m=[]));ui(e,p,m,b,y),e.closePath(),e.fillStyle=r,e.fill()}var hi={id:"filler",afterDatasetsUpdate:function(e,t){var n,i,r,a,o=(e.data.datasets||[]).length,s=t.propagate,l=[];for(i=0;i<o;++i)a=null,(r=(n=e.getDatasetMeta(i)).dataset)&&r._model&&r instanceof be.Line&&(a={visible:e.isDatasetVisible(i),fill:ai(r,i,o),chart:e,el:r}),n.$filler=a,l.push(a);for(i=0;i<o;++i)(a=l[i])&&(a.fill=si(l,i,s),a.boundary=oi(a),a.mapper=li(a))},beforeDatasetsDraw:function(e){var t,n,i,r,a,o,s,l=e._getSortedVisibleDatasetMetas(),d=e.ctx;for(n=l.length-1;n>=0;--n)(t=l[n].$filler)&&t.visible&&(r=(i=t.el)._view,a=i._children||[],o=t.mapper,s=r.backgroundColor||L.global.defaultColor,o&&s&&a.length&&(z.canvas.clipArea(d,e.chartArea),ci(d,a,o,r,s,i._loop),z.canvas.unclipArea(d)))}},fi=z.rtl.getRtlAdapter,gi=z.noop,vi=z.valueOrDefault;function pi(e,t){return e.usePointStyle&&e.boxWidth>t?t:e.boxWidth}L._set("global",{legend:{display:!0,position:"top",align:"center",fullWidth:!0,reverse:!1,weight:1e3,onClick:function(e,t){var n=t.datasetIndex,i=this.chart,r=i.getDatasetMeta(n);r.hidden=null===r.hidden?!i.data.datasets[n].hidden:null,i.update()},onHover:null,onLeave:null,labels:{boxWidth:40,padding:10,generateLabels:function(e){var t=e.data.datasets,n=e.options.legend||{},i=n.labels&&n.labels.usePointStyle;return e._getSortedDatasetMetas().map((function(n){var r=n.controller.getStyle(i?0:void 0);return{text:t[n.index].label,fillStyle:r.backgroundColor,hidden:!e.isDatasetVisible(n.index),lineCap:r.borderCapStyle,lineDash:r.borderDash,lineDashOffset:r.borderDashOffset,lineJoin:r.borderJoinStyle,lineWidth:r.borderWidth,strokeStyle:r.borderColor,pointStyle:r.pointStyle,rotation:r.rotation,datasetIndex:n.index}}),this)}}},legendCallback:function(e){var t,n,i,r=document.createElement("ul"),a=e.data.datasets;for(r.setAttribute("class",e.id+"-legend"),t=0,n=a.length;t<n;t++)(i=r.appendChild(document.createElement("li"))).appendChild(document.createElement("span")).style.backgroundColor=a[t].backgroundColor,a[t].label&&i.appendChild(document.createTextNode(a[t].label));return r.outerHTML}});var mi=j.extend({initialize:function(e){z.extend(this,e),this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1},beforeUpdate:gi,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:gi,beforeSetDimensions:gi,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:gi,beforeBuildLabels:gi,buildLabels:function(){var e=this,t=e.options.labels||{},n=z.callback(t.generateLabels,[e.chart],e)||[];t.filter&&(n=n.filter((function(n){return t.filter(n,e.chart.data)}))),e.options.reverse&&n.reverse(),e.legendItems=n},afterBuildLabels:gi,beforeFit:gi,fit:function(){var e=this,t=e.options,n=t.labels,i=t.display,r=e.ctx,a=z.options._parseFont(n),o=a.size,s=e.legendHitBoxes=[],l=e.minSize,d=e.isHorizontal();if(d?(l.width=e.maxWidth,l.height=i?10:0):(l.width=i?10:0,l.height=e.maxHeight),i){if(r.font=a.string,d){var u=e.lineWidths=[0],c=0;r.textAlign="left",r.textBaseline="middle",z.each(e.legendItems,(function(e,t){var i=pi(n,o)+o/2+r.measureText(e.text).width;(0===t||u[u.length-1]+i+2*n.padding>l.width)&&(c+=o+n.padding,u[u.length-(t>0?0:1)]=0),s[t]={left:0,top:0,width:i,height:o},u[u.length-1]+=i+n.padding})),l.height+=c}else{var h=n.padding,f=e.columnWidths=[],g=e.columnHeights=[],v=n.padding,p=0,m=0;z.each(e.legendItems,(function(e,t){var i=pi(n,o)+o/2+r.measureText(e.text).width;t>0&&m+o+2*h>l.height&&(v+=p+n.padding,f.push(p),g.push(m),p=0,m=0),p=Math.max(p,i),m+=o+h,s[t]={left:0,top:0,width:i,height:o}})),v+=p,f.push(p),g.push(m),l.width+=v}e.width=l.width,e.height=l.height}else e.width=l.width=e.height=l.height=0},afterFit:gi,isHorizontal:function(){return"top"===this.options.position||"bottom"===this.options.position},draw:function(){var e=this,t=e.options,n=t.labels,i=L.global,r=i.defaultColor,a=i.elements.line,o=e.height,s=e.columnHeights,l=e.width,d=e.lineWidths;if(t.display){var u,c=fi(t.rtl,e.left,e.minSize.width),h=e.ctx,f=vi(n.fontColor,i.defaultFontColor),g=z.options._parseFont(n),v=g.size;h.textAlign=c.textAlign("left"),h.textBaseline="middle",h.lineWidth=.5,h.strokeStyle=f,h.fillStyle=f,h.font=g.string;var p=pi(n,v),m=e.legendHitBoxes,b=function(e,i){switch(t.align){case"start":return n.padding;case"end":return e-i;default:return(e-i+n.padding)/2}},y=e.isHorizontal();u=y?{x:e.left+b(l,d[0]),y:e.top+n.padding,line:0}:{x:e.left+n.padding,y:e.top+b(o,s[0]),line:0},z.rtl.overrideTextDirection(e.ctx,t.textDirection);var x=v+n.padding;z.each(e.legendItems,(function(t,i){var f=h.measureText(t.text).width,g=p+v/2+f,S=u.x,A=u.y;c.setWidth(e.minSize.width),y?i>0&&S+g+n.padding>e.left+e.minSize.width&&(A=u.y+=x,u.line++,S=u.x=e.left+b(l,d[u.line])):i>0&&A+x>e.top+e.minSize.height&&(S=u.x=S+e.columnWidths[u.line]+n.padding,u.line++,A=u.y=e.top+b(o,s[u.line]));var _=c.x(S);!function(e,t,i){if(!(isNaN(p)||p<=0)){h.save();var o=vi(i.lineWidth,a.borderWidth);if(h.fillStyle=vi(i.fillStyle,r),h.lineCap=vi(i.lineCap,a.borderCapStyle),h.lineDashOffset=vi(i.lineDashOffset,a.borderDashOffset),h.lineJoin=vi(i.lineJoin,a.borderJoinStyle),h.lineWidth=o,h.strokeStyle=vi(i.strokeStyle,r),h.setLineDash&&h.setLineDash(vi(i.lineDash,a.borderDash)),n&&n.usePointStyle){var s=p*Math.SQRT2/2,l=c.xPlus(e,p/2),d=t+v/2;z.canvas.drawPoint(h,i.pointStyle,s,l,d,i.rotation)}else h.fillRect(c.leftForLtr(e,p),t,p,v),0!==o&&h.strokeRect(c.leftForLtr(e,p),t,p,v);h.restore()}}(_,A,t),m[i].left=c.leftForLtr(_,m[i].width),m[i].top=A,function(e,t,n,i){var r=v/2,a=c.xPlus(e,p+r),o=t+r;h.fillText(n.text,a,o),n.hidden&&(h.beginPath(),h.lineWidth=2,h.moveTo(a,o),h.lineTo(c.xPlus(a,i),o),h.stroke())}(_,A,t,f),y?u.x+=g+n.padding:u.y+=x})),z.rtl.restoreTextDirection(e.ctx,t.textDirection)}},_getLegendItemAt:function(e,t){var n,i,r,a=this;if(e>=a.left&&e<=a.right&&t>=a.top&&t<=a.bottom)for(r=a.legendHitBoxes,n=0;n<r.length;++n)if(e>=(i=r[n]).left&&e<=i.left+i.width&&t>=i.top&&t<=i.top+i.height)return a.legendItems[n];return null},handleEvent:function(e){var t,n=this,i=n.options,r="mouseup"===e.type?"click":e.type;if("mousemove"===r){if(!i.onHover&&!i.onLeave)return}else{if("click"!==r)return;if(!i.onClick)return}t=n._getLegendItemAt(e.x,e.y),"click"===r?t&&i.onClick&&i.onClick.call(n,e.native,t):(i.onLeave&&t!==n._hoveredItem&&(n._hoveredItem&&i.onLeave.call(n,e.native,n._hoveredItem),n._hoveredItem=t),i.onHover&&t&&i.onHover.call(n,e.native,t))}});function bi(e,t){var n=new mi({ctx:e.ctx,options:t,chart:e});ut.configure(e,n,t),ut.addBox(e,n),e.legend=n}var yi={id:"legend",_element:mi,beforeInit:function(e){var t=e.options.legend;t&&bi(e,t)},beforeUpdate:function(e){var t=e.options.legend,n=e.legend;t?(z.mergeIf(t,L.global.legend),n?(ut.configure(e,n,t),n.options=t):bi(e,t)):n&&(ut.removeBox(e,n),delete e.legend)},afterEvent:function(e,t){var n=e.legend;n&&n.handleEvent(t)}},xi=z.noop;L._set("global",{title:{display:!1,fontStyle:"bold",fullWidth:!0,padding:10,position:"top",text:"",weight:2e3}});var Si=j.extend({initialize:function(e){z.extend(this,e),this.legendHitBoxes=[]},beforeUpdate:xi,update:function(e,t,n){var i=this;return i.beforeUpdate(),i.maxWidth=e,i.maxHeight=t,i.margins=n,i.beforeSetDimensions(),i.setDimensions(),i.afterSetDimensions(),i.beforeBuildLabels(),i.buildLabels(),i.afterBuildLabels(),i.beforeFit(),i.fit(),i.afterFit(),i.afterUpdate(),i.minSize},afterUpdate:xi,beforeSetDimensions:xi,setDimensions:function(){var e=this;e.isHorizontal()?(e.width=e.maxWidth,e.left=0,e.right=e.width):(e.height=e.maxHeight,e.top=0,e.bottom=e.height),e.paddingLeft=0,e.paddingTop=0,e.paddingRight=0,e.paddingBottom=0,e.minSize={width:0,height:0}},afterSetDimensions:xi,beforeBuildLabels:xi,buildLabels:xi,afterBuildLabels:xi,beforeFit:xi,fit:function(){var e,t=this,n=t.options,i=t.minSize={},r=t.isHorizontal();n.display?(e=(z.isArray(n.text)?n.text.length:1)*z.options._parseFont(n).lineHeight+2*n.padding,t.width=i.width=r?t.maxWidth:e,t.height=i.height=r?e:t.maxHeight):t.width=i.width=t.height=i.height=0},afterFit:xi,isHorizontal:function(){var e=this.options.position;return"top"===e||"bottom"===e},draw:function(){var e=this,t=e.ctx,n=e.options;if(n.display){var i,r,a,o=z.options._parseFont(n),s=o.lineHeight,l=s/2+n.padding,d=0,u=e.top,c=e.left,h=e.bottom,f=e.right;t.fillStyle=z.valueOrDefault(n.fontColor,L.global.defaultFontColor),t.font=o.string,e.isHorizontal()?(r=c+(f-c)/2,a=u+l,i=f-c):(r="left"===n.position?c+l:f-l,a=u+(h-u)/2,i=h-u,d=Math.PI*("left"===n.position?-.5:.5)),t.save(),t.translate(r,a),t.rotate(d),t.textAlign="center",t.textBaseline="middle";var g=n.text;if(z.isArray(g))for(var v=0,p=0;p<g.length;++p)t.fillText(g[p],0,v,i),v+=s;else t.fillText(g,0,0,i);t.restore()}}});function Ai(e,t){var n=new Si({ctx:e.ctx,options:t,chart:e});ut.configure(e,n,t),ut.addBox(e,n),e.titleBlock=n}var _i={},Ei=hi,wi=yi,ki={id:"title",_element:Si,beforeInit:function(e){var t=e.options.title;t&&Ai(e,t)},beforeUpdate:function(e){var t=e.options.title,n=e.titleBlock;t?(z.mergeIf(t,L.global.title),n?(ut.configure(e,n,t),n.options=t):Ai(e,t)):n&&(ut.removeBox(e,n),delete e.titleBlock)}};for(var Ci in _i.filler=Ei,_i.legend=wi,_i.title=ki,jt.helpers=z,function(){function e(e,t,n){var i;return"string"==typeof e?(i=parseInt(e,10),-1!==e.indexOf("%")&&(i=i/100*t.parentNode[n])):i=e,i}function t(e){return null!=e&&"none"!==e}function n(n,i,r){var a=document.defaultView,o=z._getParentNode(n),s=a.getComputedStyle(n)[i],l=a.getComputedStyle(o)[i],d=t(s),u=t(l),c=Number.POSITIVE_INFINITY;return d||u?Math.min(d?e(s,n,r):c,u?e(l,o,r):c):"none"}z.where=function(e,t){if(z.isArray(e)&&Array.prototype.filter)return e.filter(t);var n=[];return z.each(e,(function(e){t(e)&&n.push(e)})),n},z.findIndex=Array.prototype.findIndex?function(e,t,n){return e.findIndex(t,n)}:function(e,t,n){n=void 0===n?e:n;for(var i=0,r=e.length;i<r;++i)if(t.call(n,e[i],i,e))return i;return-1},z.findNextWhere=function(e,t,n){z.isNullOrUndef(n)&&(n=-1);for(var i=n+1;i<e.length;i++){var r=e[i];if(t(r))return r}},z.findPreviousWhere=function(e,t,n){z.isNullOrUndef(n)&&(n=e.length);for(var i=n-1;i>=0;i--){var r=e[i];if(t(r))return r}},z.isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},z.almostEquals=function(e,t,n){return Math.abs(e-t)<n},z.almostWhole=function(e,t){var n=Math.round(e);return n-t<=e&&n+t>=e},z.max=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.max(e,t)}),Number.NEGATIVE_INFINITY)},z.min=function(e){return e.reduce((function(e,t){return isNaN(t)?e:Math.min(e,t)}),Number.POSITIVE_INFINITY)},z.sign=Math.sign?function(e){return Math.sign(e)}:function(e){return 0==(e=+e)||isNaN(e)?e:e>0?1:-1},z.toRadians=function(e){return e*(Math.PI/180)},z.toDegrees=function(e){return e*(180/Math.PI)},z._decimalPlaces=function(e){if(z.isFinite(e)){for(var t=1,n=0;Math.round(e*t)/t!==e;)t*=10,n++;return n}},z.getAngleFromPoint=function(e,t){var n=t.x-e.x,i=t.y-e.y,r=Math.sqrt(n*n+i*i),a=Math.atan2(i,n);return a<-.5*Math.PI&&(a+=2*Math.PI),{angle:a,distance:r}},z.distanceBetweenPoints=function(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},z.aliasPixel=function(e){return e%2==0?0:.5},z._alignPixel=function(e,t,n){var i=e.currentDevicePixelRatio,r=n/2;return Math.round((t-r)*i)/i+r},z.splineCurve=function(e,t,n,i){var r=e.skip?t:e,a=t,o=n.skip?t:n,s=Math.sqrt(Math.pow(a.x-r.x,2)+Math.pow(a.y-r.y,2)),l=Math.sqrt(Math.pow(o.x-a.x,2)+Math.pow(o.y-a.y,2)),d=s/(s+l),u=l/(s+l),c=i*(d=isNaN(d)?0:d),h=i*(u=isNaN(u)?0:u);return{previous:{x:a.x-c*(o.x-r.x),y:a.y-c*(o.y-r.y)},next:{x:a.x+h*(o.x-r.x),y:a.y+h*(o.y-r.y)}}},z.EPSILON=Number.EPSILON||1e-14,z.splineCurveMonotone=function(e){var t,n,i,r,a,o,s,l,d,u=(e||[]).map((function(e){return{model:e._model,deltaK:0,mK:0}})),c=u.length;for(t=0;t<c;++t)if(!(i=u[t]).model.skip){if(n=t>0?u[t-1]:null,(r=t<c-1?u[t+1]:null)&&!r.model.skip){var h=r.model.x-i.model.x;i.deltaK=0!==h?(r.model.y-i.model.y)/h:0}!n||n.model.skip?i.mK=i.deltaK:!r||r.model.skip?i.mK=n.deltaK:this.sign(n.deltaK)!==this.sign(i.deltaK)?i.mK=0:i.mK=(n.deltaK+i.deltaK)/2}for(t=0;t<c-1;++t)i=u[t],r=u[t+1],i.model.skip||r.model.skip||(z.almostEquals(i.deltaK,0,this.EPSILON)?i.mK=r.mK=0:(a=i.mK/i.deltaK,o=r.mK/i.deltaK,(l=Math.pow(a,2)+Math.pow(o,2))<=9||(s=3/Math.sqrt(l),i.mK=a*s*i.deltaK,r.mK=o*s*i.deltaK)));for(t=0;t<c;++t)(i=u[t]).model.skip||(n=t>0?u[t-1]:null,r=t<c-1?u[t+1]:null,n&&!n.model.skip&&(d=(i.model.x-n.model.x)/3,i.model.controlPointPreviousX=i.model.x-d,i.model.controlPointPreviousY=i.model.y-d*i.mK),r&&!r.model.skip&&(d=(r.model.x-i.model.x)/3,i.model.controlPointNextX=i.model.x+d,i.model.controlPointNextY=i.model.y+d*i.mK))},z.nextItem=function(e,t,n){return n?t>=e.length-1?e[0]:e[t+1]:t>=e.length-1?e[e.length-1]:e[t+1]},z.previousItem=function(e,t,n){return n?t<=0?e[e.length-1]:e[t-1]:t<=0?e[0]:e[t-1]},z.niceNum=function(e,t){var n=Math.floor(z.log10(e)),i=e/Math.pow(10,n);return(t?i<1.5?1:i<3?2:i<7?5:10:i<=1?1:i<=2?2:i<=5?5:10)*Math.pow(10,n)},z.requestAnimFrame="undefined"==typeof window?function(e){e()}:window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return window.setTimeout(e,1e3/60)},z.getRelativePosition=function(e,t){var n,i,r=e.originalEvent||e,a=e.target||e.srcElement,o=a.getBoundingClientRect(),s=r.touches;s&&s.length>0?(n=s[0].clientX,i=s[0].clientY):(n=r.clientX,i=r.clientY);var l=parseFloat(z.getStyle(a,"padding-left")),d=parseFloat(z.getStyle(a,"padding-top")),u=parseFloat(z.getStyle(a,"padding-right")),c=parseFloat(z.getStyle(a,"padding-bottom")),h=o.right-o.left-l-u,f=o.bottom-o.top-d-c;return{x:n=Math.round((n-o.left-l)/h*a.width/t.currentDevicePixelRatio),y:i=Math.round((i-o.top-d)/f*a.height/t.currentDevicePixelRatio)}},z.getConstraintWidth=function(e){return n(e,"max-width","clientWidth")},z.getConstraintHeight=function(e){return n(e,"max-height","clientHeight")},z._calculatePadding=function(e,t,n){return(t=z.getStyle(e,t)).indexOf("%")>-1?n*parseInt(t,10)/100:parseInt(t,10)},z._getParentNode=function(e){var t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t},z.getMaximumWidth=function(e){var t=z._getParentNode(e);if(!t)return e.clientWidth;var n=t.clientWidth,i=n-z._calculatePadding(t,"padding-left",n)-z._calculatePadding(t,"padding-right",n),r=z.getConstraintWidth(e);return isNaN(r)?i:Math.min(i,r)},z.getMaximumHeight=function(e){var t=z._getParentNode(e);if(!t)return e.clientHeight;var n=t.clientHeight,i=n-z._calculatePadding(t,"padding-top",n)-z._calculatePadding(t,"padding-bottom",n),r=z.getConstraintHeight(e);return isNaN(r)?i:Math.min(i,r)},z.getStyle=function(e,t){return e.currentStyle?e.currentStyle[t]:document.defaultView.getComputedStyle(e,null).getPropertyValue(t)},z.retinaScale=function(e,t){var n=e.currentDevicePixelRatio=t||"undefined"!=typeof window&&window.devicePixelRatio||1;if(1!==n){var i=e.canvas,r=e.height,a=e.width;i.height=r*n,i.width=a*n,e.ctx.scale(n,n),i.style.height||i.style.width||(i.style.height=r+"px",i.style.width=a+"px")}},z.fontString=function(e,t,n){return t+" "+e+"px "+n},z.longestText=function(e,t,n,i){var r=(i=i||{}).data=i.data||{},a=i.garbageCollect=i.garbageCollect||[];i.font!==t&&(r=i.data={},a=i.garbageCollect=[],i.font=t),e.font=t;var o,s,l,d,u,c=0,h=n.length;for(o=0;o<h;o++)if(null!=(d=n[o])&&!0!==z.isArray(d))c=z.measureText(e,r,a,c,d);else if(z.isArray(d))for(s=0,l=d.length;s<l;s++)null==(u=d[s])||z.isArray(u)||(c=z.measureText(e,r,a,c,u));var f=a.length/2;if(f>n.length){for(o=0;o<f;o++)delete r[a[o]];a.splice(0,f)}return c},z.measureText=function(e,t,n,i,r){var a=t[r];return a||(a=t[r]=e.measureText(r).width,n.push(r)),a>i&&(i=a),i},z.numberOfLabelLines=function(e){var t=1;return z.each(e,(function(e){z.isArray(e)&&e.length>t&&(t=e.length)})),t},z.color=A?function(e){return e instanceof CanvasGradient&&(e=L.global.defaultColor),A(e)}:function(e){return console.error("Color.js not found!"),e},z.getHoverColor=function(e){return e instanceof CanvasPattern||e instanceof CanvasGradient?e:z.color(e).saturate(.5).darken(.1).rgbString()}}(),jt._adapters=Xt,jt.Animation=Y,jt.animationService=X,jt.controllers=je,jt.DatasetController=te,jt.defaults=L,jt.Element=j,jt.elements=be,jt.Interaction=et,jt.layouts=ut,jt.platform=wt,jt.plugins=kt,jt.Scale=cn,jt.scaleService=Ct,jt.Ticks=Qt,jt.Tooltip=Nt,jt.helpers.each(ni,(function(e,t){jt.scaleService.registerScaleType(t,e,e._defaults)})),_i)_i.hasOwnProperty(Ci)&&jt.plugins.register(_i[Ci]);jt.platform.initialize();var Ti=jt;return"undefined"!=typeof window&&(window.Chart=jt),jt.Chart=jt,jt.Legend=_i.legend._element,jt.Title=_i.title._element,jt.pluginService=jt.plugins,jt.PluginBase=jt.Element.extend({}),jt.canvasHelpers=jt.helpers.canvas,jt.layoutService=jt.layouts,jt.LinearScaleBase=pn,jt.helpers.each(["Bar","Bubble","Doughnut","Line","PolarArea","Radar","Scatter"],(function(e){jt[e]=function(t,n){return new jt(t,jt.helpers.merge(n||{},{type:e.charAt(0).toLowerCase()+e.slice(1)}))}})),Ti}));